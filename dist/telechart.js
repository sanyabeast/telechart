/* @sanyabeast | 2019 */
var e,t;e=window,t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var l=function(t){function s(){var e,t,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return a=this,l=(e=r(s)).call.apply(e,[this].concat(f)),t=!l||"object"!==o(l)&&"function"!=typeof l?i(a):l,n.forEach(function(e){c(i(t),new e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,e),s}(),c=function(e,t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(n){if(!n.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length|\$name|\$prototype|\$\$id|extend|\$constructor)$/))try{Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}catch(e){$clog(e)}})};return n.forEach(function(e){c(l.prototype,e.prototype),c(l,e)}),l};n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setMultiple(t)}var t,n,o;return t=e,(n=[{key:"setMultiple",value:function(e){var t=this;m.loopCollection(e,function(e,n){t[n]=e})}},{key:"set",value:function(e,t,n){if("object"==l(e)&&void 0===t)return this.setMultiple(e);"function"==typeof t&&n?m.defineProperty(this,e,{get:t}):this[e]=t}}])&&c(t.prototype,n),o&&c(t,o),e}(),f=n(2);function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.createElement("canvas").getContext("2d");var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"loopCollection",value:function(e,t){if(e)if(Array.isArray(e)||"number"==typeof e.length)for(var n=0,o=e.length;n<o&&!t(e[n],n,e);n++);else for(var r in e)if(t(e[r],r,e))break}},{key:"loop",value:function(e,t,n,o,r){if(o)for(var i=e,a=0;i<t&&!r(i,a);i+=n)a++;else for(i=e,a=0;i<=t&&!r(i,a);i+=n)a++}},{key:"generateRandomString",value:function(e,t){for(var n="";n.length<t;)n+=Math.random().toString(32).substring(3,12);return n=n.substring(0,t),"".concat(e,"-").concat(n)}},{key:"assignValues",value:function(e,t){this.loopCollection(t,function(t,n){e[n]=t})}},{key:"parseHTML",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}},{key:"injectCSS",value:function(e,t){document.querySelector("#telechart-css-".concat(e))?document.querySelector("#telechart-css-".concat(e)).textContent=t:document.querySelector("head").appendChild(this.parseHTML('<style id="telechart-css-'.concat(e,'" type="text/css">').concat(t,"</style>")))}},{key:"generateVarsCSS",value:function(e){var t="";return this.loopCollection(e,function(e,n){t+="--".concat(n,":").concat(e,";\n")}),t=".telechart {".concat(t,"}")}},{key:"generateAttributesSelector",value:function(e){var t="";return this.loopCollection(e,function(e,n){t+="[".concat(n,'="').concat(e,'"]')}),t}},{key:"defineProperty",value:function(e,t,n){Object.defineProperty(e,t,n)}},{key:"proxyMethods",value:function(e,t,n){this.loopCollection(n,function(n,o){e[n]=function(){return t[n].apply(t,arguments)}})}},{key:"proxyProps",value:function(e,t,n){var o=this;this.loopCollection(n,function(n,r){o.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})}},{key:"generateRandomCSSHexColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString("16"))}},{key:"cssHexToRGB",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}},{key:"stringTemplate",value:function(e,t){var n=e;return t&&this.loopCollection(t,function(e,t){var o=new RegExp("[$]{".concat(t,"}"),"gm");o.test(n)&&(n=n.replace(o,e))}),n}},{key:"formatDate",value:function(e,t){var n="".concat(e,"/").concat(t);if(this.$dateFormatCache[n])return this.$dateFormatCache[n];var o=new Date(e),r=o.getUTCDate().toString(),i=o.getDay().toString(),a=(o.getUTCMonth()+1).toString(),s=f.a.l18n["month_".concat(a)],l=f.a.l18n["weekday_".concat(i)];return this.$dateFormatCache[n]=this.stringTemplate(t,{date:r,month:a,monthName:s,weekday:i,weekdayName:l}),this.$dateFormatCache[n]}},{key:"formatValue",value:function(e){var t=e.toString();return e/1e3>=1&&(t="".concat((e/1e3).toString(),"k")),e/1e6>=1&&(t="".concat((e/1e6).toString(),"M")),t}},{key:"throttle",value:function(e,t){e.__throttleTimeoutId&&clearTimeout(e.__throttleTimeoutId),e.__throttleTimeoutId=setTimeout(function(){e()},t)}}],(n=null)&&p(t.prototype,n),o&&p(t,o),e}();d(h,"aggregation",s),d(h,"DataKeeper",u),d(h,"$dateFormatCache",{});var m=t.a=h},function(e,t,n){var o=n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"uniformType","uniform2fv"),a(this,"x",0),a(this,"y",0),this.array=[0,0],this.set(t,n)}var t,n,o;return t=e,(n=[{key:"set",value:function(e,t){if("object"==r(e))return this.set(e.x,e.y);this.array[0]=e,this.array[1]=t,this.x=e,this.y=t}},{key:"valueOf",value:function(){return this.y}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(e){this.set(e[0],e[1])}},{key:"update",value:function(){this.set(this.x,this.y)}}])&&i(t.prototype,n),o&&i(t,o),e}();function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"x",0),c(this,"y",0),c(this,"w",0),c(this,"h",0),this.set(t,n,o,r)}var t,n,o;return t=e,(n=[{key:"set",value:function(e,t,n,o){this.x=e,this.y=t,this.w=n,this.h=o}}])&&l(t.prototype,n),o&&l(t,o),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return p(this,(e=d(t)).call.apply(e,[this].concat(o)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,s),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(){var e,n,o,r,i,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=this,n=!(r=(e=v(t)).call.apply(e,[this].concat(c)))||"object"!==y(r)&&"function"!=typeof r?g(o):r,i=g(n),s="uniform3fv",(a="uniformType")in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,s),n=t,(r=[{key:"set",value:function(e,t,n){return"object"==y(e)?this.set(e.x,e.y):"string"==typeof e?this.setCSSHex(e):(this.array[0]=e,this.array[1]=t,this.array[2]=n,this.x=e,this.y=t,void(this.z=n))}},{key:"valueOf",value:function(){return this.toArray()}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(e){this.set(e[0],e[1],e[2])}},{key:"setCSSHex",value:function(e){if(this.$cssHexString!=e){this.$cssHexString=e;var t=o.a.cssHexToRGB(e);this.set(t.r,t.g,t.b)}}}])&&b(n.prototype,r),i&&b(n,i),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set(t,n)}var t,n,o;return t=e,(n=[{key:"set",value:function(e,t){if("object"==x(e))return this.set(e.min,e.max);this.min=e,this.max=t}},{key:"size",get:function(){return this.max-this.min}},{key:"isFinite",get:function(){return isFinite(this.min)&&isFinite(this.max)}}])&&S(t.prototype,n),o&&S(t,o),e}();function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"uniformType","uniform1f"),C(this,"isSimple",!0),this.set(t)}var t,n,o;return t=e,(n=[{key:"valueOf",value:function(){return this.value}},{key:"set",value:function(e){this.value=e}}])&&O(t.prototype,n),o&&O(t,o),e}();function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"float32",value:function(e){return new P(e)}},{key:"vec2",value:function(e,t){return new m(e,t)}},{key:"color",value:function(e,t,n){return new $(e,t,n)}},{key:"point",value:function(e,t){return new s(e,t)}},{key:"range",value:function(e,t){return new k(e,t)}},{key:"rect",value:function(e,t,n,o){return new u(e,t,n,o)}},{key:"getExtremum",value:function(e){return this.range(Math.min.apply(Math,e),Math.max.apply(Math,e))}},{key:"nearestMult",value:function(e,t,n,o){return(n?Math.ceil((e+(o?0:1))/t)*t:Math.floor((e-(o?0:1))/t)*t)||0}},{key:"getOrder",value:function(e){return e<0?Math.pow(10,1/Math.floor(1/Math.log10(e))):Math.pow(10,Math.floor(Math.log10(e)))}},{key:"smoothstep",value:function(e,t,n){return t+(e-t)*(1-n)}},{key:"getStep",value:function(e,t,n){return 1-(t-n)/(t-e)}},{key:"vec2add",value:function(e,t,n){return e.x=t.x+n.x,e.y=t.y+n.y,e}},{key:"vec2normalize",value:function(e,t){var n=t.x,o=t.y,r=n*n+o*o;return r>0&&(r=1/Math.sqrt(r),e.x=t.x*r,e.y=t.y*r),e}},{key:"vec2subtract",value:function(e,t,n){return e.x=t.x-n.x,e.y=t.y-n.y,e}},{key:"vec2dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"vec2magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"vec2set",value:function(e,t,n){return e.x=t,e.y=n,e}},{key:"vec2normal",value:function(e,t,n){return n?this.vec2set(e,t.y,-t.x):this.vec2set(e,-t.y,t.x),e}},{key:"vec2direction",value:function(e,t,n){return this.vec2subtract(e,t,n),this.vec2normalize(e,e),e}},{key:"nearestPowerOfTwo",value:function(e,t){var n=Math.log2(e);return n=t?Math.ceil(n):Math.floor(n),Math.pow(2,n)}}],(n=null)&&j(t.prototype,n),o&&j(t,o),e}();t.a=E},function(e,t,n){var o=n(1);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};r(i,"isFuckingIOS",/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),r(i,"activeSkin",null),r(i,"plotChunkSize",15),r(i,"DPR",window.devicePixelRatio),r(i,"assets",{html:{},css:{},skins:{},shaders:{}}),r(i,"isTouchDevice","ontouchstart"in window),r(i,"values",{domDoubletapTimeout:250,plotLineDefaultLineWidth:2,plotExtremumTweenDuration:150,plotSeriesVisibilityTweenDuration:150,plotExtremumPadding:.35,plotSelectedPositionCircleRadius:10,plotMinFrameSize:10,gridOrderDivider:2,gridPatternYCaptionsCount:5,gridPatternXCaptionsCount:5}),r(i,"l18n",{month_1:"Jan",month_2:"Feb",month_3:"March",month_4:"Apr",month_5:"May",month_6:"Jun",month_7:"Jul",month_8:"Aug",month_9:"Sep",month_10:"Oct",month_11:"Nov",month_12:"Dec",weekday_0:"Sun",weekday_1:"Mon",weekday_2:"Tue",weekday_3:"Wed",weekday_4:"Thu",weekday_5:"Fri",weekday_6:"Sat"}),r(i,"skinValues",{}),r(i,"glColors",{gridPatternLineColor:o.a.color(1,1,1),gridPatternSelectedValueLineColor:o.a.color(1,1,1)}),t.a=i},function(e,t,n){var o=n(0);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"addTask",value:function(t){var n=o.a.generateRandomString("task",16);return this.$tasks=this.$tasks||{},this.$tasks[n]=t,this.removeTask.bind(e,n)}},{key:"removeTask",value:function(e){delete this.$tasks[e]}},{key:"init",value:function(){this.$state={prevFrameTime:+new Date},this.tick=this.tick.bind(this)}},{key:"start",value:function(){this.stop(),this.init(),this.tick()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.$rafId)}},{key:"tick",value:function(){this.$rafId=window.requestAnimationFrame(this.tick);var e=+new Date,t=e-this.$state.prevFrameTime,n=t/(1e3/60);this.$state.prevFrameTime=e,o.a.loopCollection(this.$tasks,function(e,o){e(n,t)})}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();t.a=i},function(e,t,n){var o=n(3),r=n(1);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a,s,l,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"tween",value:function(e){var t=e.fromValue,n=e.toValue,i=e.duration,a=e.ease||"easeInOutQuad",s=this.$easingFunctions[a],l=e.onUpdate||function(){},c=+new Date,u=o.a.addTask(function(e){var o=(+new Date-c)/i;o>=1&&(o=1,u());var a=r.a.smoothstep(t,n,s(o));l(a,o>=1)});return u}}],(n=null)&&i(t.prototype,n),a&&i(t,a),e}();l={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInBack:function(e){return e*e*(3.5*e-2.5)},easeOutBack:function(e){return--e*e*(3.5*e+2.5)+1}},(s="$easingFunctions")in(a=c)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.a=c},function(e,t,n){n.r(t);var o=n(0),r=n(1),i=n(3);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"on",value:function(t,n){var r=o.a.generateRandomString(t,16);return this.$subscriptions=this.$subscriptions||{},this.$subscriptions[t]=this.$subscriptions[t]||{},this.$subscriptions[t][r]=n,this.off.bind(e,t,r)}},{key:"emit",value:function(e,t){this.$subscriptions&&this.$subscriptions[e]&&o.a.loopCollection(this.$subscriptions[e],function(e){e(t)})}},{key:"off",value:function(e,t){this.$subscriptions&&this.$subscriptions[e]&&this.$subscriptions[e][t]&&delete this.$subscriptions[e][t]}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.UUID=o.a.generateRandomString(this.constructor.name,32),this.$state=new o.a.DataKeeper,this.$modules=new o.a.DataKeeper,this.$temp=new o.a.DataKeeper}return c(e,[{key:"domComponent",get:function(){if(this.$modules)return this.$modules.domComponent||null}},{key:"domElement",get:function(){if(this.domComponent)return this.domComponent.domElement}}]),c(e,[{key:"on",value:function(e,t){s.on("".concat(this.UUID,"/").concat(e),t)}},{key:"emit",value:function(e,t){s.emit("".concat(this.UUID,"/").concat(e),t)}},{key:"clog",value:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).log.apply(e,["%cTelechart:".concat(this.constructor.name,":"),"font-weight:bold; color:#3982c6;"].concat(n))}}]),e}(),f=n(2);function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i="",(r="cssText")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.$name=t.name,this.$values=new o.a.DataKeeper(t.values),this.$updateCSS()}var t,n,r;return t=e,(n=[{key:"$updateCSS",value:function(){this.cssText=o.a.generateVarsCSS(this.$values)}},{key:"apply",value:function(){var e=this;o.a.injectCSS("telechart-skin-vars",this.cssText),o.a.loopCollection(f.a.glColors,function(t,n){e.$values[n]&&t.setCSSHex(e.$values[n])})}}])&&p(t.prototype,n),r&&p(t,r),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g,w,$,x=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=y(t).call(this),(n=!i||"object"!==h(i)&&"function"!=typeof i?b(r):i).$state={normalizedEventData:{prevPanDistance:null},domElement:e.domElement,eventsList:e.eventsList},o.a.loopCollection(e.eventsList,function(e,o){t.eventDetectors[e].call(b(n),n.$state.domElement,function(e){n.emit(e.type,e),n.emit("$event",{type:e.type,payload:e})})}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,u),n=t,(i=[{key:"$normalizeEventData",value:function(e,t,n){var o=n.getBoundingClientRect(),r=t,i=this.$state.normalizedEventData;return i.isGesture=!1,t instanceof window.TouchEvent?i=this.$normalizeTouchEventData(e,t,n):(i.x=(r.pageX-o.x)*f.a.DPR,i.y=(r.pageX-o.y)*f.a.DPR,i.pageX=r.pageX*f.a.DPR,i.pageY=r.pageY*f.a.DPR),i.type=e,i.target=n,this.$state.normalizedEventData.originalEvent=t,this.$state.normalizedEventData}},{key:"$normalizeTouchEventData",value:function(e,t,n){return t.touches.length>1?this.$state.normalizedEventData=this.$normalizeTouchGestureEventData(e,t):1===t.touches.length?this.$state.normalizedEventData=this.$normalizeEventData(e,t.touches[0],n):console.log(1),this.$state.normalizedEventData}},{key:"$normalizeTouchGestureEventData",value:function(e,t){if(this.$state.normalizedEventData.isGesture=!0,this.$state.normalizedEventData.touchesCount=t.touches.length,2==t.touches.length){var n=r.a.getDistance(r.a.point(t.touches[0].pageX,t.touches[0].pageY),r.a.point(t.touches[1].pageX,t.touches[1].pageY));this.$state.normalizedEventData.panDistance=n}return this.$state.normalizedEventData}}])&&m(n.prototype,i),a&&m(n,a),t}();$={click:function(e,t){var n=this;e.addEventListener("click",function(o){o.stopPropagation(),t(n.$normalizeEventData("click",o,e))})},drag:function(e,t){var n,o,r,i=this,a=0,s=0,l=0,c=0,u=!1;f.a.isTouchDevice?(n="touchstart",o="touchend",r="touchmove"):(n="mousedown",o="mouseup",r="mousemove"),e.addEventListener(n,function(t){t.stopPropagation(),t=i.$normalizeEventData("drag",t,e),a=t.pageX,s=t.pageY,u=!0}),window.addEventListener(o,function(e){u=!1}),window.addEventListener(r,function(n){u&&(n.stopPropagation(),n=i.$normalizeEventData("drag",n,e),l=n.pageX-a,c=n.pageY-s,Math.abs(l)>Math.abs(c)&&n.originalEvent.preventDefault(),a=n.pageX,s=n.pageY,n.dragX=l,n.dragY=c,t(n))},{passive:!1})}},(w="eventDetectors")in(g=x)?Object.defineProperty(g,w,{value:$,enumerable:!0,configurable:!0,writable:!0}):g[w]=$;var S=x;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,C(t).call(this))).$refs={},n.$dom={},n.$children=[],n.$state={template:e.template,eventHandlers:[]};var r=f.a.assets.html[e.template];return n.$dom.element=n.$buildTemplate(r,e),e.classList&&o.a.loopCollection(e.classList,function(e){n.$dom.element.classList.add(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,u),j(t,[{key:"domElement",get:function(){return this.$dom.element}},{key:"classList",get:function(){return this.domElement.classList}}]),j(t,[{key:"ref",value:function(e){return this.$refs[e]}},{key:"addChild",value:function(e,t){this.$refs[e].appendChild(t)}},{key:"$buildTemplate",value:function(e,t){var n=this,r=o.a.parseHTML(e,t);return this.$traverseDOM(r,function(e,o){n.$processAttrs(e,o,t)},null),r}},{key:"$traverseDOM",value:function(e,t,n){var r=this;t(e,n),o.a.loopCollection(e.children,function(e,n){r.$traverseDOM(e,t,e.parentNode)})}},{key:"$processAttrs",value:function(e,t,n){var r=this;o.a.loopCollection(e.attributes,function(t,n){switch(t.name){case"$ref":r.$refs[t.value]=e,e.$ref=t.value;break;case"$css":o.a.loopCollection(t.value.split(" "),function(e,t){o.a.injectCSS(e,f.a.assets.css[e])});break;case"$events":var i=new S({domElement:e,eventsList:t.value.split(" ")});i.on("$event",function(t){var n=e.$ref||"";r.emit("".concat(n,".").concat(t.type),t.payload)}),r.$state.eventHandlers.push(i)}})}}]),t}();function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}var R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vertices=t.vertices,this.buffer=t.buffer}return D(e,null,[{key:"setValue",value:function(e,t,n){for(var r=n*t,i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];o.a.loopCollection(a,function(t,n){e[r+n]=t})}}]),D(e,[{key:"setValue",value:function(t,n){for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];e.setValue.apply(e,[this.vertices,t].concat(r))}}]),e}();function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=new o.a.DataKeeper({geometryInited:!1,indicesInitialized:!1}),this.$temp=new o.a.DataKeeper,this.attributes=new o.a.DataKeeper,t&&t.attributes&&this.setAttributesData(t.attributes)}return z(e,[{key:"geometryInited",get:function(){return this.$state.geometryInited}},{key:"indicesCount",get:function(){return this.$state.indices.length}}]),z(e,[{key:"setAttributesData",value:function(e){this.$state.attributesData=e}},{key:"init",value:function(e,t,n){var r=this;this.$state.geometryInited=!0,o.a.loopCollection(this.$state.attributesData,function(n,o){r.$addAttribute(e,t,o,n)}),this.$state.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.$state.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.$state.indices),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},{key:"$addAttribute",value:function(e,t,n,o){this.$state.indicesInitialized||this.$generateIndices(o.length/2),this.attributes[n]=new R({vertices:o,buffer:t.createBuffer()}),t.bindBuffer(t.ARRAY_BUFFER,this.attributes[n].buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}},{key:"$generateIndices",value:function(e){var t=[];o.a.loop(0,e,1,!0,function(e){t[e]=e}),this.$state.indicesInitialized=!0,this.$state.indices=t}},{key:"bind",value:function(e,t,n){var r=this;o.a.loopCollection(this.attributes,function(e,o){var i=e.buffer;t.bindBuffer(t.ARRAY_BUFFER,i),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.$state.indexBuffer);var a=t.getAttribLocation(n,o);a>-1&&(t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a))})}}]),e}();function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var F=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=n,this.name=t,this.shaderProgram=this.shaderProgram,this.type=i.uniformType,this.value=i,this.$state=new o.a.DataKeeper({loc:n.getUniformLocation(r,t)})}var t,n,r;return t=e,(n=[{key:"update",value:function(){this.value.isSimple?this.gl[this.type](this.$state.loc,this.value.valueOf()):this.gl[this.type](this.$state.loc,this.value.toArray())}}])&&V(t.prototype,n),r&&V(t,r),e}();function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=new o.a.DataKeeper({uniformsData:t.uniforms,materialInited:!1,uniformsInited:!1,vertexShaderCode:f.a.assets.shaders[t.vertexShader],fragmentShaderCode:f.a.assets.shaders[t.fragmentShader]}),this.uniforms=new o.a.DataKeeper}return B(e,[{key:"materialInited",get:function(){return this.$state.materialInited}},{key:"program",get:function(){return this.$state.shaderProgram}}]),B(e,[{key:"init",value:function(e,t){this.$state.materialInited=!0,this.$state.fragmentShader=this.$compileShader(e,t,"fragment",this.$state.fragmentShaderCode),this.$state.vertexShader=this.$compileShader(e,t,"vertex",this.$state.vertexShaderCode);var n=this.$state.shaderProgram=t.createProgram();t.attachShader(n,this.$state.vertexShader),t.attachShader(n,this.$state.fragmentShader),this.$linkProgram(t),this.$initUniforms(e,t)}},{key:"$compileShader",value:function(e,t,n,r){var i=t.createShader("vertex"==n?t.VERTEX_SHADER:t.FRAGMENT_SHADER);return t.shaderSource(i,o.a.stringTemplate(r,{maxShaderPrecision:e.maxShaderPrecision})),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)||console.log("Shader compilation failed: ".concat(t.getShaderInfoLog(i)," ")),i}},{key:"$initUniforms",value:function(e,t){this.addMultipleUniforms(t,this.$state.uniformsData),this.addMultipleUniforms(t,{position:r.a.vec2(0,0),worldPosition:r.a.vec2(0,0),worldScale:r.a.vec2(0,0),viewportSize:r.a.vec2(0,0),resolution:r.a.float32(1),opacity:r.a.float32(1)})}},{key:"$linkProgram",value:function(e){e.linkProgram(this.$state.shaderProgram)}},{key:"addMultipleUniforms",value:function(e,t){var n=this;o.a.loopCollection(t,function(t,o){n.addUniform(o,e,n.$state.shaderProgram,t)})}},{key:"addUniform",value:function(e,t,n,o){this.uniforms[e]=new F(e,t,n,o)}},{key:"updateUniforms",value:function(e){var t=this;e&&o.a.loopCollection(e,function(e,n){t.uniforms[n].value.set(e)}),o.a.loopCollection(this.uniforms,function(e,t){e.update()})}}]),e}();function X(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,"parentNode",null),this.children=[],this.UUID=o.a.generateRandomString("rendering-object-".concat(this.constructor.name),16),this.$data={},this.$temp={},this.$params={},this.$state={position:r.a.vec2(0,0),boundRect:r.a.rect(0,0,0,0),culled:!0,projectionCulled:!0,visible:!0,opacity:r.a.float32(1)},this.$setupHiddenDOM(),t&&(this.defaultParams?this.setParams(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){N(e,t,n[t])})}return e}({},this.defaultParams,{params:t})):this.setParams(t)),o.a.proxyProps(this,this.$state,["culled","projectionCulled","position","visible","opacity"])}var t,n,i;return t=e,(n=[{key:"getBoundRect",value:function(){return this.$state.boundRect}},{key:"setAttributes",value:function(e){var t=this;o.a.loopCollection(e,function(e,n){t.$hiddenDOM.setAttribute(n,e)})}},{key:"setStyles",value:function(e){}},{key:"setParams",value:function(e){var t=this;o.a.loopCollection(e,function(e,n){"styles"==n?t.setStyles(e):"attributes"==n?t.setAttributes(e):t.$params[n]=void 0!==e?e:t.$params.name})}},{key:"addChild",value:function(e){this.children.push(e),e.parentNode=this,this.$hiddenDOM.appendChild(e.$hiddenDOM)}},{key:"removeChild",value:function(e){var t=this;o.a.loopCollection(this.children,function(n,o){if(e.UUID==n.UUID)return t.$hiddenDOM.removeChild(e.$hiddenDOM),e.parentNode=null,t.children.splice(o,1),!0})}},{key:"render",value:function(e,t,n,r,i){i*=this.opacity,n+=this.$state.position.x,r+=this.$state.position.y,o.a.loopCollection(this.children,function(o,a){o.visible&&o.render(e,t,n,r,i)})}},{key:"select",value:function(e,t){var n=X(this.$hiddenDOM.querySelectorAll(o.a.generateAttributesSelector(e)));return o.a.loopCollection(n,function(e,o){t&&t(e.$renderingObject,o),n[o]=e.$renderingObject}),n}},{key:"$setupHiddenDOM",value:function(){this.$hiddenDOM=document.createElement(this.constructor.name),this.$hiddenDOM.$renderingObject=this,this.$hiddenDOM.setAttribute("type",this.constructor.name)}}])&&I(t.prototype,n),i&&I(t,i),e}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(i=Q(t).call(this,e))||"object"!==G(i)&&"function"!=typeof i?K(r):i,o.a.proxyProps(K(n),n.$params,["material","geometry"]),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,Y),n=t,(r=[{key:"render",value:function(e,n,o,r,i){q(Q(t.prototype),"render",this).call(this,e,n,o,r,i),i*=this.opacity;var a=this.material.uniforms;o+=this.position.x,r+=this.position.y,this.material.materialInited||this.material.init(e,n),this.geometry.geometryInited||this.geometry.init(e,n,this.material.program),n.useProgram(this.material.program),this.geometry.bind(e,n,this.material.program),a.position.value.set(o,r),this.material.updateUniforms({worldPosition:e.worldPosition,worldScale:e.worldScale,viewportSize:e.size,resolution:f.a.DPR,opacity:i}),n.drawElements(n.TRIANGLES,this.geometry.indicesCount,n.UNSIGNED_SHORT,0)}}])&&H(n.prototype,r),i&&H(n,i),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function re(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ee(e,t,n[t])})}return e}({scale:r.a.vec2(1,1),size:r.a.vec2(1,1),applyScaleX:!1,applyScaleY:!1,applySizeX:!1,applySizeY:!1,applyPosX:!0,applyPosY:!0},e)))).$temp={prevEngine:null,prevGl:null,prevPx:0,prevPy:0},n.$state.culled=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,Y),re(t,[{key:"scale",get:function(){return this.$params.scale}},{key:"size",get:function(){return this.$params.size}},{key:"soloRenderingAvailable",get:function(){return!!this.$temp.prevEngine}}]),re(t,[{key:"setStyles",value:function(e,t){o.a.assignValues((t||this.$params.domElement).style,e)}},{key:"setStyle",value:function(e,t){this.$params.domElement.style[e]=t}},{key:"render",value:function(e,t,n,o){if(!e){if(!this.soloRenderingAvailable)return;e=this.$temp.prevEngine,t=this.$temp.prevGl,n=this.$temp.prevPx,o=this.$temp.prevPy}var r=f.a.DPR;this.$temp.prevEngine=e,this.$temp.prevGl=t,this.$temp.prevPx=n,this.$temp.prevPy=o,n+=this.$state.position.x,o+=this.$state.position.y;var i=e.toReal(n,o),a=e.toRealScale(this.$params.scale.x,this.$params.scale.y),s=e.toRealScale(this.$params.size.x,this.$params.size.y),l=this.$params.applyScaleX,c=this.$params.applyScaleY,u=this.$params.applySizeX,p=this.$params.applySizeY,d=this.$params.applyPosX,h=this.$params.applyPosY;this.setStyle("transform","translate(".concat(d?i.x/r:0,"px, ").concat(h?i.y/r:0,"px) scale(").concat(l?a.x/r:1,", ").concat(c?a.y/r:1,")")),u&&this.setStyle("width","".concat(s.x/r,"px")),p&&this.setStyle("height","".concat(s.y/r,"px"))}}]),t}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,ce(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,Y),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=he(this,me(t).call(this,e))).$temp.setMultiple({direction:r.a.vec2(0,0),negNormal:r.a.vec2(0,0),posNormal:r.a.vec2(0,0)}),e.points&&n.setAttributesData(n.$generateLineGeometry(e.points)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,A),n=t,(i=[{key:"$generateLineGeometry",value:function(e){var t=this,n=[],i=[],a=0,s=R.setValue;return o.a.loopCollection(e,function(o,l){var c=l<e.length-2?e[l+1]:e[l-1],u=r.a.vec2direction(t.$temp.direction,o,c),f=r.a.vec2normal(t.$temp.negNormal,u,!1),p=r.a.vec2normal(t.$temp.posNormal,u,!0);s(n,2,a,o.x,o.y),s(i,2,a++,f.x,f.y),s(n,2,a,c.x,c.y),s(i,2,a++,f.x,f.y),s(n,2,a,o.x,o.y),s(i,2,a++,p.x,p.y),s(n,2,a,o.x,o.y),s(i,2,a++,p.x,p.y),s(n,2,a,c.x,c.y),s(i,2,a++,f.x,f.y),s(n,2,a,c.x,c.y),s(i,2,a++,p.x,p.y)}),{coords:n,normal:i}}}])&&de(n.prototype,i),a&&de(n,a),t}();function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,$e(t).call(this,e))).$params.material=new U({fragmentShader:"frag.default",vertexShader:"vert.line2d",uniforms:e.uniforms}),e.points&&n.setPoints(e.points),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,J),n=t,(o=[{key:"setPoints",value:function(e){this.$data.points=e;var t=r.a.getExtremum(e);this.$state.boundRect.set(e[0].x,t.min,e[e.length-1].x-this.$state.boundRect.x,t.size),this.geometry=new be({points:e})}}])&&ge(n.prototype,o),i&&ge(n,i),t}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ce(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ce(this,Pe(t).call(this,e))).$temp.setMultiple({direction:r.a.vec2(0,0),negNormal:r.a.vec2(0,0),posNormal:r.a.vec2(0,0)}),n.setAttributesData(n.$generateRectGeometry(e.width||1,e.height||1)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,A),n=t,(o=[{key:"$generateRectGeometry",value:function(e,t){return{coords:[0,0,0,t,e,0,e,0,0,t,e,t]}}}])&&Oe(n.prototype,o),i&&Oe(n,i),t}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t,n){return(De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ze(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=Re(t).call(this))||"object"!==_e(i)&&"function"!=typeof i?Te(n):i).$modules={canvas:new _({template:"canvas-element"})},e.$dom={canvasElement:e.$modules.canvas.domElement},e.$state={gl:e.$dom.canvasElement.getContext("webgl"),size:r.a.vec2(1,1),position:r.a.vec2(0,0),scale:r.a.vec2(1,1),viewport:r.a.rect(0,0,1,1),worldPosition:r.a.vec2(0,0),worldScale:r.a.vec2(1,1),projectionModified:!0,sizeNeedsUpdate:!0,maxShaderPrecision:"mediump"};var a=e.$state.gl;return a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),a.enable(a.BLEND),a.disable(a.DEPTH_TEST),e.$detectMaxFloatPrecision(),o.a.proxyProps(Te(e),e.$state,["position","scale","viewport","size","worldScale","worldPosition","maxShaderPrecision"]),e.render=e.render.bind(Te(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,o["a"].aggregation(u,Y)),ze(t,[{key:"domElement",get:function(){return this.$dom.canvasElement}}]),ze(t,[{key:"setSize",value:function(e,t){e*=f.a.DPR,t*=f.a.DPR,this.$state.size.x===e&&this.$state.size.y===t||e&&t&&(this.$dom.canvasElement.width=e,this.$dom.canvasElement.height=t,this.$state.size.set(e,t),this.$state.gl.viewport(0,0,e,t),this.updateProjection())}},{key:"setScale",value:function(e,t){this.$state.viewport.w=this.$state.size.x*e,this.$state.viewport.h=this.$state.size.y*t,this.updateProjection()}},{key:"setPosition",value:function(e,t){t="number"==typeof t?t:this.$state.position.y,this.$state.position.set(e,t),this.updateProjection()}},{key:"setViewport",value:function(e,t,n,o){var r=this.$state.viewport;r.set(e,t,n,o),this.$state.position.set(r.x,r.y),this.emit("viewport.updated",r),this.updateProjection()}},{key:"fitSize",value:function(){if(this.domElement.parentNode){var e=this.domElement.parentElement.getBoundingClientRect();this.setSize(e.width,e.height)}}},{key:"updateProjection",value:function(){var e=this.$state.viewport,t=this.$state.position,n=this.$state.worldPosition,o=this.$state.worldScale,r=this.$state.size,i=this.$state.scale;i.set(e.w/r.x,e.h/r.y),e.x=t.x,e.y=t.y,n.set(e.x,e.y),o.set(i.x/2,i.y/2),this.$state.projectionModified=!0,this.emit("projection.updated",e)}},{key:"toReal",value:function(e,t){return r.a.point(Math.round((e-this.position.x)/this.scale.x),Math.round(this.size.y-(t-this.position.y)/this.scale.y))}},{key:"toRealScale",value:function(e,t){return r.a.point(Math.round(e/this.scale.x),Math.round(t/this.scale.y))}},{key:"toVirtual",value:function(e,t){return r.a.point(e*this.scale.x+this.position.x,(this.size.y-t)*this.scale.y+this.position.y)}},{key:"toVirtualScale",value:function(e,t){return r.a.point(e*this.scale.x,t*this.scale.y)}},{key:"render",value:function(e){this.fitSize(),(this.$state.projectionModified||!0===e)&&(this.$state.projectionModified=!1,De(Re(t.prototype),"render",this).call(this,this,this.$state.gl,-this.$state.position.x,-this.$state.position.y,1))}},{key:"updateValue",value:function(e){this.value=e||this.value}},{key:"$detectMaxFloatPrecision",value:function(){var e=this.$state.gl,t="lowp";o.a.loopCollection({LOW_FLOAT:"lowp",MEDIUM_FLOAT:"mediump",HIGH_FLOAT:"highp"},function(n,o){var r=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e[o]),i=e.getShaderPrecisionFormat(e.VERTEX_SHADER,e[o]);r&&i&&r.precision&&i.precision&&(t=n)}),this.clog("Max shader float precision format: ".concat(t)),this.$state.maxShaderPrecision=t}}]),t}();Ve(Fe,"Geometry",A),Ve(Fe,"Material",U),Ve(Fe,"Mesh",J),Ve(Fe,"RenderingObject",Y),Ve(Fe,"Uniform",F),Ve(Fe,"DOMElement",ae),Ve(Fe,"Group",fe),Ve(Fe,"Line",Se),Ve(Fe,"RectGeometry",Ee);var Le=Fe,Be=n(4);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Ie(e,t,n[t])})}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=Ne(t).call(this))||"object"!==Ue(a)&&"function"!=typeof a?Ye(i):a).$state.set({extremum:r.a.range(0,0),series:new o.a.DataKeeper}),n.$modules.set({renderingEngine:new Le,domComponent:new _(Xe({template:"plot"},e))}),o.a.proxyMethods(Ye(n),n.$modules.renderingEngine,["toVirtual","toVirtualScale","setViewport","fitSize","setPosition","setScale"]),n.$modules.domComponent.addChild("canvas-wrapper",n.$modules.renderingEngine.domElement),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,u),He(t,[{key:"position",get:function(){return this.$modules.renderingEngine.position}},{key:"scale",get:function(){return this.$modules.renderingEngine.scale}},{key:"viewport",get:function(){return this.$modules.renderingEngine.viewport}}]),He(t,[{key:"addSeries",value:function(e){this.$state.beginTime=e.series.beginTime,this.$state.finishTime=e.series.finishTime,this.$state.accuracy=e.series.accuracy;var t=new Le.Line({points:e.points,attributes:{"content-type":"series","series-type":e.series.type,"series-name":e.series.name,"series-id":e.series.id},uniforms:{thickness:r.a.float32(f.a.values.plotLineDefaultLineWidth),diffuse:r.a.color(e.series.color)}});this.setViewport(e.series.beginTime,e.extremum.min,e.series.finishTime-e.series.beginTime,e.extremum.max-e.extremum.min),this.setPosition(e.series.beginTime),this.$modules.renderingEngine.addChild(t),this.$state.series.set(e.series.id,e)}},{key:"startRendering",value:function(){this.stopRendering(),this.stopRendering=i.a.addTask(this.$modules.renderingEngine.render)}},{key:"render",value:function(e){this.$modules.renderingEngine.render(e)}},{key:"stopRendering",value:function(){}},{key:"setExtremum",value:function(e,t,n){var o=this;if(!e.isFinite)return!1;if(e.min==this.$state.extremum.min&&this.$state.extremum.max==e.max)return!1;e.min=0,this.$temp.killExtremumTween&&(this.$temp.killExtremumTween(),delete this.$temp.killExtremumTween),this.$state.extremum.set(e),e=this.$processExtremum(e);var i=this.$modules.renderingEngine.viewport,a=i.y,s=i.h;return t?this.$temp.killExtremumTween=Be.a.tween({fromValue:0,toValue:1,duration:f.a.values.plotExtremumTweenDuration,ease:"easeOutQuad",onUpdate:function(t,n){o.$modules.renderingEngine.position.y=r.a.smoothstep(a,e.min,t),o.$modules.renderingEngine.viewport.h=r.a.smoothstep(s,e.size,t),o.$modules.renderingEngine.updateProjection(),n&&o.$temp.killExtremumTween()}}):this.$modules.renderingEngine.setViewport(i.x,e.min,i.w,e.size),!0}},{key:"$processExtremum",value:function(e){var t=r.a.getOrder(e.size)/f.a.values.gridOrderDivider;return e.max=r.a.nearestMult(e.max,t,!0,!0),e}},{key:"setSeriesVisibility",value:function(e,t){var n=this;this.$state.series[e].visible=t,this.$modules.renderingEngine.select({"content-type":"series","series-id":e},function(e){t&&(e.visible=t),Be.a.tween({fromValue:e.opacity.value,toValue:t?1:0,duration:f.a.values.plotSeriesVisibilityTweenDuration,ease:t?"easeInQuad":"easeOutQuad",onUpdate:function(o,r){e.opacity.value=o,n.$modules.renderingEngine.updateProjection(),r&&!t&&(e.isVisible=t)}})})}}]),t}();function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function et(e,t,n){return t&&Ze(e.prototype,t),n&&Ze(e,n),e}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=We(t).call(this))||"object"!==Qe(i)&&"function"!=typeof i?Je(n):i).$state.series=new o.a.DataKeeper,e.$state.seriesValuesContainers=new o.a.DataKeeper,e.$state.position=r.a.point(0,0),e.$state.visible=!0,e.$modules.setMultiple({domComponent:new _({template:"selected-values-banner"})}),e.$modules.renderingObject=new Le.DOMElement({domElement:e.$modules.domComponent.domElement,applyScaleY:!1,applyScaleX:!1,applyPosY:!1,applyPosX:!0}),e.$modules.renderingObjectLine=new Le.Mesh({geometry:new Le.RectGeometry({width:2,height:1}),material:new Le.Material({vertexShader:"vert.grid-line-x",fragmentShader:"frag.default",uniforms:{diffuse:f.a.glColors.gridPatternSelectedValueLineColor,selectedPosition:e.$state.position}})}),e.$modules.domComponent.on("banner.click",e.$onBannerClick.bind(Je(e))),e.updateBannerAlign=e.updateBannerAlign.bind(Je(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,u),et(t,[{key:"renderingObject",get:function(){return this.$modules.renderingObject}},{key:"renderingObjectLine",get:function(){return this.$modules.renderingObjectLine}}]),et(t,[{key:"setPosition",value:function(e,t){this.renderingObject.position.x=e,this.renderingObject.position.y=t,this.$state.position.set(e,t),this.setBannerVisibility(!0),o.a.throttle(this.updateBannerAlign,50)}},{key:"updateSeriesValuesVisibility",value:function(){var e=this;o.a.loopCollection(this.$state.seriesValuesContainers,function(t,n){e.$state.series&&e.$state.series[n]&&e.$state.series[n].visible?t.classList.remove("hidden"):t.classList.add("hidden")})}},{key:"setSeries",value:function(e){this.$state.series[e.series.id]=e,this.$addSeriesValueContainer(e)}},{key:"setSeriesValues",value:function(e){var t=this,n=0,r=0;o.a.loopCollection(e,function(e,i){n=e.x,t.$modules.domComponent.ref("date-value").textContent=o.a.formatDate(e.x,"${weekdayName}, ${monthName} ${date}"),e.y>r&&(r=e.y),t.$state.seriesValuesContainers[i].ref("value").textContent=0|e.y}),this.setPosition(n,r)}},{key:"$addSeriesValueContainer",value:function(e){var t=new _({template:"selected-values-banner-value"});t.ref("caption").textContent=e.series.name,o.a.assignValues(t.ref("caption").style,{color:e.series.color}),o.a.assignValues(t.ref("value").style,{color:e.series.color}),this.$modules.domComponent.addChild("series-values-wrapper",t.domElement),this.$state.seriesValuesContainers[e.series.id]=t}},{key:"updateBannerAlign",value:function(){var e=this.$modules.domComponent.domElement.parentNode,t=this.$modules.domComponent.domElement,n=e.getBoundingClientRect();t.getBoundingClientRect().right>n.right?(t.classList.remove("align-right"),t.classList.add("align-left")):(t.classList.add("align-right"),t.classList.remove("align-left"))}},{key:"setBannerVisibility",value:function(e){e?this.$modules.domComponent.classList.remove("hidden"):this.$modules.domComponent.classList.add("hidden"),this.$state.visible=e}},{key:"$onBannerClick",value:function(e){e.originalEvent.stopPropagation(),this.setBannerVisibility(!this.$state.visible)}}]),t}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t,n){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=st(t).call(this,e),(n=!i||"object"!==ot(i)&&"function"!=typeof i?it(r):i).$temp.circlesRenderingObjects={},n.$temp.prevScaleX=-1,n.$modules.selectedValuesBannerController=new nt,n.$modules.domComponent.addChild("dom-layer",n.$modules.selectedValuesBannerController.domElement),n.$modules.renderingEngine.addChild(n.$modules.selectedValuesBannerController.renderingObject),n.$modules.renderingEngine.addChild(n.$modules.selectedValuesBannerController.renderingObjectLine),n.$setupGrid(),n.$modules.domComponent.on("dom.drag",n.$onUserDrag.bind(it(n))),n.$modules.domComponent.on("dom.click",n.$onUserClick.bind(it(n))),n.$modules.domComponent.on("dom.pan",n.$onUserPan.bind(it(n))),n.$updateGridCaptionsX=n.$updateGridCaptionsX.bind(it(n)),n.$modules.renderingEngine.on("projection.updated",function(e){o.a.throttle(n.$modules.selectedValuesBannerController.updateBannerAlign,25),n.$updateGridCaptionsX()}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,qe),n=t,(i=[{key:"addSeries",value:function(e){at(st(t.prototype),"addSeries",this).call(this,e),this.$modules.selectedValuesBannerController.setSeries(e)}},{key:"$setupGrid",value:function(){var e=this;this.$state.gridState=new o.a.DataKeeper({steps:r.a.vec2(20,1e6)}),this.$temp.gridLineMeshes=[],o.a.loop(0,f.a.values.gridPatternXCaptionsCount,1,!0,function(t){var n=new Le.Material({vertexShader:"vert.grid-line-y",fragmentShader:"frag.default",uniforms:{gridSteps:e.$state.gridState.steps,diffuse:f.a.glColors.gridPatternLineColor,lineIndex:r.a.float32(t),opacity:r.a.float32(.5)}}),o=new Le.RectGeometry({width:1,height:1}),i=new Le.Mesh({geometry:o,material:n});e.$temp.gridLineMeshes[t]=i,e.$modules.renderingEngine.addChild(i)}),this.$setupGridCaptions()}},{key:"$updateGridCaptionsX",value:function(){var e=this.$modules.renderingEngine.viewport,t=this.$modules.renderingEngine.scale,n=e.w,i=this.$state.accuracy,a=(r.a.getOrder(n),Math.ceil(n/i/(f.a.values.gridPatternXCaptionsCount+1)));a=r.a.nearestPowerOfTwo(a,!0);var s=r.a.nearestMult(i,i*a*2,!0,!0),l=e.x,c=r.a.nearestMult(l-s,s,!1,!0);this.$temp.prevScaleX=t.x,o.a.loopCollection(this.$temp.gridCaptionsX,function(e,t){var n=c+t*s;e.object.position.x=n,e.object.render(),e.value!==n&&(e.value=n,e.component.ref("caption").textContent=o.a.formatDate(n,"${monthName} ${date}"))})}},{key:"$updateGridCaptionsY",value:function(e){var t=this.$state.gridState.steps.y,n=this.$modules.renderingEngine.viewport.y,i=r.a.nearestMult(n-t,t,!1,!0);o.a.loopCollection(this.$temp.gridCaptionsY,function(e,n){var r=i+n*t;e.object.position.y=r,e.object.render(),e.value!==r&&(r<0?e.component.classList.add("hidden"):(e.value=r,e.component.ref("caption").textContent=o.a.formatValue(r)))})}},{key:"$setupGridCaptions",value:function(){var e=this;this.$temp.gridCaptionsX={},this.$temp.gridCaptionsY={},o.a.loop(0,f.a.values.gridPatternXCaptionsCount,1,!0,function(t){var n=new _({template:"grid-caption",classList:["time"]}),o=new Le.DOMElement({domElement:n.domElement,domComponent:n,applyScaleY:!1,applyScaleX:!1,applyPosY:!1,applyPosX:!0});e.$modules.domComponent.addChild("dom-layer",n.domElement),e.$temp.gridCaptionsX[t]={component:n,object:o},e.$modules.renderingEngine.addChild(o)}),o.a.loop(0,f.a.values.gridPatternYCaptionsCount,1,!0,function(t){var n=new _({template:"grid-caption",classList:["value"]}),o=new Le.DOMElement({domElement:n.domElement,domComponent:n,applyScaleY:!1,applyScaleX:!1,applyPosY:!0,applyPosX:!1});e.$modules.domComponent.addChild("dom-layer",n.domElement),e.$temp.gridCaptionsY[t]={component:n,object:o},e.$modules.renderingEngine.addChild(o)})}},{key:"setExtremum",value:function(e,n){var o=this;if(at(st(t.prototype),"setExtremum",this).call(this,e,n)){var i=r.a.getOrder(e.size),a=(f.a.values.gridOrderDifder,Math.ceil(e.size/i/(f.a.values.gridPatternYCaptionsCount-1)));this.$state.gridState.steps.y=i*a,this.$state.gridState.steps.update(),setTimeout(function(){o.$updateGridCaptionsY()},0)}}},{key:"setSeriesVisibility",value:function(e,n){at(st(t.prototype),"setSeriesVisibility",this).call(this,e,n),this.$updateSelectedPositionCirclesVisibility()}},{key:"$updateSelectedPositionCirclesVisibility",value:function(){var e=this;this.$modules.selectedValuesBannerController.updateSeriesValuesVisibility(),o.a.loopCollection(this.$temp.circlesRenderingObjects,function(t,n){e.$state.series&&e.$state.series[n]&&e.$state.series[n].visible?t.$params.domComponent.classList.remove("hidden"):t.$params.domComponent.classList.add("hidden")})}},{key:"$onUserDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtual(e.x,e.y);this.emit("user.position.select",t)}},{key:"$onUserClick",value:function(e){var t=this.$modules.renderingEngine.toVirtual(e.x,e.y);this.emit("user.position.select",t)}},{key:"$onUserPan",value:function(e){if(e.panDelta>0){var t=this.$modules.renderingEngine.scale;this.$modules.renderingEngine.setScale(t.x*e.panDelta,t.y)}}},{key:"setSelectedPositionValues",value:function(e){var t=this;o.a.loopCollection(e,function(e,n){var o=t.$temp.circlesRenderingObjects[n];if(!o){var r=new _({template:"selected-position-circle"});(o=new Le.DOMElement({domElement:r.domElement,domComponent:r,applyScaleY:!1,applyScaleX:!1,applyPosY:!0,applyPosX:!0})).setStyles({borderColor:t.$state.series[n].series.color,width:"".concat(f.a.values.plotSelectedPositionCircleRadius,"px"),height:"".concat(f.a.values.plotSelectedPositionCircleRadius,"px")},r.ref("inner")),t.$modules.domComponent.addChild("dom-layer",r.domElement),t.$modules.renderingEngine.addChild(o),t.$temp.circlesRenderingObjects[n]=o}o.position.set(e),o.soloRenderingAvailable?(o.render(),t.$modules.renderingEngine.updateProjection()):t.$modules.renderingEngine.updateProjection(),t.$updateSelectedPositionCirclesVisibility()}),this.$modules.selectedValuesBannerController.setSeriesValues(e)}}])&&rt(n.prototype,i),a&&rt(n,a),t}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,t,n){return(dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(e){var n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=ht(t).call(this,e))||"object"!==ut(a)&&"function"!=typeof a?pt(i):a).$state.beginTime=0,n.$state.frameViewportRect=r.a.rect(0,0,0,0);var s=n.$modules.frameControlComponent=new _({template:"frame-control"});return n.$modules.domComponent.addChild("dom-layer",n.$modules.frameControlComponent.domElement),s.on("frame-control.filler.left.drag",n.$onFrameControlLeftFillerDrag.bind(pt(n))),s.on("frame-control.filler.right.drag",n.$onFrameControlRightFillerDrag.bind(pt(n))),s.on("frame-control.frame.drag",n.$onFrameControlFrameDrag.bind(pt(n))),n.$modules.frameControlsRenderingObject=new Le.DOMElement({domElement:s.ref("frame-control.frame"),applyPosX:!0,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsLeftFillerRenderingObject=new Le.DOMElement({domElement:s.ref("frame-control.filler.left"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsRightFillerRenderingObject=new Le.DOMElement({domElement:s.ref("frame-control.filler.right"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsLeftFillerRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRightFillerRenderingObject),o.a.proxyProps(pt(n),n.$state,["frameViewportRect"]),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,qe),n=t,(i=[{key:"setFramePosition",value:function(e){var t=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,o=this.$state.beginTime,r=this.$state.finishTime;e<o&&(e=o),e+n.w>r&&(e=r-n.w),n.x=e,t.position.x=e,t.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"setFrameSize",value:function(e){var t=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,o=(this.$state.beginTime,this.$state.finishTime,this.$state.accuracy);e<o&&(e=o),n.x+e>this.$state.finishTime&&(e=this.$state.finishTime-n.x),n.w=e,t.size.x=e,t.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"$updateFillers",value:function(){var e=this.$modules.frameControlsLeftFillerRenderingObject,t=this.$modules.frameControlsRightFillerRenderingObject,n=this.$state.frameViewportRect,o=this.$state.beginTime,r=this.$state.finishTime;this.$state.accuracy;e.size.x=n.x-o,t.size.x=r-(n.x+n.w),t.render(),e.render()}},{key:"$onFrameControlLeftFillerDrag",value:function(e){var t=this.$state.frameViewportRect,n=this.$state.accuracy,o=this.$state.beginTime,r=(this.$state.finishTime,this.$modules.renderingEngine.toVirtualScale(e.dragX,0)),i=t.x+r.x,a=t.w-r.x,s=this.$modules.frameControlsRenderingObject;i<o||a<n*f.a.values.plotMinFrameSize||(t.w=a,t.x=i,s.position.x=i,s.size.x=a,s.render(),this.$updateFillers(),this.emit("frame.viewport.changed",t))}},{key:"$onFrameControlRightFillerDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtualScale(e.dragX,0),n=this.$state.accuracy;this.$state.frameViewportRect.w+t.x>=n*f.a.values.plotMinFrameSize&&this.setFrameSize(this.$state.frameViewportRect.w+t.x)}},{key:"$onFrameControlFrameDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtualScale(e.dragX,0);this.setFramePosition(this.$state.frameViewportRect.x+t.x)}},{key:"addSeries",value:function(e){dt(ht(t.prototype),"addSeries",this).call(this,e),this.setFrameSize((e.series.finishTime-e.series.beginTime)/5),this.setFramePosition(e.series.finishTime)}}])&&ft(n.prototype,i),a&&ft(n,a),t}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=gt(this,wt(t).call(this))).$temp.seriesButtons=new o.a.DataKeeper,e.$modules.domComponent=new _({template:"chart-control"}),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,u),n=t,(r=[{key:"addSeriesButton",value:function(e){var t=this,n=e.id,r=new _({template:"chart-control-series-button"});this.$modules.domComponent.addChild("series-buttons",r.domElement),this.$temp.seriesButtons[n]=r,o.a.assignValues(r.ref("checkbox-wrapper").style,{borderColor:e.color}),r.ref("caption").textContent=e.name,r.on("series-button.click",function(){t.emit("toggle.series.visibility",e)})}},{key:"removeSeriesButton",value:function(e){}},{key:"setSeriesVisibility",value:function(e,t){t?this.$temp.seriesButtons[e].classList.remove("disabled"):this.$temp.seriesButtons[e].classList.add("disabled")}}])&&vt(n.prototype,r),i&&vt(n,i),t}();function St(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var kt=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.$state=new o.a.DataKeeper({beginTime:0,finishTime:0,accuracy:1,id:n.id,color:n.color,type:n.type,visible:!0}),o.a.proxyProps(this,this.$state,["accuracy","beginTime","finishTime","id","color","type","visible"]),this.$content=new o.a.DataKeeper,this.$setSeriesData(n,r)}var t,n,i;return t=e,(n=[{key:"$setSeriesData",value:function(e,t){var n=this.$state.beginTime=t.beginTime,i=this.$state.finishTime=t.finishTime,a=this.$state.accuracy=t.accuracy,s=[];o.a.loop(n,i,a,!1,function(t,n){s.push(r.a.point(t,e.points[n]))}),this.$content[a]=s}},{key:"getLayer",value:function(){var e=this.$state.accuracy;return this.$content[e]||null}},{key:"slice",value:function(e,t){var n=this.$state.accuracy;return t+=n,(e-=n)<this.$state.beginTime&&(e=this.$state.beginTime),t>this.$state.finishTime&&(t=this.$state.finishTime),t=r.a.nearestMult(t,n,!0,!0),e=(e-this.$state.beginTime)/n,t=(t-this.$state.beginTime+n)/n,this.getLayer(n).slice(e,t)}},{key:"getExtremum",value:function(e,t){var n=this.slice(e,t);return r.a.getExtremum(n)}},{key:"getValueAt",value:function(e){var t=this.$state.accuracy,n=this.getLayer();e<this.$state.beginTime&&(e=this.$state.beginTime),e>this.$state.finishTime&&(e=this.$state.finishTime);var o=e,i=(o=r.a.nearestMult(e,t,!1,!0))+t,a=r.a.getStep(o,i,e);o=(o-this.$state.beginTime)/t,void 0===n[i=(i-this.$state.beginTime)/t]&&(i=o);var s=r.a.smoothstep(n[o],n[i],a);return r.a.point(e,s)}}])&&St(t.prototype,n),i&&St(t,i),e}();function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Et(e,t,n){return t&&jt(e.prototype,t),n&&jt(e,n),e}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ct(this,Pt(t).call(this))).$state=new o.a.DataKeeper({beginTime:0,finishTime:0}),e.series=new o.a.DataKeeper,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(t,u),Et(t,null,[{key:"normalizeChartData",value:function(e){var t=this,n={};return o.a.loopCollection(e.columns,function(o,r){var i="string"==typeof o[0]?o.shift():0===r?"x":"y".concat(r-1),a=e.types[i],s=e.names[i],l=e.colors[i];switch(a){case"x":n.time=t.processTimeRawData(o);break;default:n.series=n.series||{},n.series[i]={id:i,name:s,type:a,color:l,points:o}}}),n}},{key:"processTimeRawData",value:function(e){var t,n,r=null;return o.a.loopCollection(e,function(o,i){0==i?t=o:i==e.length-1&&(n=o),null===r&&i>0&&(r=o-e[i-1])}),{beginTime:t,finishTime:n,accuracy:r}}}]),Et(t,[{key:"importRawDataset",value:function(e){this.importDataset(t.normalizeChartData(e))}},{key:"importDataset",value:function(e){var t=this;o.a.loopCollection(e.series,function(n,o){t.series[o]=new kt(o,n,e.time),t.$state.beginTime=t.series[o].beginTime,t.$state.finishTime=t.series[o].finishTime,t.emit("series.added",t.series[o])})}},{key:"getSeriesPoints",value:function(e){return this.series[e].slice(this.$state.beginTime,this.$state.finishTime)}},{key:"getExtremum",value:function(e,t){var n=[];return o.a.loopCollection(this.series,function(o,r){if(o.visible){var i=o.getExtremum(e,t);n.push(i.min,i.max)}}),r.a.getExtremum(n)}},{key:"getValueAt",value:function(e){var t={};return o.a.loopCollection(this.series,function(n,o){t[o]=n.getValueAt(e)}),t}},{key:"setSeriesVisibility",value:function(e,t){this.series[e].visible=t,this.emit("series.visibility.changed",this.series[e])}},{key:"toggleSeriesVisibility",value:function(e){this.series[e].visible=!this.series[e].visible,this.emit("series.visibility.changed",this.series[e])}}]),t}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function At(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),e}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,e=!(i=Rt(t).call(this))||"object"!==Dt(i)&&"function"!=typeof i?Mt(n):i,Ft(Mt(e),"Config",f.a),Ft(Mt(e),"Utils",o.a),Ft(Mt(e),"ChartMath",r.a),e.$state=new o.a.DataKeeper({renderingPaused:!0}),e.$modules.set({chartControl:new xt,domComponent:new _({template:"telechart"})}),e.$modules.set({storage:new Tt,majorPlot:new ct,panoramaPlot:new yt}),e.$setupDOM(),e.$setupEvents(),e.startRendering(),e.$temp.unsubGlobalSkinChanged=s.on("global.skin.changed",e.$onGlobalSkinChanged.bind(Mt(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,u),At(t,null,[{key:"processAsset",value:function(e,t,n,o){e.keys().forEach(function(r){var i=e(r);i.default&&(i=i.default);var a=r.replace(".".concat(n),"").replace("./","");f.a.assets[t][a]=o?o(i):i})}},{key:"loadAssets",value:function(){this.processAsset(n(6),"html","html"),this.processAsset(n(17),"css","scss"),this.processAsset(n(20),"shaders","glsl"),this.processAsset(n(25),"skins","yml",function(e){return e.isDefault&&(f.a.defaultSkin=e.name),new d(e)})}}]),At(t,[{key:"update",value:function(e){var t=this;this.$modules.storage.importRawDataset(e),o.a.loopCollection(this.$modules.storage.series,function(e,n){var o={points:t.$modules.storage.getSeriesPoints(n),series:e,extremum:t.$modules.storage.getExtremum(e.beginTime,e.finishTime),visible:e.visible};t.$modules.majorPlot.addSeries(o),t.$modules.panoramaPlot.addSeries(o)})}},{key:"setSkin",value:function(e){e=e||f.a.defaultSkin,f.a.activeSkin=e,f.a.assets.skins[e]&&f.a.assets.skins[e].apply(),this.$modules.majorPlot.render(!0),this.$modules.panoramaPlot.render(!0),this.$modules.domComponent.ref("theme-switcher-caption").textContent="day"==e?"Switch to Night Mode":"Switch to Day Mode",s.emit("global.skin.changed",e),this.clog("Skin applied: ".concat(e))}},{key:"setParentElement",value:function(e){e.appendChild(this.domElement)}},{key:"startRendering",value:function(){this.$state.renderingPaused&&(this.$state.set("renderingPaused",!1),this.$modules.majorPlot.startRendering(),this.$modules.panoramaPlot.startRendering())}},{key:"stopRendering",value:function(){this.$state.renderingPaused||(this.$state.set("renderingPaused",!0),this.$modules.majorPlot.stopRendering(),this.$modules.panoramaPlot.stopRendering())}},{key:"$setupDOM",value:function(){this.$modules.domComponent.addChild("chart-controls-wrapper",this.$modules.chartControl.domElement),this.$modules.domComponent.addChild("major-plot-wrapper",this.$modules.majorPlot.domElement),this.$modules.domComponent.addChild("panorama-plot-wrapper",this.$modules.panoramaPlot.domElement),this.setSkin("night")}},{key:"$setupEvents",value:function(){var e=this;this.$modules.domComponent.on("theme-switcher.click",this.$onThemeSwitcherClick.bind(this)),this.$modules.panoramaPlot.on("frame.viewport.changed",function(t){var n=e.$modules.storage.getExtremum(t.x,t.x+t.w);e.$modules.majorPlot.setViewport(t.x,e.$modules.majorPlot.viewport.y,t.w,e.$modules.majorPlot.viewport.h),e.$modules.majorPlot.setExtremum(n,!0)}),this.$modules.majorPlot.on("user.position.select",function(t){var n=e.$modules.storage.getValueAt(t.x);e.$modules.majorPlot.setSelectedPositionValues(n)}),this.$modules.storage.on("series.visibility.changed",function(t){var n=e.$modules.panoramaPlot.frameViewportRect,o=e.$modules.storage.getExtremum(n.x,n.x+n.w),r=e.$modules.storage.getExtremum(t.beginTime,t.finishTime);e.$modules.chartControl.setSeriesVisibility(t.id,t.visible),e.$modules.majorPlot.setSeriesVisibility(t.id,t.visible),e.$modules.panoramaPlot.setSeriesVisibility(t.id,t.visible),e.$modules.panoramaPlot.setExtremum(r,!0),e.$modules.majorPlot.setExtremum(o,!0)}),this.$modules.storage.on("series.added",function(t){e.$modules.chartControl.addSeriesButton(t)}),this.$modules.chartControl.on("toggle.series.visibility",function(t){e.$modules.storage.toggleSeriesVisibility(t.id)})}},{key:"$onThemeSwitcherClick",value:function(e){"day"==f.a.activeSkin?this.setSkin("night"):this.setSkin("day")}},{key:"$onGlobalSkinChanged",value:function(e){this.$modules.majorPlot.render(!0),this.$modules.panoramaPlot.render(!0),this.$modules.domComponent.ref("theme-switcher-caption").textContent="day"==e?"Switch to Night Mode":"Switch to Day Mode"}},{key:"die",value:function(){this.$temp.unsubGlobalSkinChanged()}}],[{key:"greet",value:function(){console.log("%c The code has been written by @sanyabeast for Telegram Contest.","color: red;"),console.log("%c Contact me: telegram:sanyabeats, a.gvrnsk@gmail.com, github.com/sanyabeast","color: blue;"),console.log("%c Repo URLs:\n\t\t\thttps://sanyabeast@bitbucket.org/sanyabeast/telechart.git\n\t\t\thttps://github.com/sanyabeast/telechart.git\n\t\t","color:green")}}]),t}();Lt.loadAssets(),i.a.start(),Lt.greet();t.default=Lt},function(e,t,n){var o={"./canvas-element.html":7,"./chart-control-series-button.html":8,"./chart-control.html":9,"./frame-control.html":10,"./grid-caption.html":11,"./plot.html":12,"./selected-position-circle.html":13,"./selected-values-banner-value.html":14,"./selected-values-banner.html":15,"./telechart.html":16};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=6},function(e,t,n){n.r(t),t.default='<canvas class="telechart-canvas fit-width fit-height"></canvas>'},function(e,t,n){n.r(t),t.default='<div \n\tclass="series-button flex-row flex-a-center button"\n\t$ref="series-button"\n\t$events="click"\n>\n\t\t<div \n\t\t\tclass="checkbox-wrapper border-box pos-relative"\n\t\t\t$ref="checkbox-wrapper"\n\t\t>\n\t\t\t<div class="box box-a pos-absolute"></div>\n\t\t\t<div class="box box-b pos-absolute"></div>\n\t\t</div>\n\t\t<p \n\t\t\tclass="caption"\n\t\t\t$ref="caption"\n\t\t></p>\n</div>'},function(e,t,n){n.r(t),t.default='<div\n\tclass="chart-controls fit-width fit-height"\n\t$ref="chart-controls"\n>\n\t\t<div\n\t\t\tclass="series-buttons fit-width fit-height flex-row"\n\t\t\t$ref="series-buttons"\n\t\t>\n\t\t\t\n\t\t</div>\n</div>'},function(e,t,n){n.r(t),t.default='<div \n\tclass="frame-control pos-absolute fit-height border-box fit-width flex-row"\n\t$ref="frame-control"\n>\n\t\t<div\n\t\t\tclass="filler left-filler fit-height pos-absolute border-box"\n\t\t\t$ref="frame-control.filler.left"\n\t\t\t$events="drag"\n\t\t></div>\n\t\t\n\t\t<div\n\t\t\tclass="frame fit-height flex-no-shrink pos-absolute border-box"\n\t\t\t$ref="frame-control.frame"\n\t\t\t$events="drag"\n\t\t>\n\t\t</div>\n\t\n\t\t<div\n\t\t\tclass="filler right-filler fit-height pos-absolute border-box"\n\t\t\t$ref="frame-control.filler.right"\n\t\t\t$events="drag"\n\t></div>\n</div>'},function(e,t,n){n.r(t),t.default='<div class="grid-caption pos-absolute">\n\t<p  class="font-w-bold"\n\t\t$ref="caption"\n\t>test</p>\n</div>'},function(e,t,n){n.r(t),t.default='<div \n\tclass="telechart-plot pos-relative fit-width fit-height overflow-hidden"\n\t$events="drag click"\n\t$ref="dom"\n>\n\t<div \n\t\tclass="canvas-wrapper pos-absolute fit-width fit-height"\n\t\t$ref="canvas-wrapper"\n\t></div>\n\t<div \n\t\tclass="dom-layer pos-absolute fit-width fit-height"\n\t\t$ref="dom-layer"\n\t></div>\n</div>'},function(e,t,n){n.r(t),t.default='<div \n\tclass="selected-position-circle pos-absolute"\n>\n\t<div \n\t\tclass="inner border-box"\n\t\t$ref="inner"\n\t></div>\n</div>'},function(e,t,n){n.r(t),t.default='<div\n\tclass="series-value flex-column"\n\t$ref="series-value"\n>\n\t<div\n\t\tclass="value-container"\n\t>\n\t\t<p\n\t\t\tclass="value font-w-bold"\n\t\t\t$ref="value"\n\t\t></p>\n\t</div>\n\t<div\n\t\tclass="caption-container"\n\t>\n\t\t<p\n\t\t\tclass="caption"\n\t\t\t$ref="caption"\n\t\t></p>\n\t</div>\n</div>'},function(e,t,n){n.r(t),t.default='<div\n\tclass="selected-values-banner pos-absolute flex-column"\n\t$ref="banner"\n\t$events="click"\n>\n\t<div class="inner fit-width fit-height flex-column">\n\t\t<div class="date-value">\n\t\t\t<p\n\t\t\t\tclass="value"\n\t\t\t\t$ref="date-value"\n\t\t\t></p>\n\t\t</div>\n\t\t<div\n\t\t\tclass="series-values-wrapper flex-row"\n\t\t\t$ref="series-values-wrapper"\n\t\t></div>\n\t</div>\n</div>'},function(e,t,n){n.r(t),t.default='<div \n\tclass="telechart flex-column fit-width fit-height border-box"\n\t$ref="telechart"\n\t$css="modifiers telechart">\n\t\t<div class="header caption flex-row flex-a-center flex-no-shrink">\n\t\t\t<p class="font-w-bold">Followers</p>\n\t\t</div>\n\t\t<div \n\t\t\tclass="major-plot-wrapper fit-width pos-relative flex-stretch-content"\n\t\t\t$ref="major-plot-wrapper">\n\t\t</div>\n\t\t<div \n\t\t\tclass="panorama-plot-wrapper fit-width pos-relative  overflow-hidden"\n\t\t\t$ref="panorama-plot-wrapper">\n\t\t</div>\n\t\t<div \n\t\t\tclass="chart-controls-wrapper flex-row fit-width flex-no-shrink"\n\t\t\t$ref="chart-controls-wrapper">\n\t\t</div>\n\t\t<div \n\t\t\tclass="theme-switcher button fit-width flex-row flex-j-center"\n\t\t\t$ref="theme-switcher"\n\t\t\t$events="click">\n\t\t\t\t<p \n\t\t\t\t\tclass="font-w-normal"\n\t\t\t\t\t$ref="theme-switcher-caption">Switch to Night Mode\n\t\t\t\t</p>\n\t\t</div>\n</div>'},function(e,t,n){var o={"./modifiers.scss":18,"./telechart.scss":19};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=17},function(e,t,n){n.r(t),t.default=".flex-row {\n  display: flex;\n  flex-direction: row; }\n\n.flex-column {\n  display: flex;\n  flex-direction: column; }\n\n.flex-j-center {\n  display: flex;\n  justify-content: center; }\n\n.flex-a-center {\n  display: flex;\n  align-items: center; }\n\n.flex-grow {\n  display: flex;\n  flex-grow: 1; }\n\n.flex-no-shrink {\n  display: flex;\n  flex-shrink: 0; }\n\n.flex-shrink {\n  display: flex;\n  flex-shrink: 1; }\n\n.flex-stretch-content {\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch; }\n\n.fit-width {\n  width: 100%; }\n\n.fit-height {\n  height: 100%; }\n\n.border-box {\n  box-sizing: border-box; }\n\n.pos-absolute {\n  position: absolute;\n  left: 0;\n  top: 0; }\n\n.pos-relative {\n  position: relative; }\n\n.font-w-lighter {\n  font-weight: lighter; }\n\n.font-w-normal {\n  font-weight: normal; }\n\n.font-w-bold {\n  font-weight: 600; }\n\n.font-w-bolder {\n  font-weight: bolder; }\n\n.overflow-hidden {\n  overflow: hidden; }\n"},function(e,t,n){n.r(t),t.default='.telechart {\n  user-select: none;\n  background-color: var(--telechartBackgroundColor);\n  padding: 16px;\n  -webkit-tap-highlight-color: transparent;\n  /* chart controls */ }\n  .telechart p {\n    margin: 0;\n    font-family: Tahoma, Verdana, Segoe, sans-serif;\n    color: var(--majorTextColor); }\n  .telechart * {\n    user-select: none;\n    -webkit-user-select: none; }\n  .telechart .header.caption {\n    height: 40px; }\n  .telechart .major-plot-wrapper {\n    max-height: 70%;\n    flex-grow: 10; }\n    .telechart .major-plot-wrapper .telechart-plot .canvas-wrapper, .telechart .major-plot-wrapper .telechart-plot .dom-layer {\n      height: calc( 100% - 24px); }\n  .telechart .panorama-plot-wrapper {\n    height: 48px;\n    min-height: 48px;\n    background-color: var(--panormaPlotBackground);\n    margin: 16px 0;\n    margin-top: 20px; }\n  .telechart .telechart-plot {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box; }\n  .telechart .button {\n    cursor: pointer;\n    user-select: none;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none; }\n  .telechart .theme-switcher p {\n    color: var(--themeSwitherCaptionColor); }\n  .telechart .frame-control {\n    z-index: 1;\n    flex-wrap: 0; }\n    .telechart .frame-control .filler {\n      background: black;\n      background-color: var(--frameControlBackgroundColor);\n      z-index: 2;\n      cursor: col-resize; }\n      .telechart .frame-control .filler.left-filler {\n        left: 0;\n        border-right: 8px solid var(--frameControlPlaneBackgroundColor); }\n        .telechart .frame-control .filler.left-filler:after {\n          content: "";\n          height: 100%;\n          width: 12px;\n          background: transparent;\n          position: absolute;\n          right: -12px;\n          top: 0; }\n      .telechart .frame-control .filler.right-filler {\n        right: 0;\n        left: auto;\n        border-left: 8px solid var(--frameControlPlaneBackgroundColor); }\n        .telechart .frame-control .filler.right-filler:before {\n          content: "";\n          height: 100%;\n          width: 12px;\n          background: transparent;\n          position: absolute;\n          left: -12px;\n          top: 0; }\n    .telechart .frame-control .frame {\n      width: 1px;\n      border-top: 2px solid var(--frameControlPlaneBackgroundColor);\n      border-bottom: 2px solid var(--frameControlPlaneBackgroundColor);\n      z-index: 1;\n      cursor: move; }\n  .telechart .selected-position-circle {\n    transition: opacity 0.2s ease-out;\n    z-index: 2; }\n    .telechart .selected-position-circle .inner {\n      width: 12px;\n      height: 12px;\n      background: var(--telechartBackgroundColor);\n      transform: translate(-50%, -50%);\n      border-radius: 50%;\n      border: 2px solid var(--borderColor);\n      transition: transform 0.2s ease-out; }\n    .telechart .selected-position-circle.hidden {\n      opacity: 0; }\n      .telechart .selected-position-circle.hidden .inner {\n        transform: translate(-50%, -50%) scale(0.00001, 0.00001); }\n  .telechart .chart-controls-wrapper {\n    flex-grow: 1; }\n    .telechart .chart-controls-wrapper .chart-controls {\n      min-height: 48px;\n      max-height: 64px; }\n      .telechart .chart-controls-wrapper .chart-controls .series-buttons {\n        align-items: flex-start; }\n        .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button {\n          padding: 6px;\n          border-radius: 40px;\n          border: 1px solid var(--seriesButtonBorderColor);\n          margin-right: 16px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper {\n            width: 20px;\n            height: 20px;\n            margin-right: 8px;\n            border-radius: 50%;\n            border-width: 10px;\n            border-style: solid;\n            transition: border-width 0.15s ease-in; }\n            .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box {\n              background-color: #fff;\n              height: 2px;\n              width: 6px;\n              border-radius: 4px;\n              transition-property: transform, opacity;\n              transition: 0.25s ease-in;\n              left: 50%;\n              top: 50%;\n              transform-origin: 0 50%; }\n              .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-a {\n                transform: rotateZ(225deg) translate(-2px, -3px); }\n              .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-b {\n                transform: rotateZ(-45deg) translate(-4px, 2px);\n                width: 10px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button p.caption {\n            margin-right: 8px;\n            font-size: 13px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper {\n            border-width: 1px; }\n            .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper .box {\n              opacity: 0;\n              width: 2px; }\n  .telechart .grid-caption {\n    z-index: 1; }\n    .telechart .grid-caption p {\n      font-size: 12px;\n      color: var(--gridPatternCaptionColor); }\n    .telechart .grid-caption.time {\n      bottom: 0;\n      top: auto;\n      margin-bottom: -1.5em; }\n      .telechart .grid-caption.time p {\n        transform: translateX(-50%); }\n    .telechart .grid-caption.value {\n      margin-top: -1em; }\n    .telechart .grid-caption.hidden {\n      visibility: hidden; }\n  .telechart .selected-values-banner {\n    z-index: 4;\n    top: 8px;\n    transition: opacity 0.15s ease-in; }\n    .telechart .selected-values-banner .inner {\n      box-shadow: 0px 0px 4px 0px #00000061;\n      padding: 8px 16px;\n      border-radius: 4px;\n      background-color: var(--selectedValuesBannerBackgroundColor); }\n      .telechart .selected-values-banner .inner .date-value {\n        margin-bottom: 12px; }\n        .telechart .selected-values-banner .inner .date-value p.value {\n          font-size: 16px; }\n      .telechart .selected-values-banner .inner .series-values-wrapper {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-gap: 8px; }\n      .telechart .selected-values-banner .inner .series-value {\n        margin-right: 14px; }\n        .telechart .selected-values-banner .inner .series-value p.value {\n          font-size: 16px; }\n        .telechart .selected-values-banner .inner .series-value p.caption {\n          font-size: 13px; }\n        .telechart .selected-values-banner .inner .series-value.hidden {\n          display: none; }\n    .telechart .selected-values-banner.align-left .inner {\n      transform: translateX(calc(-100% - 8px)); }\n    .telechart .selected-values-banner.align-right .inner {\n      transform: translateX(8px); }\n    .telechart .selected-values-banner.hidden {\n      opacity: 0; }\n'},function(e,t,n){var o={"./frag.default.glsl":21,"./vert.grid-line-x.glsl":22,"./vert.grid-line-y.glsl":23,"./vert.line2d.glsl":24};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=20},function(e,t,n){n.r(t),t.default="precision ${maxShaderPrecision} float;\n\nuniform vec3 diffuse;\nuniform float opacity;\n\nvoid main( void ) {\n   gl_FragColor = vec4( diffuse, opacity );\n}"},function(e,t,n){n.r(t),t.default="precision ${maxShaderPrecision} float;\n\nattribute vec2 coords;\n\nuniform vec2  position;\n\nuniform vec2  worldPosition;\nuniform vec2  worldScale;\nuniform vec2  viewportSize;\n\nuniform vec2  selectedPosition;\n\nvoid main(void) {\n    vec2 pos = vec2( coords );\n\n    float offsetX = ( selectedPosition.x - worldPosition.x ) / worldScale.x;\n\n    pos.x += offsetX;\n   \n   \tpos.x /= viewportSize.x;\n    pos.y *= 2.;\n    pos -= 1.;\n\n  \tgl_Position = vec4( pos.xy, 0., 1.);\n}"},function(e,t,n){n.r(t),t.default="precision ${maxShaderPrecision} float;\n\nattribute vec2 coords;\n\nuniform vec2  position;\n\nuniform vec2  worldPosition;\nuniform vec2  worldScale;\nuniform vec2  viewportSize;\n\nuniform float lineIndex;\nuniform vec2  gridSteps;\n\nvoid main(void) {\n    vec2 pos = vec2( coords );\n    vec2 steps = vec2( gridSteps / worldScale );\n\n    pos.y += steps.y * lineIndex;\n    pos.y /= viewportSize.y;\n    pos.x *= 2.;\n    pos -= 1.;\n\n  \tgl_Position = vec4( pos.xy, 0., 1.);\n}"},function(e,t,n){n.r(t),t.default="precision ${maxShaderPrecision} float;\n\nattribute vec2 coords;\nattribute vec2 normal;\n\nuniform vec2  position;\nuniform float thickness;\nuniform float opacity;\n\nuniform float resolution;\nuniform vec2  worldPosition;\nuniform vec2  worldScale;\nuniform vec2  viewportSize;\n\nvec2 scaleNormal ( vec2 normal, vec2 scale ) {\n   normal /= vec2( scale.y, scale.x );    \n   float hypo = length( normal );\n   return( vec2( ( normal.x / hypo ), ( normal.y / hypo ) ) );\n}\n\n\nvec2 translate( vec2 pos ) {\n   pos -= position;\n   pos -= worldPosition;\n   return( pos );\n}\n\nvec2 project( vec2 pos ) {\n   return( pos / worldScale );\n}\n\n\nvec2 projectToScreen( vec2 pos ) {\n   pos /= viewportSize;\n   pos -= 1.;\n   return( pos );\n}\n\n\nvoid main(void) {\n   \tvec2 pos = translate( coords );\n      vec2 n = scaleNormal( normal, worldScale );\n\n   \tpos = project( pos );\n\n   \tpos += ( n * ( thickness * resolution ) );\n\n   \tpos = projectToScreen( pos );\n\n   \tgl_Position = vec4( pos.xy, 0., 1. );\n\n}"},function(e,t,n){var o={"./day.yml":26,"./night.yml":27};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=25},function(e,t){e.exports={name:"day",isDefault:!0,values:{telechartBackgroundColor:"#ffffff",borderColor:"#000000",majorTextColor:"#000000",panormaPlotBackground:"#f5f9fb",themeSwitherCaptionColor:"#108be3",frameControlBackgroundColor:"#edf4f8d6",frameControlPlaneBackgroundColor:"#0000001f",seriesButtonBorderColor:"#0000001f",gridPatternLineColor:"#e2e7e9",gridPatternCaptionColor:"#96a2aa",selectedValuesBannerBackgroundColor:"#ffffff",gridPatternSelectedValueLineColor:"#dfe6eb"}}},function(e,t){e.exports={name:"night",values:{telechartBackgroundColor:"#242f3e",borderColor:"#ffffff",majorTextColor:"#ffffff",panormaPlotBackground:"#1f2a38",themeSwitherCaptionColor:"#36a8f1",frameControlBackgroundColor:"#1f2a38cc",frameControlPlaneBackgroundColor:"#40566bcc",seriesButtonBorderColor:"#40566bcc",gridPatternLineColor:"#394a60",gridPatternCaptionColor:"#536676",selectedValuesBannerBackgroundColor:"#253241",gridPatternSelectedValueLineColor:"#3b4a5a"}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Telechart=t():e.Telechart=t();