/* @sanyabeast */
var root,factory;root=window,factory=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var l=function(e){function s(){var t,e,a,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return a=this,l=(t=o(s)).call.apply(t,[this].concat(f)),e=!l||"object"!==r(l)&&"function"!=typeof l?i(a):l,n.forEach(function(t){u(i(e),new t)}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,t),s}(),u=function(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(n){if(!n.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length|\$name|\$prototype|\$\$id|extend|\$constructor)$/))try{Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}catch(t){$clog(t)}})};return n.forEach(function(t){u(l.prototype,t.prototype),u(l,t)}),l},l=n(1);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setMultiple(e)}var e,n,r;return e=t,(n=[{key:"setMultiple",value:function(t){var e=this;y.loopCollection(t,function(t,n){e[n]=t})}},{key:"set",value:function(t,e,n){if("object"==u(t)&&void 0===e)return this.setMultiple(t);"function"==typeof e&&n?y.defineProperty(this,t,{get:e}):this[t]=e}}])&&c(e.prototype,n),r&&c(e,r),t}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=document.createElement("canvas").getContext("2d"),d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"loopCollection",value:function(t,e){if(t)if(Array.isArray(t)||"number"==typeof t.length)for(var n=0,r=t.length;n<r&&!e(t[n],n,t);n++);else for(var o in t)if(e(t[o],o,t))break}},{key:"loop",value:function(t,e,n,r,o){if(r)for(var i=t,a=0;i<e&&!o(i,a);i+=n)a++;else for(i=t,a=0;i<=e&&!o(i,a);i+=n)a++}},{key:"generateRandomString",value:function(t,e){for(var n="";n.length<e;)n+=Math.random().toString(32).substring(3,12);return n=n.substring(0,e),"".concat(t,"-").concat(n)}},{key:"assignValues",value:function(t,e){this.loopCollection(e,function(e,n){t[n]=e})}},{key:"parseHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}},{key:"injectCSS",value:function(t,e){document.querySelector("#telechart-css-".concat(t))?document.querySelector("#telechart-css-".concat(t)).textContent=e:document.querySelector("head").appendChild(this.parseHTML('<style id="telechart-css-'.concat(t,'" type="text/css">').concat(e,"</style>")))}},{key:"generateVarsCSS",value:function(t){var e="";return this.loopCollection(t,function(t,n){e+="--".concat(n,":").concat(t,";\n")}),e=".telechart {".concat(e,"}")}},{key:"generateAttributesSelector",value:function(t){var e="";return this.loopCollection(t,function(t,n){e+="[".concat(n,'="').concat(t,'"]')}),e}},{key:"splitToChunks",value:function(t,e){var n=[];return this.loop(0,Math.floor(t.length/e),1,!1,function(r,o){var i=t.slice(r*e,r*e+e+1);n.push(i)}),n}},{key:"defineProperty",value:function(t,e,n){Object.defineProperty(t,e,n)}},{key:"proxyMethods",value:function(t,e,n){this.loopCollection(n,function(n,r){t[n]=function(){return e[n].apply(e,arguments)}})}},{key:"proxyProps",value:function(t,e,n){var r=this;this.loopCollection(n,function(n,o){r.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})})}},{key:"generateRandomCSSHexColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString("16"))}},{key:"measureText",value:function(t,e){m.font=e||m.font;var n=Number(m.font.match(/\d+/)[0]),r=m.measureText(t).width;return l.a.vec2(r,n)}},{key:"cssHexToRGB",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16)/255,g:parseInt(e[2],16)/255,b:parseInt(e[3],16)/255}:null}}],(n=null)&&p(e.prototype,n),r&&p(e,r),t}();h(d,"aggregation",s),h(d,"DataKeeper",f);var y=e.a=d},function(t,e,n){var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"x",0),a(this,"y",0),this.array=[0,0],this.set(e,n)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){if("object"==o(t))return this.set(t.x,t.y);this.array[0]=t,this.array[1]=e,this.x=t,this.y=e}},{key:"valueOf",value:function(){return this.y}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(t){this.set(t[0],t[1])}}])&&i(e.prototype,n),r&&i(e,r),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"x",0),u(this,"y",0),u(this,"w",0),u(this,"h",0),this.set(e,n,r,o)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}}])&&l(e.prototype,n),r&&l(e,r),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(this,(t=h(e)).call.apply(t,[this].concat(r)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,s),e}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(this,(t=g(e)).call.apply(t,[this].concat(r)))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,s),n=e,(o=[{key:"set",value:function(t,e,n){return"object"==y(t)?this.set(t.x,t.y):"string"==typeof t?this.setCSSHex(t):(this.array[0]=t,this.array[1]=e,this.array[2]=n,this.x=t,this.y=e,void(this.z=n))}},{key:"valueOf",value:function(){return this.toArray()}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(t){this.set(t[0],t[1],t[2])}},{key:"setCSSHex",value:function(t){if(this.$cssHexString!=t){this.$cssHexString=t;var e=r.a.cssHexToRGB(t);this.set(e.r,e.g,e.b)}}}])&&v(n.prototype,o),i&&v(n,i),e}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.set(e,n)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){if("object"==x(t))return this.set(t.min,t.max);this.min=t,this.max=e}},{key:"size",get:function(){return this.max-this.min}},{key:"isFinite",get:function(){return isFinite(this.min)&&isFinite(this.max)}}])&&k(e.prototype,n),r&&k(e,r),t}();function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"isSimple",!0),this.set(e)}var e,n,r;return e=t,(n=[{key:"valueOf",value:function(){return this.value}},{key:"set",value:function(t){this.value=t}}])&&_(e.prototype,n),r&&_(e,r),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"float32",value:function(t){return new P(t)}},{key:"vec2",value:function(t,e){return new d(t,e)}},{key:"color",value:function(t,e,n){return new $(t,e,n)}},{key:"point",value:function(t,e){return new s(t,e)}},{key:"range",value:function(t,e){return new O(t,e)}},{key:"rect",value:function(t,e,n,r){return new c(t,e,n,r)}},{key:"getExtremum",value:function(t){return this.range(Math.min.apply(Math,t),Math.max.apply(Math,t))}},{key:"nearestMult",value:function(t,e,n,r){return(n?Math.ceil((t+(r?0:1))/e)*e:Math.floor((t-(r?0:1))/e)*e)||0}},{key:"getOrder",value:function(t){return t<0?Math.pow(10,1/Math.floor(1/Math.log10(t))):Math.pow(10,Math.floor(Math.log10(t)))}},{key:"smoothstep",value:function(t,e,n){return e+(t-e)*n}},{key:"getStep",value:function(t,e,n){return(e-n)/(e-t)}},{key:"vec2add",value:function(t,e,n){return t.x=e.x+n.x,t.y=e.y+n.y,t}},{key:"vec2normalize",value:function(t,e){var n=e.x,r=e.y,o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t.x=e.x*o,t.y=e.y*o),t}},{key:"vec2subtract",value:function(t,e,n){return t.x=e.x-n.x,t.y=e.y-n.y,t}},{key:"vec2dot",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"vec2magnitude",value:function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}},{key:"vec2set",value:function(t,e,n){return t.x=e,t.y=n,t}},{key:"vec2normal",value:function(t,e,n){return n?this.vec2set(t,e.y,-e.x):this.vec2set(t,-e.y,e.x),t}},{key:"vec2direction",value:function(t,e,n){return this.vec2subtract(t,e,n),this.vec2normalize(t,t),t}}],(n=null)&&S(e.prototype,n),r&&S(e,r),t}();e.a=E},function(t,e,n){n(1);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};r(o,"activeSkin",null),r(o,"plotChunkSize",15),r(o,"DPR",window.devicePixelRatio),r(o,"assets",{html:{},css:{},skins:{},shaders:{}}),r(o,"isTouchDevice","ontouchstart"in window),r(o,"values",{domDoubletapTimeout:250,plotLineDefaultLineWidth:2,plotExtremumTweenDuration:150,plotSeriesVisibilityTweenDuration:150,plotExtremumPadding:.35,plotSelectedPositionCircleRadius:10}),r(o,"skinValues",{}),e.a=o},function(t,e,n){var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"on",value:function(e,n){var o=r.a.generateRandomString(e,16);return this.$subscriptions=this.$subscriptions||{},this.$subscriptions[e]=this.$subscriptions[e]||{},this.$subscriptions[e][o]=n,this.off.bind(t,e,o)}},{key:"emit",value:function(t,e){this.$subscriptions&&this.$subscriptions[t]&&r.a.loopCollection(this.$subscriptions[t],function(t){t(e)})}},{key:"off",value:function(t,e){this.$subscriptions&&this.$subscriptions[t]&&this.$subscriptions[t][e]&&delete this.$subscriptions[t][e]}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.UUID=r.a.generateRandomString(this.constructor.name,32),this.$state=new r.a.DataKeeper,this.$modules=new r.a.DataKeeper,this.$temp=new r.a.DataKeeper}return s(t,[{key:"domComponent",get:function(){if(this.$modules)return this.$modules.domComponent||null}},{key:"domElement",get:function(){if(this.domComponent)return this.domComponent.domElement}}]),s(t,[{key:"on",value:function(t,e){i.on("".concat(this.UUID,"/").concat(t),e)}},{key:"emit",value:function(t,e){i.emit("".concat(this.UUID,"/").concat(t),e)}}]),t}();e.a=l},function(module,__webpack_exports__,__webpack_require__){var Telechart_Core_TelechartModule__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),Telechart_Config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),Telechart_Core_DOM_DOMElementEventHandler__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Component=function(_TelechartModule){function Component(t){var e;_classCallCheck(this,Component),(e=_possibleConstructorReturn(this,_getPrototypeOf(Component).call(this))).$refs={},e.$dom={},e.$children=[],e.$state={template:t.template,eventHandlers:[]};var n=Telechart_Config__WEBPACK_IMPORTED_MODULE_2__.a.assets.html[t.template];return e.$dom.element=e.$buildTemplate(n,t),e}return _inherits(Component,_TelechartModule),_createClass(Component,[{key:"domElement",get:function(){return this.$dom.element}},{key:"classList",get:function(){return this.domElement.classList}}]),_createClass(Component,[{key:"ref",value:function(t){return this.$refs[t]}},{key:"addChild",value:function(t,e){this.$refs[t].appendChild(e)}},{key:"$buildTemplate",value:function(t,e){var n=this,r=Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__.a.parseHTML(t,e);return this.$traverseDOM(r,function(t,r){n.$processAttrs(t,r,e)},null),r}},{key:"$traverseDOM",value:function(t,e,n){var r=this;e(t,n),Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__.a.loopCollection(t.children,function(t,n){r.$traverseDOM(t,e,t.parentNode)})}},{key:"$processAttrs",value:function $processAttrs(node,parentNode,params){var _this4=this;Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__.a.loopCollection(node.attributes,function(attr,index){var computableProp=attr.value&&attr.value.match(/{{(.*?)}}/);if(computableProp){computableProp=computableProp[1];try{attr.value=eval(computableProp)}catch(t){console.warn("failed to compute prop: ".concat(computableProp),t)}}switch(attr.name){case"$ref":_this4.$refs[attr.value]=node,node.$ref=attr.value;break;case"$css":Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__.a.loopCollection(attr.value.split(" "),function(t,e){Telechart_Utils__WEBPACK_IMPORTED_MODULE_1__.a.injectCSS(t,Telechart_Config__WEBPACK_IMPORTED_MODULE_2__.a.assets.css[t])});break;case"$events":var eventHandler=new Telechart_Core_DOM_DOMElementEventHandler__WEBPACK_IMPORTED_MODULE_3__.a({domElement:node,eventsList:attr.value.split(" ")});eventHandler.on("$event",function(t){var e=node.$ref||"";_this4.emit("".concat(e,".").concat(t.type),t.payload)}),_this4.$state.eventHandlers.push(eventHandler)}})}}]),Component}(Telechart_Core_TelechartModule__WEBPACK_IMPORTED_MODULE_0__.a);__webpack_exports__.a=Component},function(t,e,n){var r=n(3),o=n(0),i=n(2),a=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p,h,m,d=function(t){function e(t){var n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,i=u(e).call(this),(n=!i||"object"!==s(i)&&"function"!=typeof i?c(r):i).$state={normalizedEventData:{prevPanDistance:null},domElement:t.domElement,eventsList:t.eventsList},o.a.loopCollection(t.eventsList,function(t,r){e.eventDetectors[t].call(c(n),n.$state.domElement,function(t){n.emit(t.type,t),n.emit("$event",{type:t.type,payload:t})})}),n}var n,i,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(i=[{key:"$normalizeEventData",value:function(t,e,n){var r=n.getBoundingClientRect();return this.$state.normalizedEventData.isGesture=!1,e instanceof window.TouchEvent?this.$state.normalizedEventData=this.$normalizeTouchEventData(t,e,n):(this.$state.normalizedEventData.x=(e.pageX-r.x)*window.devicePixelRatio,this.$state.normalizedEventData.y=(e.pageX-r.y)*window.devicePixelRatio,this.$state.normalizedEventData.pageX=e.pageX*window.devicePixelRatio,this.$state.normalizedEventData.pageY=e.pageY*window.devicePixelRatio),this.$state.normalizedEventData.type=t,this.$state.normalizedEventData.target=n,this.$state.normalizedEventData}},{key:"$normalizeTouchEventData",value:function(t,e,n){return e.touches.length>1?this.$state.normalizedEventData=this.$normalizeTouchGestureEventData(t,e):1===e.touches.length?this.$state.normalizedEventData=this.$normalizeEventData(t,e.touches[0],n):console.log(1),this.$state.normalizedEventData}},{key:"$normalizeTouchGestureEventData",value:function(t,e){if(this.$state.normalizedEventData.isGesture=!0,this.$state.normalizedEventData.touchesCount=e.touches.length,2==e.touches.length){var n=a.a.getDistance(a.a.point(e.touches[0].pageX,e.touches[0].pageY),a.a.point(e.touches[1].pageX,e.touches[1].pageY));this.$state.normalizedEventData.panDistance=n}return this.$state.normalizedEventData}}])&&l(n.prototype,i),p&&l(n,p),e}();m={click:function(t,e){var n=this;t.addEventListener("click",function(r){e(n.$normalizeEventData("click",r,t))})},drag:function(t,e){var n,r,o,a=this,s=0,l=0,u=0,c=0,f=!1;i.a.isTouchDevice?(n="touchstart",r="touchend",o="touchmove"):(n="mousedown",r="mouseup",o="mousemove"),t.addEventListener(n,function(e){e.stopPropagation(),e=a.$normalizeEventData("drag",e,t),s=e.pageX,l=e.pageY,f=!0}),window.addEventListener(r,function(t){f=!1}),window.addEventListener(o,function(n){f&&(n.stopPropagation(),n.preventDefault(),n=a.$normalizeEventData("drag",n,t),u=n.pageX-s,c=n.pageY-l,s=n.pageX,l=n.pageY,n.dragX=u,n.dragY=c,e(n))},{passive:!1})},pan:function(t,e){var n=this;if(i.a.isTouchDevice){var r=!1,o=0;t.addEventListener("touchstart",function(t){r=!0}),window.addEventListener("touchend",function(t){r=!1,o=0}),window.addEventListener("touchmove",function(i){var a=n.$normalizeEventData("pan",i,t);if(r&&a.isGesture&&2==a.touchesCount){var s=o/a.panDistance;o=a.panDistance,a.panDelta=s,e(a)}},{cancelable:!0})}},zoom:function(t,e){var n=this;i.a.isTouchDevice||t.addEventListener("mousewheel",function(r){r.preventDefault();var o=r.wheelDeltaY>0;(r=n.$normalizeEventData("zoom",r,t)).zoomIn=o,e(r)},{passive:!1})},doubletap:function(t,e){var n=this,r=0;t.addEventListener("click",function(o){o.preventDefault();var a=+new Date;a-r<i.a.values.domDoubletapTimeout&&e(n.$normalizeEventData("doubletap",o,t)),r=a})}},(h="eventDetectors")in(p=d)?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m,e.a=d},function(t,e,n){var r={"./canvas-element.html":7,"./chart-control-series-button.html":8,"./chart-control.html":9,"./dev/custom_controls_button.xml":10,"./dev/window.xml":11,"./frame-control.html":12,"./plot.html":13,"./selected-position-circle.html":14,"./telechart.html":15};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=6},function(t,e){t.exports='<canvas class="telechart-canvas fit-width fit-height"></canvas>'},function(t,e){t.exports='<div \r\n\tclass="series-button flex-row flex-a-center button"\r\n\t$ref="series-button"\r\n\t$events="click"\r\n>\r\n\t\t<div \r\n\t\t\tclass="checkbox-wrapper border-box pos-relative"\r\n\t\t\t$ref="checkbox-wrapper"\r\n\t\t>\r\n\t\t\t<div class="box box-a pos-absolute"></div>\r\n\t\t\t<div class="box box-b pos-absolute"></div>\r\n\t\t</div>\r\n\t\t<p \r\n\t\t\tclass="caption"\r\n\t\t\t$ref="caption"\r\n\t\t></p>\r\n</div>'},function(t,e){t.exports='<div\r\n\tclass="chart-controls fit-width fit-height"\r\n\t$ref="chart-controls"\r\n>\r\n\t\t<div\r\n\t\t\tclass="series-buttons fit-width fit-height flex-row"\r\n\t\t\t$ref="series-buttons"\r\n\t\t>\r\n\t\t\t\r\n\t\t</div>\r\n</div>'},function(t,e){t.exports='<div\r\n\tclass="button custom-button"\r\n\tstyle="display:flex;  width:24px;flex-shrink:1; align-items:center;  cursor:pointer;  justify-content:center"\r\n>\r\n\t<p\r\n\t\tclass="material-icons"\r\n\t\tstyle="margin:0;  display:flex;  color:#000"\r\n\t><p>\r\n</div>'},function(t,e){t.exports='<div class="plot3-window"\r\n\t style="\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-family:\' PT Sans\';\r\n\t\t\tmax-height: 100vh;\r\n\t\t\tuser-select:none;\r\n\t \t  \tposition:absolute;\r\n\t \t  \ttop:0;\r\n\t \t  \tleft:0;\r\n\t \t  \tdisplay:flex;\r\n\t \t  \tflex-direction:column;\r\n\t \t  \tmin-width:50px;\r\n\t \t  \tmin-height:50px;\r\n\t \t  \tz-index:999;\r\n\t \t  \tjustify-content:stretch;\r\n\t \t  \tborder: 2px solid black;\r\n\t \t  \tbox-sizing: border-box;\r\n\t \t  \twill-change: transform;\r\n\t \t"\r\n>\r\n\t<div class="header"\r\n\t\t style="\r\n\t\t   \t\tpadding:0 8px;\r\n\t\t   \t\theight:32px;\r\n\t\t   \t\tbackground:#fff;\r\n\t\t   \t\tcolor:white;\r\n\t\t   \t\tdisplay:flex;\r\n\t\t   \t\tflex-direction:row;\r\n\t\t   \t\tjustify-content:space-between;\r\n\t\t   \t\talign-items:stretch;\r\n\t\t   \t\tcursor:move;\r\n\t\t   \t"\r\n\t>\r\n\t\t<div class="caption"\r\n\t\t\t style="\r\n\t\t\t\t    display:flex;\r\n\t\t\t\t    flex-direction:column;\r\n\t\t\t\t    justify-content:center;\r\n\t\t\t\t    max-width:70%;\r\n\t\t\t\t    overflow:hidden;\r\n\t\t\t\t    white-space:nowrap;\r\n\t\t\t\t    text-overflow:ellipsis\r\n\t\t\t\t"\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tstyle="\r\n\t\t\t\t\t   display:inline-flex;\r\n\t\t\t\t\t   margin:0;\r\n\t\t\t\t\t   font-size:12px;\r\n\t\t\t\t\t   color:#000;\r\n\t\t\t\t\t   font-family:sans-serif\r\n\t\t\t\t\t"\r\n\t\t\t></p>\r\n\t\t</div>\r\n\t\t<div class="window-controls"\r\n\t\t\tstyle="\r\n\t\t\t  \t   display:flex;\r\n\t\t\t    "\r\n\t\t>\r\n\t\t\t<div class="button fullscreen"\r\n\t\t\t\tstyle="\r\n\t\t\t\t  \t   cursor:pointer;\r\n\t\t\t\t  \t   width:32px;\r\n\t\t\t\t  \t   display:flex;\r\n\t\t\t\t  \t   justify-content:center;\r\n\t\t\t\t  \t   align-items:center\r\n\t\t\t\t  \t"\r\n\t\t\t>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclass="material-icons"\r\n\t\t\t\t\tstyle="\r\n\t\t\t\t\t  \t   display:inline-flex;\r\n\t\t\t\t\t  \t   margin:0;\r\n\t\t\t\t\t  \t   font-size:14px;\r\n\t\t\t\t\t \t   color:#000;\r\n\t\t\t\t\t \t"\r\n\t\t\t\t>fullscreen</p>\r\n\t\t\t\t</div>\r\n\t\t\t<div class="button close"\r\n\t\t\t\tstyle="\r\n\t\t\t\t  \t   cursor:pointer;\r\n\t\t\t\t  \t   width:24px;\r\n\t\t\t\t  \t   display:flex;\r\n\t\t\t\t  \t   justify-content:center;\r\n\t\t\t\t  \t   align-items:center\r\n\t\t\t\t  \t"\r\n\t\t\t>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclass="material-icons"\r\n\t\t\t\t\tstyle="\r\n\t\t\t\t\t  \t   display:inline-flex;\r\n\t\t\t\t\t  \t   margin:0;\r\n\t\t\t\t\t  \t   font-size:14px;\r\n\t\t\t\t\t \t   color:#000;\r\n\t\t\t\t\t \t"\r\n\t\t\t\t>close</p>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="custom-controls"\r\n\t\t style="\r\n\t\t   \t\theight:28px;\r\n\t\t   \t\tbackground:#fff;\r\n\t\t   \t\tdisplay:flex;\r\n\t\t   \t\tflex-direction:row;\r\n\t\t   \t\toverflow: hidden;\r\n\t\t   \t"\r\n\t>\r\n\t\t\r\n\t</div>\r\n\t\r\n\t<div class="body"\r\n\t\tstyle="\r\n\t\t  \t   width:100%;\r\n\t\t  \t   height:100%;\r\n\t\t  \t   flex-grow:1;\r\n\t\t  \t   overflow:hidden;\r\n\t\t  \t   position:relative;\r\n\t\t  \t"\r\n\t>\r\n\t\t\r\n\t</div>\t\r\n\t<div class="resizer"\r\n\t\tstyle="\r\n\t\t       width:8px;\r\n\t\t       height:8px;\r\n\t\t       border-radius:50%;\r\n\t\t       background:rgba(0, 0, 0, 1);\r\n\t\t       position:absolute;\r\n\t\t       right:6px;\r\n\t\t       bottom:6px;\r\n\t\t       transform:translate(50%, 50%);\r\n\t\t       cursor:nw-resize;\r\n\t\t       z-index:1;\r\n\t\t  \t"\r\n\t></div>\r\n</div>'},function(t,e){t.exports='<div \r\n\tclass="frame-control pos-absolute fit-height border-box fit-width flex-row"\r\n\t$ref="frame-control"\r\n>\r\n\t\t<div\r\n\t\t\tclass="filler left-filler fit-height pos-absolute"\r\n\t\t\t$ref="frame-control.filler.left"\r\n\t\t></div>\r\n\t\t\r\n\t\t<div\r\n\t\t\tclass="frame fit-height flex-no-shrink pos-absolute border-box"\r\n\t\t\t$ref="frame-control.frame"\r\n\t\t\t$events="drag"\r\n\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass="plane left-plane fit-height flex-no-shrink pos-absolute"\r\n\t\t\t\t\t$ref="frame-control.left-plane"\r\n\t\t\t\t\t$events="drag"\r\n\t\t\t\t></div>\r\n\t\t\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass="plane right-plane fit-height flex-no-shrink pos-absolute"\r\n\t\t\t\t\t$ref="frame-control.right-plane"\r\n\t\t\t\t\t$events="drag"\r\n\t\t\t\t></div>\r\n\t\t</div>\r\n\t\r\n\t\t<div\r\n\t\t\tclass="filler right-filler fit-height pos-absolute"\r\n\t\t\t$ref="frame-control.filler.right"\r\n\t></div>\r\n</div>'},function(t,e){t.exports='<div \r\n\tclass="telechart-plot pos-relative fit-width fit-height overflow-hidden"\r\n\t$events="drag zoom click doubletap pan"\r\n\t$ref="dom"\r\n\tdata-plot-type="{{ params.plotType }}"\r\n>\r\n\t<div \r\n\t\tclass="canvas-wrapper pos-absolute fit-width fit-height"\r\n\t\t$ref="canvas-wrapper"\r\n\t></div>\r\n\t<div \r\n\t\tclass="dom-layer pos-absolute fit-width fit-height overflow-hidden"\r\n\t\t$ref="dom-layer"\r\n\t></div>\r\n</div>'},function(t,e){t.exports='<div \r\n\tclass="selected-position-circle pos-absolute"\r\n>\r\n\t<div \r\n\t\tclass="inner"\r\n\t\t$ref="inner"\r\n\t></div>\r\n</div>'},function(t,e){t.exports='<div \r\n\tclass="telechart flex-column fit-width fit-height border-box"\r\n\t$ref="telechart"\r\n\t$css="modifiers telechart">\r\n\t\t<div class="header caption flex-row flex-a-center flex-no-shrink">\r\n\t\t\t<p class="font-w-bold">Folowers</p>\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="major-plot-wrapper fit-width pos-relative flex-grow flex-stretch-content"\r\n\t\t\t$ref="major-plot-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="panorama-plot-wrapper fit-width pos-relative"\r\n\t\t\t$ref="panorama-plot-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="chart-controls-wrapper flex-row fit-width flex-no-shrink"\r\n\t\t\t$ref="chart-controls-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="theme-switcher button fit-width flex-row flex-j-center"\r\n\t\t\t$ref="theme-switcher"\r\n\t\t\t$events="click">\r\n\t\t\t\t<p \r\n\t\t\t\t\tclass="font-w-bold"\r\n\t\t\t\t\t$ref="theme-switcher-caption">Switch to Night Mode\r\n\t\t\t\t</p>\r\n\t\t</div>\r\n</div>'},function(t,e,n){var r={"./modifiers.scss":17,"./telechart.scss":18};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=16},function(t,e){t.exports=".flex-row {\n  display: flex;\n  flex-direction: row; }\n\n.flex-column {\n  display: flex;\n  flex-direction: column; }\n\n.flex-j-center {\n  display: flex;\n  justify-content: center; }\n\n.flex-a-center {\n  display: flex;\n  align-items: center; }\n\n.flex-grow {\n  display: flex;\n  flex-grow: 1; }\n\n.flex-no-shrink {\n  display: flex;\n  flex-shrink: 0; }\n\n.flex-shrink {\n  display: flex;\n  flex-shrink: 1; }\n\n.flex-stretch-content {\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch; }\n\n.fit-width {\n  width: 100%; }\n\n.fit-height {\n  height: 100%; }\n\n.border-box {\n  box-sizing: border-box; }\n\n.pos-absolute {\n  position: absolute;\n  left: 0;\n  top: 0; }\n\n.pos-relative {\n  position: relative; }\n\n.font-w-lighter {\n  font-weight: lighter; }\n\n.font-w-normal {\n  font-weight: normal; }\n\n.font-w-bold {\n  font-weight: 400; }\n\n.font-w-bolder {\n  font-weight: bolder; }\n\n.overflow-hidden {\n  overflow: hidden; }\n"},function(t,e){t.exports=".telechart {\n  user-select: none;\n  background-color: var(--telechartBackgroundColor);\n  padding: 16px;\n  -webkit-tap-highlight-color: transparent;\n  /* chart controls */ }\n  .telechart p {\n    margin: 0;\n    font-family: Tahoma, Verdana, Segoe, sans-serif;\n    color: var(--majorTextColor); }\n  .telechart .header.caption {\n    height: 40px; }\n  .telechart .major-plot-wrapper {\n    max-height: 70%; }\n  .telechart .panorama-plot-wrapper {\n    height: 48px;\n    min-height: 48px;\n    background-color: var(--panormaPlotBackground);\n    margin: 16px 0; }\n  .telechart .telechart-plot {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0; }\n  .telechart .button {\n    cursor: pointer;\n    user-select: none;\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Safari */\n    -khtml-user-select: none;\n    /* Konqueror HTML */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\r\n\t                                  supported by Chrome and Opera */ }\n  .telechart .theme-switcher p {\n    color: var(--themeSwitherCaptionColor); }\n  .telechart .frame-control {\n    z-index: 1;\n    flex-wrap: 0; }\n    .telechart .frame-control .filler {\n      background: black;\n      background-color: var(--frameControlBackgroundColor); }\n      .telechart .frame-control .filler.left-filler {\n        left: 0; }\n      .telechart .frame-control .filler.right-filler {\n        right: 0;\n        left: auto; }\n    .telechart .frame-control .frame {\n      width: 1px;\n      border-top: 2px solid var(--frameControlPlaneBackgroundColor);\n      border-bottom: 2px solid var(--frameControlPlaneBackgroundColor);\n      z-index: 1;\n      cursor: move; }\n    .telechart .frame-control .plane {\n      width: 6px;\n      cursor: col-resize;\n      background-color: var(--frameControlPlaneBackgroundColor);\n      border-right: 8px solid transparent;\n      border-left: 8px solid transparent;\n      background-clip: content-box; }\n      .telechart .frame-control .plane.left-plane {\n        left: 0;\n        transform: translateX(-48px);\n        border-left: 48px solid transparent; }\n      .telechart .frame-control .plane.right-plane {\n        right: 0;\n        left: auto;\n        transform: translateX(48px);\n        border-right: 48px solid transparent; }\n  .telechart .selected-position-circle .inner {\n    width: 16px;\n    height: 16px;\n    background: var(--telechartBackgroundColor);\n    transform: translate(-50%, -50%);\n    border-radius: 50%;\n    border: 2px solid var(--borderColor); }\n  .telechart .chart-controls {\n    min-height: 48px;\n    max-height: 64px; }\n    .telechart .chart-controls .series-buttons {\n      align-items: flex-start; }\n      .telechart .chart-controls .series-buttons .series-button {\n        padding: 6px;\n        border-radius: 40px;\n        border: 1px solid var(--seriesButtonBorderColor);\n        margin-right: 16px; }\n        .telechart .chart-controls .series-buttons .series-button .checkbox-wrapper {\n          width: 20px;\n          height: 20px;\n          margin-right: 8px;\n          border-radius: 50%;\n          border-width: 10px;\n          border-style: solid;\n          transition: border-width 0.15s ease-in; }\n          .telechart .chart-controls .series-buttons .series-button .checkbox-wrapper .box {\n            background-color: #fff;\n            height: 2px;\n            width: 6px;\n            border-radius: 4px;\n            transition-property: transform, opacity;\n            transition: 0.25s ease-in;\n            left: 50%;\n            top: 50%; }\n            .telechart .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-a {\n              transform: rotateZ(225deg) translate(-2px, -3px);\n              transform-origin: 0 50%; }\n            .telechart .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-b {\n              transform: rotateZ(-45deg) translate(-4px, 2px);\n              width: 10px;\n              transform-origin: 0 50%; }\n        .telechart .chart-controls .series-buttons .series-button p.caption {\n          margin-right: 8px;\n          font-size: 13px; }\n        .telechart .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper {\n          border-width: 1px; }\n          .telechart .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper .box {\n            opacity: 0;\n            width: 2px; }\n"},function(t,e,n){var r={"./frag.default.glsl":20,"./vert.default.glsl":21,"./vert.line2d.glsl":22};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=19},function(t,e){t.exports="precision highp float;\r\n\r\nuniform vec3 diffuse;\r\n\r\nvoid main(void) {\r\n   gl_FragColor = vec4(diffuse, 1);\r\n}"},function(t,e){t.exports="precision highp float;\r\n\r\nattribute vec2 coords;\r\nuniform vec2 position;\r\n\r\nuniform vec2  worldPosition;\r\nuniform vec2  worldScale;\r\nuniform vec2  viewportSize;\r\n\r\nvec2 translate ( vec2 pos ) {\r\n\tpos += position;\r\n\tpos -= worldPosition;\r\n\treturn( pos );\r\n}\r\n\r\nvec2 project ( vec2 pos ) {\r\n\t// pos -= worldPosition;\r\n\tpos /= worldScale;\r\n\tpos /= viewportSize;\r\n\t// pos -= 1.;\r\n\treturn( pos );\r\n}\r\n\r\nvoid set ( vec2 pos ) {\r\n\tgl_Position = vec4(pos.xy , 0., 1.0);\r\n}\r\n\r\n\r\nvoid main(void) {\r\n   vec2 pos = vec2( coords );\r\n   \r\n   pos = translate( pos );\r\n   pos = project( pos );\r\n   \r\n   set( pos );\r\n}"},function(t,e){t.exports="precision highp float;\r\n\r\nattribute vec2 coords;\r\nattribute vec2 normal;\r\n\r\nuniform vec2  position;\r\nuniform float thickness;\r\n\r\nuniform float resolution;\r\nuniform vec2  worldPosition;\r\nuniform vec2  worldScale;\r\nuniform vec2  viewportSize;\r\n\r\nvec2 scaleNormal ( vec2 normal, vec2 scale ) {\r\n   normal.x /= scale.y;    \r\n   normal.y /= scale.x;    \r\n\r\n   float hypo = sqrt( pow( normal.x, 2. ) + pow( normal.y, 2. ) );\r\n   float nsin = normal.y / hypo;\r\n   float ncos = normal.x / hypo;\r\n\r\n   normal.x = ncos;\r\n   normal.y =nsin;                                                             \r\n\r\n   return(normal);\r\n}\r\n\r\nvoid main(void) {\r\n   \tvec2 pos = vec2( coords );\r\n\r\n   \tpos -= position;\r\n      pos -= worldPosition;\r\n\r\n   \tpos /= worldScale;\r\n      vec2 n = scaleNormal( normal, worldScale );\r\n\r\n   \tpos += ( n * ( thickness / 2. * resolution ) );\r\n\r\n   \tpos /= viewportSize;\r\n      pos -= 1.;\r\n\r\n   \tgl_Position = vec4( pos.x, pos.y, 0., 1. );\r\n\r\n}"},function(t,e,n){var r={"./day.yml":24,"./night.yml":25};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=23},function(t,e){t.exports={name:"day",default:!0,values:{telechartBackgroundColor:"#ffffff",borderColor:"#000000",majorTextColor:"#000000",panormaPlotBackground:"#f5f9fb",themeSwitherCaptionColor:"#108be3",frameControlBackgroundColor:"#edf4f8d6",frameControlPlaneBackgroundColor:"#0000001f",seriesButtonBorderColor:"#0000001f"}}},function(t,e){t.exports={name:"night",values:{telechartBackgroundColor:"#242f3e",borderColor:"#ffffff",majorTextColor:"#ffffff",panormaPlotBackground:"#1f2a38",themeSwitherCaptionColor:"#36a8f1",frameControlBackgroundColor:"#1f2a38cc",frameControlPlaneBackgroundColor:"#40566bcc",seriesButtonBorderColor:"#40566bcc"}}},function(t,e,n){n.r(e);var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"addTask",value:function(e){var n=r.a.generateRandomString("task",16);return this.$tasks=this.$tasks||{},this.$tasks[n]=e,this.removeTask.bind(t,n)}},{key:"removeTask",value:function(t){delete this.$tasks[t]}},{key:"init",value:function(){this.$state={prevFrameTime:+new Date},this.tick=this.tick.bind(this)}},{key:"start",value:function(){this.stop(),this.init(),this.tick()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.$rafId)}},{key:"tick",value:function(){this.$rafId=window.requestAnimationFrame(this.tick);var t=+new Date,e=t-this.$state.prevFrameTime,n=e/(1e3/60);this.$state.prevFrameTime=t,r.a.loopCollection(this.$tasks,function(t,r){t(n,e)})}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}(),a=n(3),s=n(2);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){var n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i="",(o="cssText")in(n=this)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this.$name=e.name,this.$values=new r.a.DataKeeper(e.values),this.$updateCSS()}var e,n,o;return e=t,(n=[{key:"$updateCSS",value:function(){this.cssText=r.a.generateVarsCSS(this.$values)}},{key:"apply",value:function(){r.a.injectCSS("telechart-skin-vars",this.cssText),console.log("skin ".concat(this.$name," applied"))}}])&&l(e.prototype,n),o&&l(e,o),t}(),c=n(4),f=n(1);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=e.vertices,this.buffer=e.buffer}return h(t,null,[{key:"setValue",value:function(t,e,n){for(var o=n*e,i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];r.a.loopCollection(a,function(e,n){t[o+n]=e})}}]),h(t,[{key:"setValue",value:function(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.setValue.apply(t,[this.vertices,e].concat(o))}}]),t}();function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$state=new r.a.DataKeeper({geometryInited:!1,indicesInitialized:!1}),this.attributes=new r.a.DataKeeper,e&&e.attributes&&this.setAttributesData(e.attributes)}return y(t,[{key:"geometryInited",get:function(){return this.$state.geometryInited}},{key:"indicesCount",get:function(){return this.$state.indices.length}}]),y(t,[{key:"setAttributesData",value:function(t){this.$state.attributesData=t}},{key:"init",value:function(t,e,n){var o=this;this.$state.geometryInited=!0,r.a.loopCollection(this.$state.attributesData,function(n,r){o.$addAttribute(t,e,r,n)}),this.$state.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.$state.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.$state.indices),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}},{key:"$addAttribute",value:function(t,e,n,r){this.$state.indicesInitialized||this.$generateIndices(r.length/2),this.attributes[n]=new m({vertices:r,buffer:e.createBuffer()}),e.bindBuffer(e.ARRAY_BUFFER,this.attributes[n].buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)}},{key:"$generateIndices",value:function(t){var e=[];r.a.loop(0,t,1,!0,function(t){e[t]=t}),this.$state.indicesInitialized=!0,this.$state.indices=e}},{key:"bind",value:function(t,e,n){var o=this;r.a.loopCollection(this.attributes,function(t,r){var i=t.buffer;e.bindBuffer(e.ARRAY_BUFFER,i),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o.$state.indexBuffer);var a=e.getAttribLocation(n,r);a>-1&&(e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a))})}}]),t}();function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var g=function(){function t(e,n,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=n,this.name=e,this.shaderProgram=this.shaderProgram,this.type=i,this.value=a,this.$state=new r.a.DataKeeper({loc:n.getUniformLocation(o,e)})}var e,n,o;return e=t,(n=[{key:"update",value:function(){this.value.isSimple?this.gl[this.type](this.$state.loc,this.value.valueOf()):this.gl[this.type](this.$state.loc,this.value.toArray())}}])&&b(e.prototype,n),o&&b(e,o),t}();function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$state=new r.a.DataKeeper({uniformsData:e.uniforms,materialInited:!1,uniformsInited:!1,vertexShaderCode:s.a.assets.shaders[e.vertexShader],fragmentShaderCode:s.a.assets.shaders[e.fragmentShader]}),this.uniforms=new r.a.DataKeeper}return $(t,[{key:"materialInited",get:function(){return this.$state.materialInited}},{key:"program",get:function(){return this.$state.shaderProgram}}]),$(t,[{key:"init",value:function(t,e){this.$state.materialInited=!0,this.$state.fragmentShader=this.$compileShader(t,e,"fragment",this.$state.fragmentShaderCode),this.$state.vertexShader=this.$compileShader(t,e,"vertex",this.$state.vertexShaderCode),this.$state.shaderProgram=e.createProgram(),e.attachShader(this.$state.shaderProgram,this.$state.vertexShader),e.attachShader(this.$state.shaderProgram,this.$state.fragmentShader),this.$linkProgram(e),this.$initUniforms(t,e)}},{key:"$compileShader",value:function(t,e,n,r){var o=e.createShader("vertex"==n?e.VERTEX_SHADER:e.FRAGMENT_SHADER);return e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)||console.log("Shader compilation failed: ".concat(e.getShaderInfoLog(o)," ")),o}},{key:"$initUniforms",value:function(t,e){var n=this,o=this.$state.shaderProgram;r.a.loopCollection(this.$state.uniformsData,function(t,r){n.addUniform(r,e,o,t.type,t.value)}),this.addUniform("position",e,o,"uniform2fv",f.a.vec2(0,0)),this.addUniform("worldPosition",e,o,"uniform2fv",f.a.vec2(0,0)),this.addUniform("worldScale",e,o,"uniform2fv",f.a.vec2(0,0)),this.addUniform("viewportSize",e,o,"uniform2fv",f.a.vec2(0,0)),this.addUniform("resolution",e,o,"uniform1f",f.a.float32(1))}},{key:"$linkProgram",value:function(t){t.linkProgram(this.$state.shaderProgram)}},{key:"addUniform",value:function(t,e,n,r,o){this.uniforms[t]=new g(t,e,n,r,o)}},{key:"updateUniforms",value:function(){r.a.loopCollection(this.uniforms,function(t,e){t.update()})}}]),t}();function k(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"parentNode",null),this.children=[],this.UUID=r.a.generateRandomString("rendering-object-".concat(this.constructor.name),16),this.$data={},this.$temp={},this.$params={},this.$state={position:f.a.vec2(0,0),boundRect:f.a.rect(0,0,0,0),culled:!0,projectionCulled:!0,visible:!0},this.$setupHiddenDOM(),e&&(this.defaultParams?this.setParams(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_(t,e,n[e])})}return t}({},this.defaultParams,{params:e})):this.setParams(e)),r.a.proxyProps(this,this.$state,["culled","projectionCulled","position","visible"])}var e,n,o;return e=t,(n=[{key:"getBoundRect",value:function(){return this.$state.boundRect}},{key:"setAttributes",value:function(t){var e=this;r.a.loopCollection(t,function(t,n){e.$hiddenDOM.setAttribute(n,t)})}},{key:"setStyles",value:function(t){}},{key:"setParams",value:function(t){var e=this;r.a.loopCollection(t,function(t,n){"styles"==n?e.setStyles(t):"attributes"==n?e.setAttributes(t):e.$params[n]=void 0!==t?t:e.$params.name})}},{key:"addChild",value:function(t){this.children.push(t),t.parentNode=this,this.$hiddenDOM.appendChild(t.$hiddenDOM)}},{key:"removeChild",value:function(t){var e=this;r.a.loopCollection(this.children,function(n,r){if(t.UUID==n.UUID)return e.$hiddenDOM.removeChild(t.$hiddenDOM),t.parentNode=null,e.children.splice(r,1),!0})}},{key:"cutOff",value:function(){this.parentNode&&this.parentNode.removeChild(this)}},{key:"render",value:function(t,e,n,o,i){n+=this.$state.position.x,o+=this.$state.position.y,r.a.loopCollection(this.children,function(r,a){r.visible&&r.render(t,e,n,o,i)})}},{key:"select",value:function(t,e){var n=k(this.$hiddenDOM.querySelectorAll(r.a.generateAttributesSelector(t)));return r.a.loopCollection(n,function(t,r){e&&e(t.$renderingObject,r),n[r]=t.$renderingObject}),n}},{key:"$setupHiddenDOM",value:function(){this.$hiddenDOM=document.createElement(this.constructor.name),this.$hiddenDOM.$renderingObject=this,this.$hiddenDOM.setAttribute("type",this.constructor.name)}}])&&O(e.prototype,n),o&&O(e,o),t}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,e,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(t){function e(t){var n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,n=!(i=T(e).call(this,t))||"object"!==S(i)&&"function"!=typeof i?C(o):i,r.a.proxyProps(C(n),n.$params,["material","geometry"]),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,P),n=e,(o=[{key:"render",value:function(t,n,r,o,i){j(T(e.prototype),"render",this).call(this,t,n,r,o,i),r+=this.position.x,o+=this.position.y,this.material.materialInited||this.material.init(t,n),this.geometry.geometryInited||this.geometry.init(t,n,this.material.program),n.useProgram(this.material.program),this.geometry.bind(t,n,this.material.program),this.material.updateUniforms(),this.material.uniforms.position.value.set(r,o),this.material.uniforms.worldPosition.value.set(t.worldPosition),this.material.uniforms.worldScale.value.set(t.worldScale),this.material.uniforms.viewportSize.value.set(t.size),this.material.uniforms.resolution.value.set(s.a.DPR),n.drawElements(n.TRIANGLES,this.geometry.indicesCount,n.UNSIGNED_SHORT,0)}}])&&E(n.prototype,o),i&&E(n,i),e}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&U(t.prototype,e),n&&U(t,n),t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=A(this,V(e).call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){z(t,e,n[e])})}return t}({scale:f.a.vec2(1,1),size:f.a.vec2(1,1),applyScaleX:!1,applyScaleY:!1,applySizeX:!1,applySizeY:!1,applyPosX:!0,applyPosY:!0},t)))).$temp={prevEngine:null,prevGl:null,prevPx:0,prevPy:0},n.$state.culled=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,P),B(e,[{key:"scale",get:function(){return this.$params.scale}},{key:"size",get:function(){return this.$params.size}},{key:"soloRenderingAvailable",get:function(){return!!this.$temp.prevEngine}}]),B(e,[{key:"setStyles",value:function(t,e){r.a.assignValues((e||this.$params.domElement).style,t)}},{key:"setStyle",value:function(t,e){this.$params.domElement.style[t]=e}},{key:"render",value:function(t,e,n,r){if(!t){if(!this.soloRenderingAvailable)return;t=this.$temp.prevEngine,e=this.$temp.prevGl,n=this.$temp.prevPx,r=this.$temp.prevPy}var o=s.a.DPR;this.$temp.prevEngine=t,this.$temp.prevGl=e,this.$temp.prevPx=n,this.$temp.prevPy=r,n+=this.$state.position.x,r+=this.$state.position.y;var i=t.toReal(n,r),a=t.toRealScale(this.$params.scale.x,this.$params.scale.y),l=t.toRealScale(this.$params.size.x,this.$params.size.y),u=this.$params.applyScaleX,c=this.$params.applyScaleY,f=this.$params.applySizeX,p=this.$params.applySizeY,h=this.$params.applyPosX,m=this.$params.applyPosY;this.$params.domElement.style.transform=this.setStyle("transform","translate(".concat(h?i.x/o:0,"px, ").concat(m?i.y/o:0,"px) scale(").concat(u?a.x/o:1,", ").concat(c?a.y/o:1,")")),f&&this.setStyle("width","".concat(l.x/o,"px")),p&&this.setStyle("height","".concat(l.y/o,"px"))}}]),e}();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,Y(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,P),e}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=W(this,q(e).call(this,t))).$params.material=new x({fragmentShader:"frag.default",vertexShader:"vert.line2d",uniforms:t.uniforms}),n.$temp.direction=f.a.vec2(0,0),n.$temp.negNormal=f.a.vec2(0,0),n.$temp.posNormal=f.a.vec2(0,0),n.$params.geometry=new v,t.points&&n.setPoints(t.points),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,R),n=e,(o=[{key:"setPoints",value:function(t){this.$data.points=t;var e=f.a.getExtremum(t);this.$state.boundRect.set(t[0].x,e.min,t[t.length-1].x-this.$state.boundRect.x,e.size),this.geometry.setAttributesData(this.$generateLineGeometry(t))}},{key:"$generateLineGeometry",value:function(t){var e=this,n=[],o=[],i=0;return r.a.loopCollection(t,function(r,a){if(a<t.length-2){var s=t[a+1],l=f.a.vec2direction(e.$temp.direction,r,s),u=f.a.vec2normal(e.$temp.negNormal,l,!1),c=f.a.vec2normal(e.$temp.posNormal,l,!0);m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,u.x,u.y),m.setValue(n,2,i,s.x,s.y),m.setValue(o,2,i++,u.x,u.y),m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,c.x,c.y),m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,c.x,c.y),m.setValue(n,2,i,s.x,s.y),m.setValue(o,2,i++,u.x,u.y),m.setValue(n,2,i,s.x,s.y),m.setValue(o,2,i++,c.x,c.y)}else{var p=t[a-1],h=f.a.vec2direction(e.$temp.direction,r,p),d=f.a.vec2normal(e.$temp.negNormal,h,!1),y=f.a.vec2normal(e.$temp.posNormal,h,!0);m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,d.x,d.y),m.setValue(n,2,i,p.x,p.y),m.setValue(o,2,i++,d.x,d.y),m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,y.x,y.y),m.setValue(n,2,i,r.x,r.y),m.setValue(o,2,i++,y.x,y.y),m.setValue(n,2,i,p.x,p.y),m.setValue(o,2,i++,d.x,d.y),m.setValue(n,2,i,p.x,p.y),m.setValue(o,2,i++,y.x,y.y)}}),{coords:n,normal:o}}}])&&G(n.prototype,o),i&&G(n,i),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t,e,n){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),t}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=nt(e).call(this))||"object"!==J(o)&&"function"!=typeof o?tt(n):o).$modules={canvas:new c.a({template:"canvas-element"})},t.$dom={canvasElement:t.$modules.canvas.domElement},t.$state={gl:t.$dom.canvasElement.getContext("webgl"),size:f.a.vec2(1,1),position:f.a.vec2(0,0),scale:f.a.vec2(1,1),viewport:f.a.rect(0,0,1,1),worldPosition:f.a.vec2(0,0),worldScale:f.a.vec2(1,1),culledObjectsCount:0,projectionModified:!0,sizeNeedsUpdate:!0},r.a.proxyProps(tt(t),t.$state,["position","scale","viewport","size","worldScale","worldPosition"]),t.render=t.render.bind(tt(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,r["a"].aggregation(a["a"],P)),ot(e,[{key:"domElement",get:function(){return this.$dom.canvasElement}}]),ot(e,[{key:"setSize",value:function(t,e){t*=s.a.DPR,e*=s.a.DPR,this.$state.size.x===t&&this.$state.size.y===e||t&&e&&(this.$dom.canvasElement.width=t,this.$dom.canvasElement.height=e,this.$state.size.set(t,e),this.$state.gl.viewport(0,0,t,e),this.updateProjection())}},{key:"setScale",value:function(t,e){this.$state.viewport.w=this.$state.size.x*t,this.$state.viewport.h=this.$state.size.y*e,this.updateProjection()}},{key:"setPosition",value:function(t,e){e="number"==typeof e?e:this.$state.position.y,this.$state.position.x=t,this.$state.position.y=e,this.updateProjection()}},{key:"setViewport",value:function(t,e,n,r){var o=this.$state.viewport;o.x=t,o.y=e,o.w=n,o.h=r,this.$state.position.set(o.x,o.y),this.emit("viewport.updated",o),this.updateProjection()}},{key:"fitSize",value:function(){if(this.domElement.parentNode){var t=this.domElement.parentElement.getBoundingClientRect();this.setSize(t.width,t.height)}}},{key:"isCulled",value:function(t,e,n){if(!t.visible)return!0;if(t.culled){var r=t.getBoundRect(),o=f.a.translateRect(this.$temp.boundRect,r,e,n);return t.projectionCulled=!f.a.rectIntersectsRect(o,this.$state.viewport),t.projectionCulled}return!1}},{key:"updateProjection",value:function(){var t=this.$state.viewport,e=this.$state.position,n=this.$state.worldPosition,r=this.$state.worldScale,o=this.$state.size;this.$state.scale.set(t.w/o.x,t.h/o.y),t.x=e.x,t.y=e.y,n.x=t.x,n.y=t.y,r.x=this.$state.scale.x/2,r.y=this.$state.scale.y/2,this.$state.projectionModified=!0}},{key:"toReal",value:function(t,e){return f.a.point((t-this.position.x)/this.scale.x|0,this.size.y-(e-this.position.y)/this.scale.y|0)}},{key:"toRealScale",value:function(t,e){return f.a.point(t/this.scale.x|0,e/this.scale.y|0)}},{key:"toVirtual",value:function(t,e){return f.a.point(t*this.scale.x+this.position.x,(this.size.y-e)*this.scale.y+this.position.y)}},{key:"toVirtualScale",value:function(t,e){return f.a.point(t*this.scale.x,e*this.scale.y)}},{key:"render",value:function(t){this.fitSize(),this.$state.projectionModified=!1,et(nt(e.prototype),"render",this).call(this,this,this.$state.gl,-this.$state.position.x,-this.$state.position.y,1)}},{key:"updateValue",value:function(t){this.value=t||this.value}}]),e}();at(st,"Geometry",v),at(st,"Material",x),at(st,"Mesh",R),at(st,"RenderingObject",P),at(st,"Uniform",g),at(st,"DOMElement",F),at(st,"Group",X),at(st,"Line",Z);var lt=st;function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ct,ft,pt,ht=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"tween",value:function(t){var e=this,n=t.fromValue,r=t.toValue,o=t.duration,a=t.ease||"easeInOutQuad",s=this.$easingFunctions[a],l=t.onUpdate||function(){},u=+new Date,c=i.addTask(function(t){var i=(+new Date-u)/o,a=e.$getValue(n,r,i,s);i>=1&&c(),l(a,i>=1)});return c}},{key:"$getValue",value:function(t,e,n,r){return t+(e-t)*r(n)}}],(n=null)&&ut(e.prototype,n),r&&ut(e,r),t}();pt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInBack:function(t){return t*t*(3.5*t-2.5)},easeOutBack:function(t){return--t*t*(3.5*t+2.5)+1}},(ft="$easingFunctions")in(ct=ht)?Object.defineProperty(ct,ft,{value:pt,enumerable:!0,configurable:!0,writable:!0}):ct[ft]=pt;var mt=ht;function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){vt(t,e,n[e])})}return t}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e,n){return e&&wt(t.prototype,e),n&&wt(t,n),t}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kt=function(t){function e(t){var n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(i=bt(e).call(this))||"object"!==dt(i)&&"function"!=typeof i?gt(o):i).$state.set({extremum:f.a.range(0,0),series:new r.a.DataKeeper}),n.$modules.set({renderingEngine:new lt,domComponent:new c.a(yt({template:"plot"},t))}),r.a.proxyMethods(gt(n),n.$modules.renderingEngine,["toVirtual","toVirtualScale","setViewport","fitSize","setPosition","setScale"]),n.$modules.domComponent.addChild("canvas-wrapper",n.$modules.renderingEngine.domElement),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,a["a"]),$t(e,[{key:"position",get:function(){return this.$modules.renderingEngine.position}},{key:"scale",get:function(){return this.$modules.renderingEngine.scale}},{key:"viewport",get:function(){return this.$modules.renderingEngine.viewport}}]),$t(e,[{key:"addSeries",value:function(t){console.log(t),this.$state.beginTime=t.series.beginTime,this.$state.finishTime=t.series.finishTime;var e=new lt.Line({points:t.points,attributes:{"content-type":"series","series-type":t.series.type,"series-name":t.series.name,"series-id":t.series.id},uniforms:{thickness:{type:"uniform1f",value:f.a.float32(4)},diffuse:{type:"uniform3fv",value:f.a.color(t.series.color)}}});this.setViewport(t.series.beginTime,t.extremum.min,t.series.finishTime-t.series.beginTime,t.extremum.max-t.extremum.min),this.setPosition(t.series.beginTime),this.$modules.renderingEngine.addChild(e),this.$state.series.set(t.series.id,t)}},{key:"startRendering",value:function(){this.stopRendering(),this.stopRendering=i.addTask(this.$modules.renderingEngine.render)}},{key:"render",value:function(){this.$modules.renderingEngine.render()}},{key:"stopRendering",value:function(){}},{key:"setExtremum",value:function(t,e){var n=this;if(t.isFinite&&(t.min!=this.$state.extremum.min||this.$state.extremum.max!=t.max)){this.$state.extremum.set(t);var r=t.size*s.a.values.plotExtremumPadding;t.min-=r,t.max+=r;var o=this.$modules.renderingEngine.viewport,i=this.$modules.renderingEngine.position;e?(this.$temp.killExtremumTweenY&&this.$temp.killExtremumTweenY(),this.$temp.killExtremumTweenY=mt.tween({fromValue:i.y,toValue:t.min,duration:s.a.values.plotExtremumTweenDuration,ease:"linear",onUpdate:function(t,e){i.y=t,n.$modules.renderingEngine.updateProjection(),e&&n.$temp.killExtremumTweenY()}}),this.$temp.killExtremumTweenH&&this.$temp.killExtremumTweenH(),this.$temp.killExtremumTweenH=mt.tween({fromValue:o.h,toValue:t.size,duration:s.a.values.plotExtremumTweenDuration,ease:"linear",onUpdate:function(t,e){o.h=t,n.$modules.renderingEngine.updateProjection(),e&&n.$temp.killExtremumTweenH()}})):(o.y=t.min,o.h=t.max-t.min)}}},{key:"setSeriesVisibility",value:function(t,e){var n=this;this.$modules.renderingEngine.select({"content-type":"series","series-id":t},function(t){e&&(t.visible=e),mt.tween({fromValue:t.alpha,toValue:e?1:0,duration:s.a.values.plotSeriesVisibilityTweenDuration,ease:e?"easeInQuad":"easeOutQuad",onUpdate:function(r,o){t.alpha=r,n.$modules.renderingEngine.updateProjection(),o&&!e&&(t.isVisible=e)}})})}}]),e}();function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Pt(e).call(this,t))||"object"!==Ot(o)&&"function"!=typeof o?St(r):o).$temp.circlesRenderingObjects={},n.$modules.domComponent.on("dom.drag",n.$onUserDrag.bind(St(n))),n.$modules.domComponent.on("dom.click",n.$onUserClick.bind(St(n))),n.$modules.domComponent.on("dom.pan",n.$onUserPan.bind(St(n))),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,kt),n=e,(o=[{key:"$onUserDrag",value:function(t){var e=this.$modules.renderingEngine.toVirtual(t.x,t.y);this.emit("user.position.select",e)}},{key:"$onUserClick",value:function(t){var e=this.$modules.renderingEngine.toVirtual(t.x,t.y);this.emit("user.position.select",e)}},{key:"$onUserPan",value:function(t){if(t.panDelta>0){var e=this.$modules.renderingEngine.scale;this.$modules.renderingEngine.setScale(e.x*t.panDelta,e.y)}}},{key:"setSelectedPositionValues",value:function(t){var e=this;r.a.loopCollection(this.$temp.circlesRenderingObjects,function(t,e){t.visible=!1}),r.a.loopCollection(t,function(t,n){var r=e.$temp.circlesRenderingObjects[n];if(!r){var o=new c.a({template:"selected-position-circle"});(r=new lt.DOMElement({domElement:o.domElement,domComponent:o,applyScaleY:!1,applyScaleX:!1,applyPosY:!0,applyPosX:!0,test:!0})).setStyles({borderColor:e.$state.series[n].series.color,width:"".concat(s.a.values.plotSelectedPositionCircleRadius,"px"),height:"".concat(s.a.values.plotSelectedPositionCircleRadius,"px")},o.ref("inner")),e.$modules.domComponent.addChild("dom-layer",o.domElement),e.$modules.renderingEngine.addChild(r),e.$temp.circlesRenderingObjects[n]=r}r.visible=!0,r.position.set(t),r.soloRenderingAvailable?(r.render(),e.$modules.renderingEngine.updateProjection()):e.$modules.renderingEngine.updateProjection()})}}])&&_t(n.prototype,o),i&&_t(n,i),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(t,e,n){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var At=function(t){function e(t){var n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(i=Mt(e).call(this,t))||"object"!==jt(i)&&"function"!=typeof i?Dt(o):i).$state.beginTime=0,n.$state.frameViewportRect=f.a.rect(0,0,0,0);var a=n.$modules.frameControlComponent=new c.a({template:"frame-control"});return n.$modules.domComponent.addChild("dom-layer",n.$modules.frameControlComponent.domElement),a.on("frame-control.left-plane.drag",n.$onFrameControlLeftPlaneDrag.bind(Dt(n))),a.on("frame-control.right-plane.drag",n.$onFrameControlRightPlaneDrag.bind(Dt(n))),a.on("frame-control.frame.drag",n.$onFrameControlFrameDrag.bind(Dt(n))),n.$modules.frameControlsRenderingObject=new lt.DOMElement({domElement:a.ref("frame-control.frame"),applyPosX:!0,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsLeftFillerRenderingObject=new lt.DOMElement({domElement:a.ref("frame-control.filler.left"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsRightFillerRenderingObject=new lt.DOMElement({domElement:a.ref("frame-control.filler.right"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsLeftFillerRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRightFillerRenderingObject),r.a.proxyProps(Dt(n),n.$state,["frameViewportRect"]),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,kt),n=e,(o=[{key:"setFramePosition",value:function(t){var e=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,r=this.$state.beginTime,o=this.$state.finishTime;t<r&&(t=r),t+n.w>o&&(t=o-n.w),n.x=t,e.position.x=t,e.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"setFrameSize",value:function(t){var e=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,r=(this.$state.beginTime,this.$state.finishTime,this.$state.accuracy);t<r&&(t=r),n.x+t>this.$state.finishTime&&(t=this.$state.finishTime-n.x),n.w=t,e.size.x=t,e.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"$updateFillers",value:function(){var t=this.$modules.frameControlsLeftFillerRenderingObject,e=this.$modules.frameControlsRightFillerRenderingObject,n=this.$state.frameViewportRect,r=this.$state.beginTime,o=this.$state.finishTime;this.$state.accuracy;t.size.x=n.x-r,e.size.x=o-(n.x+n.w),t.render(),e.render()}},{key:"$onFrameControlLeftPlaneDrag",value:function(t){var e=this.$modules.renderingEngine.toVirtualScale(t.dragX,0),n=this.$state.frameViewportRect.x+e.x,r=this.$state.frameViewportRect.w-e.x;r<=this.$state.accuracy&&(r=this.$state.accuracy,n-=e.x),n<=this.$state.beginTime&&(n=this.$state.beginTime,r+=e.x),this.setFramePosition(n),this.setFrameSize(r)}},{key:"$onFrameControlRightPlaneDrag",value:function(t){var e=this.$modules.renderingEngine.toVirtualScale(t.dragX,0);this.setFrameSize(this.$state.frameViewportRect.w+e.x)}},{key:"$onFrameControlFrameDrag",value:function(t){var e=this.$modules.renderingEngine.toVirtualScale(t.dragX,0);this.setFramePosition(this.$state.frameViewportRect.x+e.x)}},{key:"addSeries",value:function(t){Rt(Mt(e.prototype),"addSeries",this).call(this,t),this.setFrameSize((t.series.finishTime-t.series.beginTime)/5),this.setFramePosition(t.series.finishTime)}}])&&Tt(n.prototype,o),i&&Tt(n,i),e}();function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var It=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Bt(this,Lt(e).call(this))).$temp.seriesButtons=new r.a.DataKeeper,t.$modules.domComponent=new c.a({template:"chart-control"}),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,a["a"]),n=e,(o=[{key:"addSeriesButton",value:function(t){var e=this,n=t.id,o=new c.a({template:"chart-control-series-button"});this.$modules.domComponent.addChild("series-buttons",o.domElement),this.$temp.seriesButtons[n]=o,r.a.assignValues(o.ref("checkbox-wrapper").style,{borderColor:t.color}),o.ref("caption").textContent=t.name,o.on("series-button.click",function(){e.emit("toggle.series.visibility",t)})}},{key:"removeSeriesButton",value:function(t){}},{key:"setSeriesVisibility",value:function(t,e){e?this.$temp.seriesButtons[t].classList.remove("disabled"):this.$temp.seriesButtons[t].classList.add("disabled")}}])&&Ut(n.prototype,o),i&&Ut(n,i),e}();function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yt=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.$state=new r.a.DataKeeper({beginTime:0,finishTime:0,accuracy:1,id:n.id,color:n.color,type:n.type,visible:!0}),r.a.proxyProps(this,this.$state,["accuracy","beginTime","finishTime","id","color","type","visible"]),this.$content=new r.a.DataKeeper,this.$setSeriesData(n,o)}var e,n,o;return e=t,(n=[{key:"$setSeriesData",value:function(t,e){var n=this.$state.beginTime=e.beginTime,o=this.$state.finishTime=e.finishTime,i=this.$state.accuracy=e.accuracy,a=[];r.a.loop(n,o,i,!1,function(e,n){a.push(f.a.point(e,t.points[n]))}),this.$content[i]=a}},{key:"getLayer",value:function(){var t=this.$state.accuracy;return this.$content[t]||null}},{key:"slice",value:function(t,e){var n=this.$state.accuracy;return e+=n,(t-=n)<this.$state.beginTime&&(t=this.$state.beginTime),e>this.$state.finishTime&&(e=this.$state.finishTime),e=f.a.nearestMult(e,n,!0,!0),t=(t-this.$state.beginTime)/n,e=(e-this.$state.beginTime)/n,this.getLayer(n).slice(t,e)}},{key:"getExtremum",value:function(t,e){var n=this.slice(t,e);return f.a.getExtremum(n)}},{key:"getValueAt",value:function(t){var e=this.$state.accuracy,n=this.getLayer();t<this.$state.beginTime&&(t=this.$state.beginTime),t>this.$state.finishTime&&(t=this.$state.finishTime);var r=t,o=(r=f.a.nearestMult(t,e,!1,!0))+e,i=f.a.getStep(r,o,t);r=(r-this.$state.beginTime)/e,o=(o-this.$state.beginTime)/e;var a=f.a.smoothstep(n[r],n[o],i);return f.a.point(t,a)}}])&&Nt(e.prototype,n),o&&Nt(e,o),t}();function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t,e,n){return e&&Gt(t.prototype,e),n&&Gt(t,n),t}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Xt(this,Ht(e).call(this))).$state=new r.a.DataKeeper({beginTime:0,finishTime:0}),t.series=new r.a.DataKeeper,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,a["a"]),Wt(e,null,[{key:"normalizeChartData",value:function(t){var e=this,n={};return r.a.loopCollection(t.columns,function(r,o){var i="string"==typeof r[0]?r.shift():0===o?"x":"y".concat(o-1),a=t.types[i],s=t.names[i],l=t.colors[i];switch(a){case"x":n.time=e.processTimeRawData(r);break;default:n.series=n.series||{},n.series[i]={id:i,name:s,type:a,color:l,points:r}}}),n}},{key:"processTimeRawData",value:function(t){var e,n,o=null;return r.a.loopCollection(t,function(r,i){0==i?e=r:i==t.length-1&&(n=r),null===o&&i>0&&(o=r-t[i-1])}),{beginTime:e,finishTime:n,accuracy:o}}}]),Wt(e,[{key:"importRawDataset",value:function(t){this.importDataset(e.normalizeChartData(t))}},{key:"importDataset",value:function(t){var e=this;r.a.loopCollection(t.series,function(n,r){e.series[r]=new Yt(r,n,t.time),e.$state.beginTime=e.series[r].beginTime,e.$state.finishTime=e.series[r].finishTime,e.emit("series.added",e.series[r])})}},{key:"getSeriesPoints",value:function(t){return this.series[t].slice(this.$state.beginTime,this.$state.finishTime)}},{key:"getExtremum",value:function(t,e){var n=[];return r.a.loopCollection(this.series,function(r,o){if(r.visible){var i=r.getExtremum(t,e);n.push(i.min,i.max)}}),f.a.getExtremum(n)}},{key:"getValueAt",value:function(t){var e={};return r.a.loopCollection(this.series,function(n,r){e[r]=n.getValueAt(t)}),e}},{key:"setSeriesVisibility",value:function(t,e){this.series[t].visible=e,this.emit("series.visibility.changed",this.series[t])}},{key:"toggleSeriesVisibility",value:function(t){this.series[t].visible=!this.series[t].visible,this.emit("series.visibility.changed",this.series[t])}}]),e}();function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e,n){return e&&ee(t.prototype,e),n&&ee(t,n),t}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ie=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=Jt(e).call(this))||"object"!==Zt(o)&&"function"!=typeof o?te(n):o,oe(te(t),"Config",s.a),oe(te(t),"Utils",r.a),t.$state=new r.a.DataKeeper({renderingPaused:!0}),t.$modules.set({chartControl:new It,domComponent:new c.a({template:"telechart"})}),t.$modules.set({storage:new Qt,majorPlot:new Ct,panoramaPlot:new At}),t.$setupDOM(),t.$setupEvents(),t.startRendering(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,a["a"]),ne(e,null,[{key:"processAsset",value:function(t,e,n,r){t.keys().forEach(function(o){var i=t(o),a=o.replace(".".concat(n),"").replace("./","");s.a.assets[e][a]=r?r(i):i})}},{key:"loadAssets",value:function(){this.processAsset(n(6),"html","html"),this.processAsset(n(16),"css","scss"),this.processAsset(n(19),"shaders","glsl"),this.processAsset(n(23),"skins","yml",function(t){return t.default&&(s.a.defaultSkin=t.name),new u(t)})}}]),ne(e,[{key:"update",value:function(t){var e=this;this.$modules.storage.importRawDataset(t[2]),r.a.loopCollection(this.$modules.storage.series,function(t,n){var r=e.$modules.storage.getSeriesPoints(n);e.$modules.majorPlot.addSeries({points:r,series:t,extremum:e.$modules.storage.getExtremum(t.beginTime,t.finishTime)}),e.$modules.panoramaPlot.addSeries({points:r,series:t,extremum:e.$modules.storage.getExtremum(t.beginTime,t.finishTime)})})}},{key:"setSkin",value:function(t){t=t||s.a.defaultSkin,s.a.activeSkin=t,s.a.assets.skins[t]&&s.a.assets.skins[t].apply()}},{key:"setParentElement",value:function(t){t.appendChild(this.domElement)}},{key:"startRendering",value:function(){this.$state.renderingPaused&&(this.$state.set("renderingPaused",!1),this.$modules.majorPlot.startRendering(),this.$modules.panoramaPlot.startRendering())}},{key:"stopRendering",value:function(){this.$state.renderingPaused||(this.$state.set("renderingPaused",!0),this.$modules.majorPlot.stopRendering(),this.$modules.panoramaPlot.stopRendering())}},{key:"$setupDOM",value:function(){this.$modules.domComponent.addChild("chart-controls-wrapper",this.$modules.chartControl.domElement),this.$modules.domComponent.addChild("major-plot-wrapper",this.$modules.majorPlot.domElement),this.$modules.domComponent.addChild("panorama-plot-wrapper",this.$modules.panoramaPlot.domElement),this.setSkin()}},{key:"$setupEvents",value:function(){var t=this;this.$modules.domComponent.on("theme-switcher.click",this.$onThemeSwitcherClick.bind(this)),this.$modules.panoramaPlot.on("frame.viewport.changed",function(e){var n=t.$modules.storage.getExtremum(e.x,e.x+e.w);t.$modules.majorPlot.setViewport(e.x,t.$modules.majorPlot.viewport.y,e.w,t.$modules.majorPlot.viewport.h),t.$modules.majorPlot.setExtremum(n,!0)}),this.$modules.majorPlot.on("user.position.select",function(e){var n=t.$modules.storage.getValueAt(e.x);t.$modules.majorPlot.setSelectedPositionValues(n)}),this.$modules.storage.on("series.visibility.changed",function(e){var n=t.$modules.panoramaPlot.frameViewportRect,r=t.$modules.storage.getExtremum(n.x,n.x+n.w),o=t.$modules.storage.getExtremum(e.beginTime,e.finishTime);t.$modules.chartControl.setSeriesVisibility(e.id,e.visible),t.$modules.majorPlot.setSeriesVisibility(e.id,e.visible),t.$modules.panoramaPlot.setSeriesVisibility(e.id,e.visible),t.$modules.panoramaPlot.setExtremum(o,!0),t.$modules.majorPlot.setExtremum(r,!0)}),this.$modules.storage.on("series.added",function(e){t.$modules.chartControl.addSeriesButton(e)}),this.$modules.chartControl.on("toggle.series.visibility",function(e){t.$modules.storage.toggleSeriesVisibility(e.id)})}},{key:"$onThemeSwitcherClick",value:function(t){"day"==s.a.activeSkin?(this.$modules.domComponent.ref("theme-switcher-caption").textContent="Switch to Day Mode",this.setSkin("night")):(this.$modules.domComponent.ref("theme-switcher-caption").textContent="Switch to Night Mode",this.setSkin("day"))}}]),e}();ie.loadAssets(),i.start();e.default=ie}])},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.Telechart=factory():root.Telechart=factory();