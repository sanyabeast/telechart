/* @sanyabeast | 2019 */
var e,t;e=window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var l=function(t){function s(){var e,t,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return a=this,l=(e=o(s)).call.apply(e,[this].concat(f)),t=!l||"object"!==r(l)&&"function"!=typeof l?i(a):l,n.forEach(function(e){c(i(t),new e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,e),s}(),c=function(e,t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(n){if(!n.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length|\$name|\$prototype|\$\$id|extend|\$constructor)$/))try{Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}catch(e){$clog(e)}})};return n.forEach(function(e){c(l.prototype,e.prototype),c(l,e)}),l};n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setMultiple(t)}var t,n,r;return t=e,(n=[{key:"setMultiple",value:function(e){var t=this;m.loopCollection(e,function(e,n){t[n]=e})}},{key:"set",value:function(e,t,n){if("object"==l(e)&&void 0===t)return this.setMultiple(e);"function"==typeof t&&n?m.defineProperty(this,e,{get:t}):this[e]=t}}])&&c(t.prototype,n),r&&c(t,r),e}(),f=n(2);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.createElement("canvas").getContext("2d");var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"loopCollection",value:function(e,t){if(e)if(Array.isArray(e)||"number"==typeof e.length)for(var n=0,r=e.length;n<r&&!t(e[n],n,e);n++);else for(var o in e)if(t(e[o],o,e))break}},{key:"loop",value:function(e,t,n,r,o){if(r)for(var i=e,a=0;i<t&&!o(i,a);i+=n)a++;else for(i=e,a=0;i<=t&&!o(i,a);i+=n)a++}},{key:"generateRandomString",value:function(e,t){for(var n="";n.length<t;)n+=Math.random().toString(32).substring(3,12);return n=n.substring(0,t),"".concat(e,"-").concat(n)}},{key:"assignValues",value:function(e,t){this.loopCollection(t,function(t,n){e[n]=t})}},{key:"parseHTML",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}},{key:"injectCSS",value:function(e,t){document.querySelector("#telechart-css-".concat(e))?document.querySelector("#telechart-css-".concat(e)).textContent=t:document.querySelector("head").appendChild(this.parseHTML('<style id="telechart-css-'.concat(e,'" type="text/css">').concat(t,"</style>")))}},{key:"generateVarsCSS",value:function(e){var t="";return this.loopCollection(e,function(e,n){t+="--".concat(n,":").concat(e,";\n")}),t=".telechart {".concat(t,"}")}},{key:"generateAttributesSelector",value:function(e){var t="";return this.loopCollection(e,function(e,n){t+="[".concat(n,'="').concat(e,'"]')}),t}},{key:"defineProperty",value:function(e,t,n){Object.defineProperty(e,t,n)}},{key:"proxyMethods",value:function(e,t,n){this.loopCollection(n,function(n,r){e[n]=function(){return t[n].apply(t,arguments)}})}},{key:"proxyProps",value:function(e,t,n){var r=this;this.loopCollection(n,function(n,o){r.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})}},{key:"generateRandomCSSHexColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString("16"))}},{key:"cssHexToRGB",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}},{key:"stringTemplate",value:function(e,t){var n=e;return t&&this.loopCollection(t,function(e,t){var r=new RegExp("[$]{".concat(t,"}"),"gm");r.test(n)&&(n=n.replace(r,e))}),n}},{key:"formatDate",value:function(e,t){var n="".concat(e,"/").concat(t);if(this.$dateFormatCache[n])return this.$dateFormatCache[n];var r=new Date(e),o=r.getUTCDate().toString(),i=r.getDay().toString(),a=(r.getUTCMonth()+1).toString(),s=f.a.l18n["month_".concat(a)],l=f.a.l18n["weekday_".concat(i)];return this.$dateFormatCache[n]=this.stringTemplate(t,{date:o,month:a,monthName:s,weekday:i,weekdayName:l}),this.$dateFormatCache[n]}},{key:"formatValue",value:function(e){var t=e.toString();return e/1e3>=1&&(t="".concat((e/1e3).toString(),"k")),e/1e6>=1&&(t="".concat((e/1e6).toString(),"M")),t}},{key:"throttle",value:function(e,t){e.__throttleTimeoutId&&clearTimeout(e.__throttleTimeoutId),e.__throttleTimeoutId=setTimeout(function(){e()},t)}}],(n=null)&&p(t.prototype,n),r&&p(t,r),e}();d(h,"aggregation",s),d(h,"DataKeeper",u),d(h,"$dateFormatCache",{});var m=t.a=h},function(e,t,n){var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"uniformType","uniform2fv"),a(this,"x",0),a(this,"y",0),this.array=[0,0],this.set(t,n)}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){if("object"==o(e))return this.set(e.x,e.y);this.array[0]=e,this.array[1]=t,this.x=e,this.y=t}},{key:"valueOf",value:function(){return this.y}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(e){this.set(e[0],e[1])}},{key:"update",value:function(){this.set(this.x,this.y)}}])&&i(t.prototype,n),r&&i(t,r),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"x",0),c(this,"y",0),c(this,"w",0),c(this,"h",0),this.set(t,n,r,o)}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}}])&&l(t.prototype,n),r&&l(t,r),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(this,(e=d(t)).call.apply(e,[this].concat(r)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,s),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(){var e,n,r,o,i,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return r=this,n=!(o=(e=b(t)).call.apply(e,[this].concat(c)))||"object"!==y(o)&&"function"!=typeof o?g(r):o,i=g(n),s="uniform3fv",(a="uniformType")in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,s),n=t,(o=[{key:"set",value:function(e,t,n){return"object"==y(e)?this.set(e.x,e.y):"string"==typeof e?this.setCSSHex(e):(this.array[0]=e,this.array[1]=t,this.array[2]=n,this.x=e,this.y=t,void(this.z=n))}},{key:"valueOf",value:function(){return this.toArray()}},{key:"toArray",value:function(){return this.array}},{key:"fromArray",value:function(e){this.set(e[0],e[1],e[2])}},{key:"setCSSHex",value:function(e){if(this.$cssHexString!=e){this.$cssHexString=e;var t=r.a.cssHexToRGB(e);this.set(t.r,t.g,t.b)}}}])&&v(n.prototype,o),i&&v(n,i),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set(t,n)}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){if("object"==x(e))return this.set(e.min,e.max);this.min=e,this.max=t}},{key:"size",get:function(){return this.max-this.min}},{key:"isFinite",get:function(){return isFinite(this.min)&&isFinite(this.max)}}])&&k(t.prototype,n),r&&k(t,r),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"uniformType","uniform1f"),O(this,"isSimple",!0),this.set(t)}var t,n,r;return t=e,(n=[{key:"valueOf",value:function(){return this.value}},{key:"set",value:function(e){this.value=e}}])&&C(t.prototype,n),r&&C(t,r),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"float32",value:function(e){return new P(e)}},{key:"vec2",value:function(e,t){return new m(e,t)}},{key:"color",value:function(e,t,n){return new $(e,t,n)}},{key:"point",value:function(e,t){return new s(e,t)}},{key:"range",value:function(e,t){return new S(e,t)}},{key:"rect",value:function(e,t,n,r){return new u(e,t,n,r)}},{key:"getExtremum",value:function(e){return this.range(Math.min.apply(Math,e),Math.max.apply(Math,e))}},{key:"nearestMult",value:function(e,t,n,r){return(n?Math.ceil((e+(r?0:1))/t)*t:Math.floor((e-(r?0:1))/t)*t)||0}},{key:"getOrder",value:function(e){return e<0?Math.pow(10,1/Math.floor(1/Math.log10(e))):Math.pow(10,Math.floor(Math.log10(e)))}},{key:"smoothstep",value:function(e,t,n){return t+(e-t)*(1-n)}},{key:"getStep",value:function(e,t,n){return 1-(t-n)/(t-e)}},{key:"vec2add",value:function(e,t,n){return e.x=t.x+n.x,e.y=t.y+n.y,e}},{key:"vec2normalize",value:function(e,t){var n=t.x,r=t.y,o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e.x=t.x*o,e.y=t.y*o),e}},{key:"vec2subtract",value:function(e,t,n){return e.x=t.x-n.x,e.y=t.y-n.y,e}},{key:"vec2dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"vec2magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"vec2set",value:function(e,t,n){return e.x=t,e.y=n,e}},{key:"vec2normal",value:function(e,t,n){return n?this.vec2set(e,t.y,-t.x):this.vec2set(e,-t.y,t.x),e}},{key:"vec2direction",value:function(e,t,n){return this.vec2subtract(e,t,n),this.vec2normalize(e,e),e}},{key:"nearestPowerOfTwo",value:function(e,t){var n=Math.log2(e);return n=t?Math.ceil(n):Math.floor(n),Math.pow(2,n)}}],(n=null)&&E(t.prototype,n),r&&E(t,r),e}();t.a=j},function(e,t,n){var r=n(1);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};o(i,"activeSkin",null),o(i,"plotChunkSize",15),o(i,"DPR",window.devicePixelRatio),o(i,"assets",{html:{},css:{},skins:{},shaders:{}}),o(i,"isTouchDevice","ontouchstart"in window),o(i,"values",{domDoubletapTimeout:250,plotLineDefaultLineWidth:2,plotExtremumTweenDuration:200,plotSeriesVisibilityTweenDuration:200,plotExtremumPadding:.35,plotSelectedPositionCircleRadius:10,gridOrderDivider:2,gridPatternYCaptionsCount:5,gridPatternXCaptionsCount:5}),o(i,"l18n",{month_1:"Jan",month_2:"Feb",month_3:"March",month_4:"Apr",month_5:"May",month_6:"Jun",month_7:"Jul",month_8:"Aug",month_9:"Sep",month_10:"Oct",month_11:"Nov",month_12:"Dec",weekday_0:"Sun",weekday_1:"Mon",weekday_2:"Tue",weekday_3:"Wed",weekday_4:"Thu",weekday_5:"Fri",weekday_6:"Sat"}),o(i,"skinValues",{}),o(i,"glColors",{gridPatternLineColor:r.a.color(1,1,1),gridPatternSelectedValueLineColor:r.a.color(1,1,1)}),t.a=i},function(e,t,n){var r=n(0);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"addTask",value:function(t){var n=r.a.generateRandomString("task",16);return this.$tasks=this.$tasks||{},this.$tasks[n]=t,this.removeTask.bind(e,n)}},{key:"removeTask",value:function(e){delete this.$tasks[e]}},{key:"init",value:function(){this.$state={prevFrameTime:+new Date},this.tick=this.tick.bind(this)}},{key:"start",value:function(){this.stop(),this.init(),this.tick()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.$rafId)}},{key:"tick",value:function(){this.$rafId=window.requestAnimationFrame(this.tick);var e=+new Date,t=e-this.$state.prevFrameTime,n=t/(1e3/60);this.$state.prevFrameTime=e,r.a.loopCollection(this.$tasks,function(e,r){e(n,t)})}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();t.a=i},function(e,t,n){var r=n(3),o=n(1);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,s,l,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"tween",value:function(e){var t=e.fromValue,n=e.toValue,i=e.duration,a=e.ease||"easeInOutQuad",s=this.$easingFunctions[a],l=e.onUpdate||function(){},c=+new Date,u=r.a.addTask(function(e){var r=(+new Date-c)/i;r>=1&&(r=1,u());var a=o.a.smoothstep(t,n,s(r));l(a,r>=1)});return u}}],(n=null)&&i(t.prototype,n),a&&i(t,a),e}();l={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInBack:function(e){return e*e*(3.5*e-2.5)},easeOutBack:function(e){return--e*e*(3.5*e+2.5)+1}},(s="$easingFunctions")in(a=c)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.a=c},function(e,t,n){n.r(t);var r=n(0),o=n(1),i=n(3);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"on",value:function(t,n){var o=r.a.generateRandomString(t,16);return this.$subscriptions=this.$subscriptions||{},this.$subscriptions[t]=this.$subscriptions[t]||{},this.$subscriptions[t][o]=n,this.off.bind(e,t,o)}},{key:"emit",value:function(e,t){this.$subscriptions&&this.$subscriptions[e]&&r.a.loopCollection(this.$subscriptions[e],function(e){e(t)})}},{key:"off",value:function(e,t){this.$subscriptions&&this.$subscriptions[e]&&this.$subscriptions[e][t]&&delete this.$subscriptions[e][t]}}],(n=null)&&a(t.prototype,n),o&&a(t,o),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.UUID=r.a.generateRandomString(this.constructor.name,32),this.$state=new r.a.DataKeeper,this.$modules=new r.a.DataKeeper,this.$temp=new r.a.DataKeeper}return c(e,[{key:"domComponent",get:function(){if(this.$modules)return this.$modules.domComponent||null}},{key:"domElement",get:function(){if(this.domComponent)return this.domComponent.domElement}}]),c(e,[{key:"on",value:function(e,t){s.on("".concat(this.UUID,"/").concat(e),t)}},{key:"emit",value:function(e,t){s.emit("".concat(this.UUID,"/").concat(e),t)}},{key:"clog",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["%cTelechart:".concat(this.constructor.name,":"),"font-weight:bold; color:#3982c6;"].concat(n))}}]),e}(),f=n(2);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){var n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i="",(o="cssText")in(n=this)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this.$name=t.name,this.$values=new r.a.DataKeeper(t.values),this.$updateCSS()}var t,n,o;return t=e,(n=[{key:"$updateCSS",value:function(){this.cssText=r.a.generateVarsCSS(this.$values)}},{key:"apply",value:function(){var e=this;r.a.injectCSS("telechart-skin-vars",this.cssText),r.a.loopCollection(f.a.glColors,function(t,n){e.$values[n]&&t.setCSSHex(e.$values[n])})}}])&&p(t.prototype,n),o&&p(t,o),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g,w,$,x=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=y(t).call(this),(n=!i||"object"!==h(i)&&"function"!=typeof i?v(o):i).$state={normalizedEventData:{prevPanDistance:null},domElement:e.domElement,eventsList:e.eventsList},r.a.loopCollection(e.eventsList,function(e,r){t.eventDetectors[e].call(v(n),n.$state.domElement,function(e){n.emit(e.type,e),n.emit("$event",{type:e.type,payload:e})})}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,u),n=t,(i=[{key:"$normalizeEventData",value:function(e,t,n){var r=n.getBoundingClientRect(),o=t,i=this.$state.normalizedEventData;return i.isGesture=!1,t instanceof window.TouchEvent?i=this.$normalizeTouchEventData(e,t,n):(i.x=(o.pageX-r.x)*f.a.DPR,i.y=(o.pageX-r.y)*f.a.DPR,i.pageX=o.pageX*f.a.DPR,i.pageY=o.pageY*f.a.DPR),i.type=e,i.target=n,this.$state.normalizedEventData.originalEvent=t,this.$state.normalizedEventData}},{key:"$normalizeTouchEventData",value:function(e,t,n){return t.touches.length>1?this.$state.normalizedEventData=this.$normalizeTouchGestureEventData(e,t):1===t.touches.length?this.$state.normalizedEventData=this.$normalizeEventData(e,t.touches[0],n):console.log(1),this.$state.normalizedEventData}},{key:"$normalizeTouchGestureEventData",value:function(e,t){if(this.$state.normalizedEventData.isGesture=!0,this.$state.normalizedEventData.touchesCount=t.touches.length,2==t.touches.length){var n=o.a.getDistance(o.a.point(t.touches[0].pageX,t.touches[0].pageY),o.a.point(t.touches[1].pageX,t.touches[1].pageY));this.$state.normalizedEventData.panDistance=n}return this.$state.normalizedEventData}}])&&m(n.prototype,i),a&&m(n,a),t}();$={click:function(e,t){var n=this;e.addEventListener("click",function(r){r.stopPropagation(),t(n.$normalizeEventData("click",r,e))})},drag:function(e,t){var n,r,o,i=this,a=0,s=0,l=0,c=0,u=!1;f.a.isTouchDevice?(n="touchstart",r="touchend",o="touchmove"):(n="mousedown",r="mouseup",o="mousemove"),e.addEventListener(n,function(t){t.stopPropagation(),t=i.$normalizeEventData("drag",t,e),a=t.pageX,s=t.pageY,u=!0}),window.addEventListener(r,function(e){u=!1}),window.addEventListener(o,function(n){u&&(n.stopPropagation(),n.preventDefault(),n=i.$normalizeEventData("drag",n,e),l=n.pageX-a,c=n.pageY-s,a=n.pageX,s=n.pageY,n.dragX=l,n.dragY=c,t(n))},{passive:!1})}},(w="eventDetectors")in(g=x)?Object.defineProperty(g,w,{value:$,enumerable:!0,configurable:!0,writable:!0}):g[w]=$;var k=x;function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,O(t).call(this))).$refs={},n.$dom={},n.$children=[],n.$state={template:e.template,eventHandlers:[]};var o=f.a.assets.html[e.template];return n.$dom.element=n.$buildTemplate(o,e),e.classList&&r.a.loopCollection(e.classList,function(e){n.$dom.element.classList.add(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,u),E(t,[{key:"domElement",get:function(){return this.$dom.element}},{key:"classList",get:function(){return this.domElement.classList}}]),E(t,[{key:"ref",value:function(e){return this.$refs[e]}},{key:"addChild",value:function(e,t){this.$refs[e].appendChild(t)}},{key:"$buildTemplate",value:function(e,t){var n=this,o=r.a.parseHTML(e,t);return this.$traverseDOM(o,function(e,r){n.$processAttrs(e,r,t)},null),o}},{key:"$traverseDOM",value:function(e,t,n){var o=this;t(e,n),r.a.loopCollection(e.children,function(e,n){o.$traverseDOM(e,t,e.parentNode)})}},{key:"$processAttrs",value:function(e,t,n){var o=this;r.a.loopCollection(e.attributes,function(t,n){switch(t.name){case"$ref":o.$refs[t.value]=e,e.$ref=t.value;break;case"$css":r.a.loopCollection(t.value.split(" "),function(e,t){r.a.injectCSS(e,f.a.assets.css[e])});break;case"$events":var i=new k({domElement:e,eventsList:t.value.split(" ")});i.on("$event",function(t){var n=e.$ref||"";o.emit("".concat(n,".").concat(t.type),t.payload)}),o.$state.eventHandlers.push(i)}})}}]),t}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vertices=t.vertices,this.buffer=t.buffer}return D(e,null,[{key:"setValue",value:function(e,t,n){for(var o=n*t,i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];r.a.loopCollection(a,function(t,n){e[o+n]=t})}}]),D(e,[{key:"setValue",value:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.setValue.apply(e,[this.vertices,t].concat(o))}}]),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=new r.a.DataKeeper({geometryInited:!1,indicesInitialized:!1}),this.$temp=new r.a.DataKeeper,this.attributes=new r.a.DataKeeper,t&&t.attributes&&this.setAttributesData(t.attributes)}return z(e,[{key:"geometryInited",get:function(){return this.$state.geometryInited}},{key:"indicesCount",get:function(){return this.$state.indices.length}}]),z(e,[{key:"setAttributesData",value:function(e){this.$state.attributesData=e}},{key:"init",value:function(e,t,n){var o=this;this.$state.geometryInited=!0,r.a.loopCollection(this.$state.attributesData,function(n,r){o.$addAttribute(e,t,r,n)}),this.$state.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.$state.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.$state.indices),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},{key:"$addAttribute",value:function(e,t,n,r){this.$state.indicesInitialized||this.$generateIndices(r.length/2),this.attributes[n]=new R({vertices:r,buffer:t.createBuffer()}),t.bindBuffer(t.ARRAY_BUFFER,this.attributes[n].buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}},{key:"$generateIndices",value:function(e){var t=[];r.a.loop(0,e,1,!0,function(e){t[e]=e}),this.$state.indicesInitialized=!0,this.$state.indices=t}},{key:"bind",value:function(e,t,n){var o=this;r.a.loopCollection(this.attributes,function(e,r){var i=e.buffer;t.bindBuffer(t.ARRAY_BUFFER,i),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o.$state.indexBuffer);var a=t.getAttribLocation(n,r);a>-1&&(t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a))})}}]),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=n,this.name=t,this.shaderProgram=this.shaderProgram,this.type=i.uniformType,this.value=i,this.$state=new r.a.DataKeeper({loc:n.getUniformLocation(o,t)})}var t,n,o;return t=e,(n=[{key:"update",value:function(){this.value.isSimple?this.gl[this.type](this.$state.loc,this.value.valueOf()):this.gl[this.type](this.$state.loc,this.value.toArray())}}])&&A(t.prototype,n),o&&A(t,o),e}();function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=new r.a.DataKeeper({uniformsData:t.uniforms,materialInited:!1,uniformsInited:!1,vertexShaderCode:f.a.assets.shaders[t.vertexShader],fragmentShaderCode:f.a.assets.shaders[t.fragmentShader]}),this.uniforms=new r.a.DataKeeper}return B(e,[{key:"materialInited",get:function(){return this.$state.materialInited}},{key:"program",get:function(){return this.$state.shaderProgram}}]),B(e,[{key:"init",value:function(e,t){this.$state.materialInited=!0,this.$state.fragmentShader=this.$compileShader(e,t,"fragment",this.$state.fragmentShaderCode),this.$state.vertexShader=this.$compileShader(e,t,"vertex",this.$state.vertexShaderCode);var n=this.$state.shaderProgram=t.createProgram();t.attachShader(n,this.$state.vertexShader),t.attachShader(n,this.$state.fragmentShader),this.$linkProgram(t),this.$initUniforms(e,t)}},{key:"$compileShader",value:function(e,t,n,o){var i=t.createShader("vertex"==n?t.VERTEX_SHADER:t.FRAGMENT_SHADER);return t.shaderSource(i,r.a.stringTemplate(o,{maxShaderPrecision:e.maxShaderPrecision})),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)||console.log("Shader compilation failed: ".concat(t.getShaderInfoLog(i)," ")),i}},{key:"$initUniforms",value:function(e,t){this.addMultipleUniforms(t,this.$state.uniformsData),this.addMultipleUniforms(t,{position:o.a.vec2(0,0),worldPosition:o.a.vec2(0,0),worldScale:o.a.vec2(0,0),viewportSize:o.a.vec2(0,0),resolution:o.a.float32(1),opacity:o.a.float32(1)})}},{key:"$linkProgram",value:function(e){e.linkProgram(this.$state.shaderProgram)}},{key:"addMultipleUniforms",value:function(e,t){var n=this;r.a.loopCollection(t,function(t,r){n.addUniform(r,e,n.$state.shaderProgram,t)})}},{key:"addUniform",value:function(e,t,n,r){this.uniforms[e]=new V(e,t,n,r)}},{key:"updateUniforms",value:function(e){var t=this;e&&r.a.loopCollection(e,function(e,n){t.uniforms[n].value.set(e)}),r.a.loopCollection(this.uniforms,function(e,t){e.update()})}}]),e}();function X(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,"parentNode",null),this.children=[],this.UUID=r.a.generateRandomString("rendering-object-".concat(this.constructor.name),16),this.$data={},this.$temp={},this.$params={},this.$state={position:o.a.vec2(0,0),boundRect:o.a.rect(0,0,0,0),culled:!0,projectionCulled:!0,visible:!0,opacity:o.a.float32(1)},this.$setupHiddenDOM(),t&&(this.defaultParams?this.setParams(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Y(e,t,n[t])})}return e}({},this.defaultParams,{params:t})):this.setParams(t)),r.a.proxyProps(this,this.$state,["culled","projectionCulled","position","visible","opacity"])}var t,n,i;return t=e,(n=[{key:"getBoundRect",value:function(){return this.$state.boundRect}},{key:"setAttributes",value:function(e){var t=this;r.a.loopCollection(e,function(e,n){t.$hiddenDOM.setAttribute(n,e)})}},{key:"setStyles",value:function(e){}},{key:"setParams",value:function(e){var t=this;r.a.loopCollection(e,function(e,n){"styles"==n?t.setStyles(e):"attributes"==n?t.setAttributes(e):t.$params[n]=void 0!==e?e:t.$params.name})}},{key:"addChild",value:function(e){this.children.push(e),e.parentNode=this,this.$hiddenDOM.appendChild(e.$hiddenDOM)}},{key:"removeChild",value:function(e){var t=this;r.a.loopCollection(this.children,function(n,r){if(e.UUID==n.UUID)return t.$hiddenDOM.removeChild(e.$hiddenDOM),e.parentNode=null,t.children.splice(r,1),!0})}},{key:"render",value:function(e,t,n,o,i){i*=this.opacity,n+=this.$state.position.x,o+=this.$state.position.y,r.a.loopCollection(this.children,function(r,a){r.visible&&r.render(e,t,n,o,i)})}},{key:"select",value:function(e,t){var n=X(this.$hiddenDOM.querySelectorAll(r.a.generateAttributesSelector(e)));return r.a.loopCollection(n,function(e,r){t&&t(e.$renderingObject,r),n[r]=e.$renderingObject}),n}},{key:"$setupHiddenDOM",value:function(){this.$hiddenDOM=document.createElement(this.constructor.name),this.$hiddenDOM.$renderingObject=this,this.$hiddenDOM.setAttribute("type",this.constructor.name)}}])&&I(t.prototype,n),i&&I(t,i),e}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(i=Q(t).call(this,e))||"object"!==G(i)&&"function"!=typeof i?K(o):i,r.a.proxyProps(K(n),n.$params,["material","geometry"]),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,N),n=t,(o=[{key:"render",value:function(e,n,r,o,i){q(Q(t.prototype),"render",this).call(this,e,n,r,o,i),i*=this.opacity;var a=this.material.uniforms;r+=this.position.x,o+=this.position.y,this.material.materialInited||this.material.init(e,n),this.geometry.geometryInited||this.geometry.init(e,n,this.material.program),n.useProgram(this.material.program),this.geometry.bind(e,n,this.material.program),a.position.value.set(r,o),this.material.updateUniforms({worldPosition:e.worldPosition,worldScale:e.worldScale,viewportSize:e.size,resolution:f.a.DPR,opacity:i}),n.drawElements(n.TRIANGLES,this.geometry.indicesCount,n.UNSIGNED_SHORT,0)}}])&&H(n.prototype,o),i&&H(n,i),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}({scale:o.a.vec2(1,1),size:o.a.vec2(1,1),applyScaleX:!1,applyScaleY:!1,applySizeX:!1,applySizeY:!1,applyPosX:!0,applyPosY:!0},e)))).$temp={prevEngine:null,prevGl:null,prevPx:0,prevPy:0},n.$state.culled=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,N),oe(t,[{key:"scale",get:function(){return this.$params.scale}},{key:"size",get:function(){return this.$params.size}},{key:"soloRenderingAvailable",get:function(){return!!this.$temp.prevEngine}}]),oe(t,[{key:"setStyles",value:function(e,t){r.a.assignValues((t||this.$params.domElement).style,e)}},{key:"setStyle",value:function(e,t){this.$params.domElement.style[e]=t}},{key:"render",value:function(e,t,n,r){if(!e){if(!this.soloRenderingAvailable)return;e=this.$temp.prevEngine,t=this.$temp.prevGl,n=this.$temp.prevPx,r=this.$temp.prevPy}var o=f.a.DPR;this.$temp.prevEngine=e,this.$temp.prevGl=t,this.$temp.prevPx=n,this.$temp.prevPy=r,n+=this.$state.position.x,r+=this.$state.position.y;var i=e.toReal(n,r),a=e.toRealScale(this.$params.scale.x,this.$params.scale.y),s=e.toRealScale(this.$params.size.x,this.$params.size.y),l=this.$params.applyScaleX,c=this.$params.applyScaleY,u=this.$params.applySizeX,p=this.$params.applySizeY,d=this.$params.applyPosX,h=this.$params.applyPosY;this.setStyle("transform","translate(".concat(d?i.x/o:0,"px, ").concat(h?i.y/o:0,"px) scale(").concat(l?a.x/o:1,", ").concat(c?a.y/o:1,")")),u&&this.setStyle("width","".concat(s.x/o,"px")),p&&this.setStyle("height","".concat(s.y/o,"px"))}}]),t}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,ce(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,N),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=he(this,me(t).call(this,e))).$temp.setMultiple({direction:o.a.vec2(0,0),negNormal:o.a.vec2(0,0),posNormal:o.a.vec2(0,0)}),e.points&&n.setAttributesData(n.$generateLineGeometry(e.points)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,L),n=t,(i=[{key:"$generateLineGeometry",value:function(e){var t=this,n=[],i=[],a=0,s=R.setValue;return r.a.loopCollection(e,function(r,l){var c=l<e.length-2?e[l+1]:e[l-1],u=o.a.vec2direction(t.$temp.direction,r,c),f=o.a.vec2normal(t.$temp.negNormal,u,!1),p=o.a.vec2normal(t.$temp.posNormal,u,!0);s(n,2,a,r.x,r.y),s(i,2,a++,f.x,f.y),s(n,2,a,c.x,c.y),s(i,2,a++,f.x,f.y),s(n,2,a,r.x,r.y),s(i,2,a++,p.x,p.y),s(n,2,a,r.x,r.y),s(i,2,a++,p.x,p.y),s(n,2,a,c.x,c.y),s(i,2,a++,f.x,f.y),s(n,2,a,c.x,c.y),s(i,2,a++,p.x,p.y)}),{coords:n,normal:i}}}])&&de(n.prototype,i),a&&de(n,a),t}();function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,$e(t).call(this,e))).$params.material=new U({fragmentShader:"frag.default",vertexShader:"vert.line2d",uniforms:e.uniforms}),e.points&&n.setPoints(e.points),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,Z),n=t,(r=[{key:"setPoints",value:function(e){this.$data.points=e;var t=o.a.getExtremum(e);this.$state.boundRect.set(e[0].x,t.min,e[e.length-1].x-this.$state.boundRect.x,t.size),this.geometry=new ve({points:e})}}])&&ge(n.prototype,r),i&&ge(n,i),t}();function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Oe(this,Pe(t).call(this,e))).$temp.setMultiple({direction:o.a.vec2(0,0),negNormal:o.a.vec2(0,0),posNormal:o.a.vec2(0,0)}),n.setAttributesData(n.$generateRectGeometry(e.width||1,e.height||1)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,L),n=t,(r=[{key:"$generateRectGeometry",value:function(e,t){return{coords:[0,0,0,t,e,0,e,0,0,t,e,t]}}}])&&Ce(n.prototype,r),i&&Ce(n,i),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t,n){return(De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=Re(t).call(this))||"object"!==Te(i)&&"function"!=typeof i?_e(n):i).$modules={canvas:new T({template:"canvas-element"})},e.$dom={canvasElement:e.$modules.canvas.domElement},e.$state={gl:e.$dom.canvasElement.getContext("webgl"),size:o.a.vec2(1,1),position:o.a.vec2(0,0),scale:o.a.vec2(1,1),viewport:o.a.rect(0,0,1,1),worldPosition:o.a.vec2(0,0),worldScale:o.a.vec2(1,1),projectionModified:!0,sizeNeedsUpdate:!0,maxShaderPrecision:"mediump"};var a=e.$state.gl;return a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),a.enable(a.BLEND),a.disable(a.DEPTH_TEST),e.$detectMaxFloatPrecision(),r.a.proxyProps(_e(e),e.$state,["position","scale","viewport","size","worldScale","worldPosition","maxShaderPrecision"]),e.render=e.render.bind(_e(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r["a"].aggregation(u,N)),ze(t,[{key:"domElement",get:function(){return this.$dom.canvasElement}}]),ze(t,[{key:"setSize",value:function(e,t){e*=f.a.DPR,t*=f.a.DPR,this.$state.size.x===e&&this.$state.size.y===t||e&&t&&(this.$dom.canvasElement.width=e,this.$dom.canvasElement.height=t,this.$state.size.set(e,t),this.$state.gl.viewport(0,0,e,t),this.updateProjection())}},{key:"setScale",value:function(e,t){this.$state.viewport.w=this.$state.size.x*e,this.$state.viewport.h=this.$state.size.y*t,this.updateProjection()}},{key:"setPosition",value:function(e,t){t="number"==typeof t?t:this.$state.position.y,this.$state.position.set(e,t),this.updateProjection()}},{key:"setViewport",value:function(e,t,n,r){var o=this.$state.viewport;o.set(e,t,n,r),this.$state.position.set(o.x,o.y),this.emit("viewport.updated",o),this.updateProjection()}},{key:"fitSize",value:function(){if(this.domElement.parentNode){var e=this.domElement.parentElement.getBoundingClientRect();this.setSize(e.width,e.height)}}},{key:"updateProjection",value:function(){var e=this.$state.viewport,t=this.$state.position,n=this.$state.worldPosition,r=this.$state.worldScale,o=this.$state.size,i=this.$state.scale;i.set(e.w/o.x,e.h/o.y),e.x=t.x,e.y=t.y,n.set(e.x,e.y),r.set(i.x/2,i.y/2),this.$state.projectionModified=!0,this.emit("projection.updated",e)}},{key:"toReal",value:function(e,t){return o.a.point(Math.round((e-this.position.x)/this.scale.x),Math.round(this.size.y-(t-this.position.y)/this.scale.y))}},{key:"toRealScale",value:function(e,t){return o.a.point(Math.round(e/this.scale.x),Math.round(t/this.scale.y))}},{key:"toVirtual",value:function(e,t){return o.a.point(e*this.scale.x+this.position.x,(this.size.y-t)*this.scale.y+this.position.y)}},{key:"toVirtualScale",value:function(e,t){return o.a.point(e*this.scale.x,t*this.scale.y)}},{key:"render",value:function(e){this.fitSize(),(this.$state.projectionModified||!0===e)&&(this.$state.projectionModified=!1,De(Re(t.prototype),"render",this).call(this,this,this.$state.gl,-this.$state.position.x,-this.$state.position.y,1))}},{key:"updateValue",value:function(e){this.value=e||this.value}},{key:"$detectMaxFloatPrecision",value:function(){var e=this.$state.gl,t="lowp";r.a.loopCollection({LOW_FLOAT:"lowp",MEDIUM_FLOAT:"mediump",HIGH_FLOAT:"highp"},function(n,r){var o=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e[r]),i=e.getShaderPrecisionFormat(e.VERTEX_SHADER,e[r]);o&&i&&o.precision&&i.precision&&(t=n)}),this.clog("Max shader float precision format: ".concat(t)),this.$state.maxShaderPrecision=t}}]),t}();Ae(Ve,"Geometry",L),Ae(Ve,"Material",U),Ae(Ve,"Mesh",Z),Ae(Ve,"RenderingObject",N),Ae(Ve,"Uniform",V),Ae(Ve,"DOMElement",ae),Ae(Ve,"Group",fe),Ae(Ve,"Line",ke),Ae(Ve,"RectGeometry",je);var Fe=Ve,Be=n(4);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ie(e,t,n[t])})}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=Ye(t).call(this))||"object"!==Ue(a)&&"function"!=typeof a?Ne(i):a).$state.set({extremum:o.a.range(0,0),series:new r.a.DataKeeper}),n.$modules.set({renderingEngine:new Fe,domComponent:new T(Xe({template:"plot"},e))}),r.a.proxyMethods(Ne(n),n.$modules.renderingEngine,["toVirtual","toVirtualScale","setViewport","fitSize","setPosition","setScale"]),n.$modules.domComponent.addChild("canvas-wrapper",n.$modules.renderingEngine.domElement),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,u),He(t,[{key:"position",get:function(){return this.$modules.renderingEngine.position}},{key:"scale",get:function(){return this.$modules.renderingEngine.scale}},{key:"viewport",get:function(){return this.$modules.renderingEngine.viewport}}]),He(t,[{key:"addSeries",value:function(e){this.$state.beginTime=e.series.beginTime,this.$state.finishTime=e.series.finishTime,this.$state.accuracy=e.series.accuracy;var t=new Fe.Line({points:e.points,attributes:{"content-type":"series","series-type":e.series.type,"series-name":e.series.name,"series-id":e.series.id},uniforms:{thickness:o.a.float32(f.a.values.plotLineDefaultLineWidth),diffuse:o.a.color(e.series.color)}});this.setViewport(e.series.beginTime,e.extremum.min,e.series.finishTime-e.series.beginTime,e.extremum.max-e.extremum.min),this.setPosition(e.series.beginTime),this.$modules.renderingEngine.addChild(t),this.$state.series.set(e.series.id,e)}},{key:"startRendering",value:function(){this.stopRendering(),this.stopRendering=i.a.addTask(this.$modules.renderingEngine.render)}},{key:"render",value:function(e){this.$modules.renderingEngine.render(e)}},{key:"stopRendering",value:function(){}},{key:"setExtremum",value:function(e,t,n){var r=this;if(!e.isFinite)return!1;if(e.min==this.$state.extremum.min&&this.$state.extremum.max==e.max)return!1;e.min=0,this.$temp.killExtremumTween&&(this.$temp.killExtremumTween(),delete this.$temp.killExtremumTween),this.$state.extremum.set(e),e=this.$processExtremum(e);var i=this.$modules.renderingEngine.viewport,a=i.y,s=i.h;return t?this.$temp.killExtremumTween=Be.a.tween({fromValue:0,toValue:1,duration:f.a.values.plotExtremumTweenDuration,ease:"easeOutQuad",onUpdate:function(t,n){r.$modules.renderingEngine.position.y=o.a.smoothstep(a,e.min,t),r.$modules.renderingEngine.viewport.h=o.a.smoothstep(s,e.size,t),r.$modules.renderingEngine.updateProjection(),n&&r.$temp.killExtremumTween()}}):this.$modules.renderingEngine.setViewport(i.x,e.min,i.w,e.size),!0}},{key:"$processExtremum",value:function(e){var t=o.a.getOrder(e.size)/f.a.values.gridOrderDivider;return e.max=o.a.nearestMult(e.max,t,!0,!0),e}},{key:"setSeriesVisibility",value:function(e,t){var n=this;this.$state.series[e].visible=t,this.$modules.renderingEngine.select({"content-type":"series","series-id":e},function(e){t&&(e.visible=t),Be.a.tween({fromValue:e.opacity.value,toValue:t?1:0,duration:f.a.values.plotSeriesVisibilityTweenDuration,ease:t?"easeInQuad":"easeOutQuad",onUpdate:function(r,o){e.opacity.value=r,n.$modules.renderingEngine.updateProjection(),o&&!t&&(e.isVisible=t)}})})}}]),t}();function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),e}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=We(t).call(this))||"object"!==Qe(i)&&"function"!=typeof i?Ze(n):i).$state.series=new r.a.DataKeeper,e.$state.seriesValuesContainers=new r.a.DataKeeper,e.$state.position=o.a.point(0,0),e.$state.visible=!0,e.$modules.setMultiple({domComponent:new T({template:"selected-values-banner"})}),e.$modules.renderingObject=new Fe.DOMElement({domElement:e.$modules.domComponent.domElement,applyScaleY:!1,applyScaleX:!1,applyPosY:!1,applyPosX:!0}),e.$modules.renderingObjectLine=new Fe.Mesh({geometry:new Fe.RectGeometry({width:2,height:1}),material:new Fe.Material({vertexShader:"vert.grid-line-x",fragmentShader:"frag.default",uniforms:{diffuse:f.a.glColors.gridPatternSelectedValueLineColor,selectedPosition:e.$state.position}})}),e.$modules.domComponent.on("banner.click",e.$onBannerClick.bind(Ze(e))),e.updateBannerAlign=e.updateBannerAlign.bind(Ze(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,u),et(t,[{key:"renderingObject",get:function(){return this.$modules.renderingObject}},{key:"renderingObjectLine",get:function(){return this.$modules.renderingObjectLine}}]),et(t,[{key:"setPosition",value:function(e,t){this.renderingObject.position.x=e,this.renderingObject.position.y=t,this.$state.position.set(e,t),this.setBannerVisibility(!0),r.a.throttle(this.updateBannerAlign,50)}},{key:"updateSeriesValuesVisibility",value:function(){var e=this;r.a.loopCollection(this.$state.seriesValuesContainers,function(t,n){e.$state.series&&e.$state.series[n]&&e.$state.series[n].visible?t.classList.remove("hidden"):t.classList.add("hidden")})}},{key:"setSeries",value:function(e){this.$state.series[e.series.id]=e,this.$addSeriesValueContainer(e)}},{key:"setSeriesValues",value:function(e){var t=this,n=0,o=0;r.a.loopCollection(e,function(e,i){n=e.x,t.$modules.domComponent.ref("date-value").textContent=r.a.formatDate(e.x,"${weekdayName}, ${monthName} ${date}"),e.y>o&&(o=e.y),t.$state.seriesValuesContainers[i].ref("value").textContent=0|e.y}),this.setPosition(n,o)}},{key:"$addSeriesValueContainer",value:function(e){var t=new T({template:"selected-values-banner-value"});t.ref("caption").textContent=e.series.name,r.a.assignValues(t.ref("caption").style,{color:e.series.color}),r.a.assignValues(t.ref("value").style,{color:e.series.color}),this.$modules.domComponent.addChild("series-values-wrapper",t.domElement),this.$state.seriesValuesContainers[e.series.id]=t}},{key:"updateBannerAlign",value:function(){var e=this.$modules.domComponent.domElement.parentNode,t=this.$modules.domComponent.domElement,n=e.getBoundingClientRect();t.getBoundingClientRect().right>n.right?(t.classList.remove("align-right"),t.classList.add("align-left")):(t.classList.add("align-right"),t.classList.remove("align-left"))}},{key:"setBannerVisibility",value:function(e){e?this.$modules.domComponent.classList.remove("hidden"):this.$modules.domComponent.classList.add("hidden"),this.$state.visible=e}},{key:"$onBannerClick",value:function(e){e.originalEvent.stopPropagation(),this.setBannerVisibility(!this.$state.visible)}}]),t}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t,n){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=st(t).call(this,e),(n=!i||"object"!==rt(i)&&"function"!=typeof i?it(o):i).$temp.circlesRenderingObjects={},n.$temp.prevScaleX=-1,n.$modules.selectedValuesBannerController=new nt,n.$modules.domComponent.addChild("dom-layer",n.$modules.selectedValuesBannerController.domElement),n.$modules.renderingEngine.addChild(n.$modules.selectedValuesBannerController.renderingObject),n.$modules.renderingEngine.addChild(n.$modules.selectedValuesBannerController.renderingObjectLine),n.$setupGrid(),n.$modules.domComponent.on("dom.drag",n.$onUserDrag.bind(it(n))),n.$modules.domComponent.on("dom.click",n.$onUserClick.bind(it(n))),n.$modules.domComponent.on("dom.pan",n.$onUserPan.bind(it(n))),n.$updateGridCaptionsX=n.$updateGridCaptionsX.bind(it(n)),n.$modules.renderingEngine.on("projection.updated",function(e){r.a.throttle(n.$modules.selectedValuesBannerController.updateBannerAlign,25),n.$updateGridCaptionsX()}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,qe),n=t,(i=[{key:"addSeries",value:function(e){at(st(t.prototype),"addSeries",this).call(this,e),this.$modules.selectedValuesBannerController.setSeries(e)}},{key:"$setupGrid",value:function(){var e=this;this.$state.gridState=new r.a.DataKeeper({steps:o.a.vec2(20,1e6)}),this.$temp.gridLineMeshes=[],r.a.loop(0,f.a.values.gridPatternXCaptionsCount,1,!0,function(t){var n=new Fe.Material({vertexShader:"vert.grid-line-y",fragmentShader:"frag.default",uniforms:{gridSteps:e.$state.gridState.steps,diffuse:f.a.glColors.gridPatternLineColor,lineIndex:o.a.float32(t),opacity:o.a.float32(.5)}}),r=new Fe.RectGeometry({width:1,height:1}),i=new Fe.Mesh({geometry:r,material:n});e.$temp.gridLineMeshes[t]=i,e.$modules.renderingEngine.addChild(i)}),this.$setupGridCaptions()}},{key:"$updateGridCaptionsX",value:function(){var e=this.$modules.renderingEngine.viewport,t=this.$modules.renderingEngine.scale,n=e.w,i=this.$state.accuracy,a=(o.a.getOrder(n),Math.ceil(n/i/(f.a.values.gridPatternXCaptionsCount+1)));a=o.a.nearestPowerOfTwo(a,!0);var s=o.a.nearestMult(i,i*a*2,!0,!0),l=e.x,c=o.a.nearestMult(l-s,s,!1,!0);this.$temp.prevScaleX=t.x,r.a.loopCollection(this.$temp.gridCaptionsX,function(e,t){var n=c+t*s;e.object.position.x=n,e.object.render(),e.value!==n&&(e.value=n,e.component.ref("caption").textContent=r.a.formatDate(n,"${monthName} ${date}"))})}},{key:"$updateGridCaptionsY",value:function(e){var t=this.$state.gridState.steps.y,n=this.$modules.renderingEngine.viewport.y,i=o.a.nearestMult(n-t,t,!1,!0);r.a.loopCollection(this.$temp.gridCaptionsY,function(e,n){var o=i+n*t;e.object.position.y=o,e.object.render(),e.value!==o&&(o<0?e.component.classList.add("hidden"):(e.value=o,e.component.ref("caption").textContent=r.a.formatValue(o)))})}},{key:"$setupGridCaptions",value:function(){var e=this;this.$temp.gridCaptionsX={},this.$temp.gridCaptionsY={},r.a.loop(0,f.a.values.gridPatternXCaptionsCount,1,!0,function(t){var n=new T({template:"grid-caption",classList:["time"]}),r=new Fe.DOMElement({domElement:n.domElement,domComponent:n,applyScaleY:!1,applyScaleX:!1,applyPosY:!1,applyPosX:!0});e.$modules.domComponent.addChild("dom-layer",n.domElement),e.$temp.gridCaptionsX[t]={component:n,object:r},e.$modules.renderingEngine.addChild(r)}),r.a.loop(0,f.a.values.gridPatternYCaptionsCount,1,!0,function(t){var n=new T({template:"grid-caption",classList:["value"]}),r=new Fe.DOMElement({domElement:n.domElement,domComponent:n,applyScaleY:!1,applyScaleX:!1,applyPosY:!0,applyPosX:!1});e.$modules.domComponent.addChild("dom-layer",n.domElement),e.$temp.gridCaptionsY[t]={component:n,object:r},e.$modules.renderingEngine.addChild(r)})}},{key:"setExtremum",value:function(e,n){var r=this;if(at(st(t.prototype),"setExtremum",this).call(this,e,n)){var i=o.a.getOrder(e.size),a=(f.a.values.gridOrderDifder,Math.ceil(e.size/i/(f.a.values.gridPatternYCaptionsCount-1)));this.$state.gridState.steps.y=i*a,this.$state.gridState.steps.update(),setTimeout(function(){r.$updateGridCaptionsY()},0)}}},{key:"setSeriesVisibility",value:function(e,n){at(st(t.prototype),"setSeriesVisibility",this).call(this,e,n),this.$updateSelectedPositionCirclesVisibility()}},{key:"$updateSelectedPositionCirclesVisibility",value:function(){var e=this;this.$modules.selectedValuesBannerController.updateSeriesValuesVisibility(),r.a.loopCollection(this.$temp.circlesRenderingObjects,function(t,n){e.$state.series&&e.$state.series[n]&&e.$state.series[n].visible?t.$params.domComponent.classList.remove("hidden"):t.$params.domComponent.classList.add("hidden")})}},{key:"$onUserDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtual(e.x,e.y);this.emit("user.position.select",t)}},{key:"$onUserClick",value:function(e){var t=this.$modules.renderingEngine.toVirtual(e.x,e.y);this.emit("user.position.select",t)}},{key:"$onUserPan",value:function(e){if(e.panDelta>0){var t=this.$modules.renderingEngine.scale;this.$modules.renderingEngine.setScale(t.x*e.panDelta,t.y)}}},{key:"setSelectedPositionValues",value:function(e){var t=this;r.a.loopCollection(e,function(e,n){var r=t.$temp.circlesRenderingObjects[n];if(!r){var o=new T({template:"selected-position-circle"});(r=new Fe.DOMElement({domElement:o.domElement,domComponent:o,applyScaleY:!1,applyScaleX:!1,applyPosY:!0,applyPosX:!0})).setStyles({borderColor:t.$state.series[n].series.color,width:"".concat(f.a.values.plotSelectedPositionCircleRadius,"px"),height:"".concat(f.a.values.plotSelectedPositionCircleRadius,"px")},o.ref("inner")),t.$modules.domComponent.addChild("dom-layer",o.domElement),t.$modules.renderingEngine.addChild(r),t.$temp.circlesRenderingObjects[n]=r}r.position.set(e),r.soloRenderingAvailable?(r.render(),t.$modules.renderingEngine.updateProjection()):t.$modules.renderingEngine.updateProjection(),t.$updateSelectedPositionCirclesVisibility()}),this.$modules.selectedValuesBannerController.setSeriesValues(e)}}])&&ot(n.prototype,i),a&&ot(n,a),t}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,t,n){return(dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(e){var n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=ht(t).call(this,e))||"object"!==ut(a)&&"function"!=typeof a?pt(i):a).$state.beginTime=0,n.$state.frameViewportRect=o.a.rect(0,0,0,0);var s=n.$modules.frameControlComponent=new T({template:"frame-control"});return n.$modules.domComponent.addChild("dom-layer",n.$modules.frameControlComponent.domElement),s.on("frame-control.filler.left.drag",n.$onFrameControlLeftFillerDrag.bind(pt(n))),s.on("frame-control.filler.right.drag",n.$onFrameControlRightFillerDrag.bind(pt(n))),s.on("frame-control.frame.drag",n.$onFrameControlFrameDrag.bind(pt(n))),n.$modules.frameControlsRenderingObject=new Fe.DOMElement({domElement:s.ref("frame-control.frame"),applyPosX:!0,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsLeftFillerRenderingObject=new Fe.DOMElement({domElement:s.ref("frame-control.filler.left"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.frameControlsRightFillerRenderingObject=new Fe.DOMElement({domElement:s.ref("frame-control.filler.right"),applyPosX:!1,applyPosY:!1,applySizeX:!0,applySizeY:!1}),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsLeftFillerRenderingObject),n.$modules.renderingEngine.addChild(n.$modules.frameControlsRightFillerRenderingObject),r.a.proxyProps(pt(n),n.$state,["frameViewportRect"]),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,qe),n=t,(i=[{key:"setFramePosition",value:function(e){var t=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,r=this.$state.beginTime,o=this.$state.finishTime;e<r&&(e=r),e+n.w>o&&(e=o-n.w),n.x=e,t.position.x=e,t.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"setFrameSize",value:function(e){var t=this.$modules.frameControlsRenderingObject,n=this.$state.frameViewportRect,r=(this.$state.beginTime,this.$state.finishTime,this.$state.accuracy);e<r&&(e=r),n.x+e>this.$state.finishTime&&(e=this.$state.finishTime-n.x),n.w=e,t.size.x=e,t.render(),this.$updateFillers(),this.emit("frame.viewport.changed",n)}},{key:"$updateFillers",value:function(){var e=this.$modules.frameControlsLeftFillerRenderingObject,t=this.$modules.frameControlsRightFillerRenderingObject,n=this.$state.frameViewportRect,r=this.$state.beginTime,o=this.$state.finishTime;this.$state.accuracy;e.size.x=n.x-r,t.size.x=o-(n.x+n.w),e.render(),t.render()}},{key:"$onFrameControlLeftFillerDrag",value:function(e){var t,n=this.$state.frameViewportRect,r=this.$state.accuracy,o=this.$state.beginTime,i=this.$modules.renderingEngine.toVirtualScale(e.dragX,0),a=n.x+i.x;n.x+n.w-a<=r||a<=o||((t=n.w-i.x)<=this.$state.accuracy&&(t=this.$state.accuracy,a-=i.x),a<=this.$state.beginTime&&(a=this.$state.beginTime,t+=i.x),this.setFramePosition(a),this.setFrameSize(t))}},{key:"$onFrameControlRightFillerDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtualScale(e.dragX,0);this.setFrameSize(this.$state.frameViewportRect.w+t.x)}},{key:"$onFrameControlFrameDrag",value:function(e){var t=this.$modules.renderingEngine.toVirtualScale(e.dragX,0);this.setFramePosition(this.$state.frameViewportRect.x+t.x)}},{key:"addSeries",value:function(e){dt(ht(t.prototype),"addSeries",this).call(this,e),this.setFrameSize((e.series.finishTime-e.series.beginTime)/5),this.setFramePosition(e.series.finishTime)}}])&&ft(n.prototype,i),a&&ft(n,a),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=gt(this,wt(t).call(this))).$temp.seriesButtons=new r.a.DataKeeper,e.$modules.domComponent=new T({template:"chart-control"}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,u),n=t,(o=[{key:"addSeriesButton",value:function(e){var t=this,n=e.id,o=new T({template:"chart-control-series-button"});this.$modules.domComponent.addChild("series-buttons",o.domElement),this.$temp.seriesButtons[n]=o,r.a.assignValues(o.ref("checkbox-wrapper").style,{borderColor:e.color}),o.ref("caption").textContent=e.name,o.on("series-button.click",function(){t.emit("toggle.series.visibility",e)})}},{key:"removeSeriesButton",value:function(e){}},{key:"setSeriesVisibility",value:function(e,t){t?this.$temp.seriesButtons[e].classList.remove("disabled"):this.$temp.seriesButtons[e].classList.add("disabled")}}])&&bt(n.prototype,o),i&&bt(n,i),t}();function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var St=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.$state=new r.a.DataKeeper({beginTime:0,finishTime:0,accuracy:1,id:n.id,color:n.color,type:n.type,visible:!0}),r.a.proxyProps(this,this.$state,["accuracy","beginTime","finishTime","id","color","type","visible"]),this.$content=new r.a.DataKeeper,this.$setSeriesData(n,o)}var t,n,i;return t=e,(n=[{key:"$setSeriesData",value:function(e,t){var n=this.$state.beginTime=t.beginTime,i=this.$state.finishTime=t.finishTime,a=this.$state.accuracy=t.accuracy,s=[];r.a.loop(n,i,a,!1,function(t,n){s.push(o.a.point(t,e.points[n]))}),this.$content[a]=s}},{key:"getLayer",value:function(){var e=this.$state.accuracy;return this.$content[e]||null}},{key:"slice",value:function(e,t){var n=this.$state.accuracy;return t+=n,(e-=n)<this.$state.beginTime&&(e=this.$state.beginTime),t>this.$state.finishTime&&(t=this.$state.finishTime),t=o.a.nearestMult(t,n,!0,!0),e=(e-this.$state.beginTime)/n,t=(t-this.$state.beginTime+n)/n,this.getLayer(n).slice(e,t)}},{key:"getExtremum",value:function(e,t){var n=this.slice(e,t);return o.a.getExtremum(n)}},{key:"getValueAt",value:function(e){var t=this.$state.accuracy,n=this.getLayer();e<this.$state.beginTime&&(e=this.$state.beginTime),e>this.$state.finishTime&&(e=this.$state.finishTime);var r=e,i=(r=o.a.nearestMult(e,t,!1,!0))+t,a=o.a.getStep(r,i,e);r=(r-this.$state.beginTime)/t,void 0===n[i=(i-this.$state.beginTime)/t]&&(i=r);var s=o.a.smoothstep(n[r],n[i],a);return o.a.point(e,s)}}])&&kt(t.prototype,n),i&&kt(t,i),e}();function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ot(this,Pt(t).call(this))).$state=new r.a.DataKeeper({beginTime:0,finishTime:0}),e.series=new r.a.DataKeeper,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,u),jt(t,null,[{key:"normalizeChartData",value:function(e){var t=this,n={};return r.a.loopCollection(e.columns,function(r,o){var i="string"==typeof r[0]?r.shift():0===o?"x":"y".concat(o-1),a=e.types[i],s=e.names[i],l=e.colors[i];switch(a){case"x":n.time=t.processTimeRawData(r);break;default:n.series=n.series||{},n.series[i]={id:i,name:s,type:a,color:l,points:r}}}),n}},{key:"processTimeRawData",value:function(e){var t,n,o=null;return r.a.loopCollection(e,function(r,i){0==i?t=r:i==e.length-1&&(n=r),null===o&&i>0&&(o=r-e[i-1])}),{beginTime:t,finishTime:n,accuracy:o}}}]),jt(t,[{key:"importRawDataset",value:function(e){this.importDataset(t.normalizeChartData(e))}},{key:"importDataset",value:function(e){var t=this;r.a.loopCollection(e.series,function(n,r){t.series[r]=new St(r,n,e.time),t.$state.beginTime=t.series[r].beginTime,t.$state.finishTime=t.series[r].finishTime,t.emit("series.added",t.series[r])})}},{key:"getSeriesPoints",value:function(e){return this.series[e].slice(this.$state.beginTime,this.$state.finishTime)}},{key:"getExtremum",value:function(e,t){var n=[];return r.a.loopCollection(this.series,function(r,o){if(r.visible){var i=r.getExtremum(e,t);n.push(i.min,i.max)}}),o.a.getExtremum(n)}},{key:"getValueAt",value:function(e){var t={};return r.a.loopCollection(this.series,function(n,r){t[r]=n.getValueAt(e)}),t}},{key:"setSeriesVisibility",value:function(e,t){this.series[e].visible=t,this.emit("series.visibility.changed",this.series[e])}},{key:"toggleSeriesVisibility",value:function(e){this.series[e].visible=!this.series[e].visible,this.emit("series.visibility.changed",this.series[e])}}]),t}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),e}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,e=!(i=Rt(t).call(this))||"object"!==Dt(i)&&"function"!=typeof i?Mt(n):i,Vt(Mt(e),"Config",f.a),Vt(Mt(e),"Utils",r.a),Vt(Mt(e),"ChartMath",o.a),e.$state=new r.a.DataKeeper({renderingPaused:!0}),e.$modules.set({chartControl:new xt,domComponent:new T({template:"telechart"})}),e.$modules.set({storage:new _t,majorPlot:new ct,panoramaPlot:new yt}),e.$setupDOM(),e.$setupEvents(),e.startRendering(),e.$temp.unsubGlobalSkinChanged=s.on("global.skin.changed",e.$onGlobalSkinChanged.bind(Mt(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,u),Lt(t,null,[{key:"processAsset",value:function(e,t,n,r){e.keys().forEach(function(o){var i=e(o),a=o.replace(".".concat(n),"").replace("./","");f.a.assets[t][a]=r?r(i):i})}},{key:"loadAssets",value:function(){this.processAsset(n(6),"html","html"),this.processAsset(n(17),"css","scss"),this.processAsset(n(20),"shaders","glsl"),this.processAsset(n(25),"skins","yml",function(e){return e.default&&(f.a.defaultSkin=e.name),new d(e)})}}]),Lt(t,[{key:"update",value:function(e){var t=this;this.$modules.storage.importRawDataset(e),r.a.loopCollection(this.$modules.storage.series,function(e,n){var r={points:t.$modules.storage.getSeriesPoints(n),series:e,extremum:t.$modules.storage.getExtremum(e.beginTime,e.finishTime),visible:e.visible};t.$modules.majorPlot.addSeries(r),t.$modules.panoramaPlot.addSeries(r)})}},{key:"setSkin",value:function(e){e=e||f.a.defaultSkin,f.a.activeSkin=e,f.a.assets.skins[e]&&f.a.assets.skins[e].apply(),this.$modules.majorPlot.render(!0),this.$modules.panoramaPlot.render(!0),this.$modules.domComponent.ref("theme-switcher-caption").textContent="day"==e?"Switch to Night Mode":"Switch to Day Mode",s.emit("global.skin.changed",e),this.clog("Skin applied: ".concat(e))}},{key:"setParentElement",value:function(e){e.appendChild(this.domElement)}},{key:"startRendering",value:function(){this.$state.renderingPaused&&(this.$state.set("renderingPaused",!1),this.$modules.majorPlot.startRendering(),this.$modules.panoramaPlot.startRendering())}},{key:"stopRendering",value:function(){this.$state.renderingPaused||(this.$state.set("renderingPaused",!0),this.$modules.majorPlot.stopRendering(),this.$modules.panoramaPlot.stopRendering())}},{key:"$setupDOM",value:function(){this.$modules.domComponent.addChild("chart-controls-wrapper",this.$modules.chartControl.domElement),this.$modules.domComponent.addChild("major-plot-wrapper",this.$modules.majorPlot.domElement),this.$modules.domComponent.addChild("panorama-plot-wrapper",this.$modules.panoramaPlot.domElement),this.setSkin("night")}},{key:"$setupEvents",value:function(){var e=this;this.$modules.domComponent.on("theme-switcher.click",this.$onThemeSwitcherClick.bind(this)),this.$modules.panoramaPlot.on("frame.viewport.changed",function(t){var n=e.$modules.storage.getExtremum(t.x,t.x+t.w);e.$modules.majorPlot.setViewport(t.x,e.$modules.majorPlot.viewport.y,t.w,e.$modules.majorPlot.viewport.h),e.$modules.majorPlot.setExtremum(n,!0)}),this.$modules.majorPlot.on("user.position.select",function(t){var n=e.$modules.storage.getValueAt(t.x);e.$modules.majorPlot.setSelectedPositionValues(n)}),this.$modules.storage.on("series.visibility.changed",function(t){var n=e.$modules.panoramaPlot.frameViewportRect,r=e.$modules.storage.getExtremum(n.x,n.x+n.w),o=e.$modules.storage.getExtremum(t.beginTime,t.finishTime);e.$modules.chartControl.setSeriesVisibility(t.id,t.visible),e.$modules.majorPlot.setSeriesVisibility(t.id,t.visible),e.$modules.panoramaPlot.setSeriesVisibility(t.id,t.visible),e.$modules.panoramaPlot.setExtremum(o,!0),e.$modules.majorPlot.setExtremum(r,!0)}),this.$modules.storage.on("series.added",function(t){e.$modules.chartControl.addSeriesButton(t)}),this.$modules.chartControl.on("toggle.series.visibility",function(t){e.$modules.storage.toggleSeriesVisibility(t.id)})}},{key:"$onThemeSwitcherClick",value:function(e){"day"==f.a.activeSkin?this.setSkin("night"):this.setSkin("day")}},{key:"$onGlobalSkinChanged",value:function(e){this.$modules.majorPlot.render(!0),this.$modules.panoramaPlot.render(!0)}},{key:"die",value:function(){this.$temp.unsubGlobalSkinChanged()}}],[{key:"greet",value:function(){console.log("%c The code has been written by @sanyabeast for Telegram Contest.","color: red;"),console.log("%c Contact me: telegram:sanyabeats, a.gvrnsk@gmail.com, github.com/sanyabeast","color: blue;"),console.log("%c Repo URLs:\n\t\t\thttps://sanyabeast@bitbucket.org/sanyabeast/telechart.git\n\t\t\thttps://github.com/sanyabeast/telechart.git\n\t\t","color:green")}}]),t}();Ft.loadAssets(),i.a.start(),Ft.greet();t.default=Ft},function(e,t,n){var r={"./canvas-element.html":7,"./chart-control-series-button.html":8,"./chart-control.html":9,"./frame-control.html":10,"./grid-caption.html":11,"./plot.html":12,"./selected-position-circle.html":13,"./selected-values-banner-value.html":14,"./selected-values-banner.html":15,"./telechart.html":16};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=6},function(e,t){e.exports='<canvas class="telechart-canvas fit-width fit-height"></canvas>'},function(e,t){e.exports='<div \r\n\tclass="series-button flex-row flex-a-center button"\r\n\t$ref="series-button"\r\n\t$events="click"\r\n>\r\n\t\t<div \r\n\t\t\tclass="checkbox-wrapper border-box pos-relative"\r\n\t\t\t$ref="checkbox-wrapper"\r\n\t\t>\r\n\t\t\t<div class="box box-a pos-absolute"></div>\r\n\t\t\t<div class="box box-b pos-absolute"></div>\r\n\t\t</div>\r\n\t\t<p \r\n\t\t\tclass="caption"\r\n\t\t\t$ref="caption"\r\n\t\t></p>\r\n</div>'},function(e,t){e.exports='<div\r\n\tclass="chart-controls fit-width fit-height"\r\n\t$ref="chart-controls"\r\n>\r\n\t\t<div\r\n\t\t\tclass="series-buttons fit-width fit-height flex-row"\r\n\t\t\t$ref="series-buttons"\r\n\t\t>\r\n\t\t\t\r\n\t\t</div>\r\n</div>'},function(e,t){e.exports='<div \r\n\tclass="frame-control pos-absolute fit-height border-box fit-width flex-row"\r\n\t$ref="frame-control"\r\n>\r\n\t\t<div\r\n\t\t\tclass="filler left-filler fit-height pos-absolute border-box"\r\n\t\t\t$ref="frame-control.filler.left"\r\n\t\t\t$events="drag"\r\n\t\t></div>\r\n\t\t\r\n\t\t<div\r\n\t\t\tclass="frame fit-height flex-no-shrink pos-absolute border-box"\r\n\t\t\t$ref="frame-control.frame"\r\n\t\t\t$events="drag"\r\n\t\t>\r\n\t\t</div>\r\n\t\r\n\t\t<div\r\n\t\t\tclass="filler right-filler fit-height pos-absolute border-box"\r\n\t\t\t$ref="frame-control.filler.right"\r\n\t\t\t$events="drag"\r\n\t></div>\r\n</div>'},function(e,t){e.exports='<div class="grid-caption pos-absolute">\r\n\t<p  class="font-w-bold"\r\n\t\t$ref="caption"\r\n\t>test</p>\r\n</div>'},function(e,t){e.exports='<div \r\n\tclass="telechart-plot pos-relative fit-width fit-height overflow-hidden"\r\n\t$events="drag click"\r\n\t$ref="dom"\r\n>\r\n\t<div \r\n\t\tclass="canvas-wrapper pos-absolute fit-width fit-height"\r\n\t\t$ref="canvas-wrapper"\r\n\t></div>\r\n\t<div \r\n\t\tclass="dom-layer pos-absolute fit-width fit-height"\r\n\t\t$ref="dom-layer"\r\n\t></div>\r\n</div>'},function(e,t){e.exports='<div \r\n\tclass="selected-position-circle pos-absolute"\r\n>\r\n\t<div \r\n\t\tclass="inner border-box"\r\n\t\t$ref="inner"\r\n\t></div>\r\n</div>'},function(e,t){e.exports='<div\r\n\tclass="series-value flex-column"\r\n\t$ref="series-value"\r\n>\r\n\t<div\r\n\t\tclass="value-container"\r\n\t>\r\n\t\t<p\r\n\t\t\tclass="value font-w-bold"\r\n\t\t\t$ref="value"\r\n\t\t></p>\r\n\t</div>\r\n\t<div\r\n\t\tclass="caption-container"\r\n\t>\r\n\t\t<p\r\n\t\t\tclass="caption"\r\n\t\t\t$ref="caption"\r\n\t\t></p>\r\n\t</div>\r\n</div>'},function(e,t){e.exports='<div\r\n\tclass="selected-values-banner pos-absolute flex-column"\r\n\t$ref="banner"\r\n\t$events="click"\r\n>\r\n\t<div class="inner fit-width fit-height flex-column">\r\n\t\t<div class="date-value">\r\n\t\t\t<p\r\n\t\t\t\tclass="value"\r\n\t\t\t\t$ref="date-value"\r\n\t\t\t></p>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\tclass="series-values-wrapper flex-row"\r\n\t\t\t$ref="series-values-wrapper"\r\n\t\t></div>\r\n\t</div>\r\n</div>'},function(e,t){e.exports='<div \r\n\tclass="telechart flex-column fit-width fit-height border-box"\r\n\t$ref="telechart"\r\n\t$css="modifiers telechart">\r\n\t\t<div class="header caption flex-row flex-a-center flex-no-shrink">\r\n\t\t\t<p class="font-w-bold">Followers</p>\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="major-plot-wrapper fit-width pos-relative flex-stretch-content"\r\n\t\t\t$ref="major-plot-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="panorama-plot-wrapper fit-width pos-relative  overflow-hidden"\r\n\t\t\t$ref="panorama-plot-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="chart-controls-wrapper flex-row fit-width flex-no-shrink"\r\n\t\t\t$ref="chart-controls-wrapper">\r\n\t\t</div>\r\n\t\t<div \r\n\t\t\tclass="theme-switcher button fit-width flex-row flex-j-center"\r\n\t\t\t$ref="theme-switcher"\r\n\t\t\t$events="click">\r\n\t\t\t\t<p \r\n\t\t\t\t\tclass="font-w-normal"\r\n\t\t\t\t\t$ref="theme-switcher-caption">Switch to Night Mode\r\n\t\t\t\t</p>\r\n\t\t</div>\r\n</div>'},function(e,t,n){var r={"./modifiers.scss":18,"./telechart.scss":19};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=17},function(e,t){e.exports=".flex-row {\n  display: flex;\n  flex-direction: row; }\n\n.flex-column {\n  display: flex;\n  flex-direction: column; }\n\n.flex-j-center {\n  display: flex;\n  justify-content: center; }\n\n.flex-a-center {\n  display: flex;\n  align-items: center; }\n\n.flex-grow {\n  display: flex;\n  flex-grow: 1; }\n\n.flex-no-shrink {\n  display: flex;\n  flex-shrink: 0; }\n\n.flex-shrink {\n  display: flex;\n  flex-shrink: 1; }\n\n.flex-stretch-content {\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch; }\n\n.fit-width {\n  width: 100%; }\n\n.fit-height {\n  height: 100%; }\n\n.border-box {\n  box-sizing: border-box; }\n\n.pos-absolute {\n  position: absolute;\n  left: 0;\n  top: 0; }\n\n.pos-relative {\n  position: relative; }\n\n.font-w-lighter {\n  font-weight: lighter; }\n\n.font-w-normal {\n  font-weight: normal; }\n\n.font-w-bold {\n  font-weight: 600; }\n\n.font-w-bolder {\n  font-weight: bolder; }\n\n.overflow-hidden {\n  overflow: hidden; }\n"},function(e,t){e.exports=".telechart {\n  user-select: none;\n  background-color: var(--telechartBackgroundColor);\n  padding: 16px;\n  -webkit-tap-highlight-color: transparent;\n  /* chart controls */ }\n  .telechart p {\n    margin: 0;\n    font-family: Tahoma, Verdana, Segoe, sans-serif;\n    color: var(--majorTextColor); }\n  .telechart .header.caption {\n    height: 40px; }\n  .telechart .major-plot-wrapper {\n    max-height: 70%;\n    flex-grow: 10; }\n    .telechart .major-plot-wrapper .telechart-plot .canvas-wrapper, .telechart .major-plot-wrapper .telechart-plot .dom-layer {\n      height: calc( 100% - 24px); }\n  .telechart .panorama-plot-wrapper {\n    height: 48px;\n    min-height: 48px;\n    background-color: var(--panormaPlotBackground);\n    margin: 16px 0;\n    margin-top: 20px; }\n  .telechart .telechart-plot {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box; }\n  .telechart .button {\n    cursor: pointer;\n    user-select: none;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none; }\n  .telechart .theme-switcher p {\n    color: var(--themeSwitherCaptionColor); }\n  .telechart .frame-control {\n    z-index: 1;\n    flex-wrap: 0; }\n    .telechart .frame-control .filler {\n      background: black;\n      background-color: var(--frameControlBackgroundColor);\n      z-index: 2; }\n      .telechart .frame-control .filler.left-filler {\n        left: 0;\n        border-right: 8px solid var(--frameControlPlaneBackgroundColor); }\n      .telechart .frame-control .filler.right-filler {\n        right: 0;\n        left: auto;\n        border-left: 8px solid var(--frameControlPlaneBackgroundColor); }\n    .telechart .frame-control .frame {\n      width: 1px;\n      border-top: 2px solid var(--frameControlPlaneBackgroundColor);\n      border-bottom: 2px solid var(--frameControlPlaneBackgroundColor);\n      z-index: 1;\n      cursor: move; }\n  .telechart .selected-position-circle {\n    transition: opacity 0.2s ease-out;\n    z-index: 2; }\n    .telechart .selected-position-circle .inner {\n      width: 12px;\n      height: 12px;\n      background: var(--telechartBackgroundColor);\n      transform: translate(-50%, -50%);\n      border-radius: 50%;\n      border: 2px solid var(--borderColor);\n      transition: transform 0.2s ease-out; }\n    .telechart .selected-position-circle.hidden {\n      opacity: 0; }\n      .telechart .selected-position-circle.hidden .inner {\n        transform: translate(-50%, -50%) scale(0.00001, 0.00001); }\n  .telechart .chart-controls-wrapper {\n    flex-grow: 1; }\n    .telechart .chart-controls-wrapper .chart-controls {\n      min-height: 48px;\n      max-height: 64px; }\n      .telechart .chart-controls-wrapper .chart-controls .series-buttons {\n        align-items: flex-start; }\n        .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button {\n          padding: 6px;\n          border-radius: 40px;\n          border: 1px solid var(--seriesButtonBorderColor);\n          margin-right: 16px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper {\n            width: 20px;\n            height: 20px;\n            margin-right: 8px;\n            border-radius: 50%;\n            border-width: 10px;\n            border-style: solid;\n            transition: border-width 0.15s ease-in; }\n            .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box {\n              background-color: #fff;\n              height: 2px;\n              width: 6px;\n              border-radius: 4px;\n              transition-property: transform, opacity;\n              transition: 0.25s ease-in;\n              left: 50%;\n              top: 50%;\n              transform-origin: 0 50%; }\n              .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-a {\n                transform: rotateZ(225deg) translate(-2px, -3px); }\n              .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button .checkbox-wrapper .box.box-b {\n                transform: rotateZ(-45deg) translate(-4px, 2px);\n                width: 10px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button p.caption {\n            margin-right: 8px;\n            font-size: 13px; }\n          .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper {\n            border-width: 1px; }\n            .telechart .chart-controls-wrapper .chart-controls .series-buttons .series-button.disabled .checkbox-wrapper .box {\n              opacity: 0;\n              width: 2px; }\n  .telechart .grid-caption {\n    z-index: 1; }\n    .telechart .grid-caption p {\n      font-size: 12px;\n      color: var(--gridPatternCaptionColor); }\n    .telechart .grid-caption.time {\n      bottom: 0;\n      top: auto;\n      margin-bottom: -1.5em; }\n      .telechart .grid-caption.time p {\n        transform: translateX(-50%); }\n    .telechart .grid-caption.value {\n      margin-top: -1em; }\n    .telechart .grid-caption.hidden {\n      visibility: hidden; }\n  .telechart .selected-values-banner {\n    z-index: 4;\n    top: 8px;\n    transition: opacity 0.15s ease-in; }\n    .telechart .selected-values-banner .inner {\n      box-shadow: 0px 0px 4px 0px #00000061;\n      padding: 8px 16px;\n      border-radius: 4px;\n      background-color: var(--selectedValuesBannerBackgroundColor); }\n      .telechart .selected-values-banner .inner .date-value {\n        margin-bottom: 12px; }\n        .telechart .selected-values-banner .inner .date-value p.value {\n          font-size: 16px; }\n      .telechart .selected-values-banner .inner .series-values-wrapper {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-gap: 8px; }\n      .telechart .selected-values-banner .inner .series-value {\n        margin-right: 14px; }\n        .telechart .selected-values-banner .inner .series-value p.value {\n          font-size: 16px; }\n        .telechart .selected-values-banner .inner .series-value p.caption {\n          font-size: 13px; }\n        .telechart .selected-values-banner .inner .series-value.hidden {\n          display: none; }\n    .telechart .selected-values-banner.align-left .inner {\n      transform: translateX(calc(-100% - 8px)); }\n    .telechart .selected-values-banner.align-right .inner {\n      transform: translateX(8px); }\n    .telechart .selected-values-banner.hidden {\n      opacity: 0; }\n"},function(e,t,n){var r={"./frag.default.glsl":21,"./vert.grid-line-x.glsl":22,"./vert.grid-line-y.glsl":23,"./vert.line2d.glsl":24};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=20},function(e,t){e.exports="precision ${maxShaderPrecision} float;\r\n\r\nuniform vec3 diffuse;\r\nuniform float opacity;\r\n\r\nvoid main( void ) {\r\n   gl_FragColor = vec4( diffuse, opacity );\r\n}"},function(e,t){e.exports="precision ${maxShaderPrecision} float;\r\n\r\nattribute vec2 coords;\r\n\r\nuniform vec2  position;\r\n\r\nuniform vec2  worldPosition;\r\nuniform vec2  worldScale;\r\nuniform vec2  viewportSize;\r\n\r\nuniform vec2  selectedPosition;\r\n\r\nvoid main(void) {\r\n    vec2 pos = vec2( coords );\r\n\r\n    float offsetX = ( selectedPosition.x - worldPosition.x ) / worldScale.x;\r\n\r\n    pos.x += offsetX;\r\n   \r\n   \tpos.x /= viewportSize.x;\r\n    pos.y *= 2.;\r\n    pos -= 1.;\r\n\r\n  \tgl_Position = vec4( pos.xy, 0., 1.);\r\n}"},function(e,t){e.exports="precision ${maxShaderPrecision} float;\r\n\r\nattribute vec2 coords;\r\n\r\nuniform vec2  position;\r\n\r\nuniform vec2  worldPosition;\r\nuniform vec2  worldScale;\r\nuniform vec2  viewportSize;\r\n\r\nuniform float lineIndex;\r\nuniform vec2  gridSteps;\r\n\r\nvoid main(void) {\r\n    vec2 pos = vec2( coords );\r\n    vec2 steps = vec2( gridSteps / worldScale );\r\n\r\n    pos.y += steps.y * lineIndex;\r\n    pos.y /= viewportSize.y;\r\n    pos.x *= 2.;\r\n    pos -= 1.;\r\n\r\n  \tgl_Position = vec4( pos.xy, 0., 1.);\r\n}"},function(e,t){e.exports="precision ${maxShaderPrecision} float;\r\n\r\nattribute vec2 coords;\r\nattribute vec2 normal;\r\n\r\nuniform vec2  position;\r\nuniform float thickness;\r\nuniform float opacity;\r\n\r\nuniform float resolution;\r\nuniform vec2  worldPosition;\r\nuniform vec2  worldScale;\r\nuniform vec2  viewportSize;\r\n\r\nvec2 scaleNormal ( vec2 normal, vec2 scale ) {\r\n   normal /= vec2( scale.y, scale.x );    \r\n   float hypo = length( normal );\r\n   return( vec2( ( normal.x / hypo ), ( normal.y / hypo ) ) );\r\n}\r\n\r\n\r\nvec2 translate( vec2 pos ) {\r\n   pos -= position;\r\n   pos -= worldPosition;\r\n   return( pos );\r\n}\r\n\r\nvec2 project( vec2 pos ) {\r\n   return( pos / worldScale );\r\n}\r\n\r\n\r\nvec2 projectToScreen( vec2 pos ) {\r\n   pos /= viewportSize;\r\n   pos -= 1.;\r\n   return( pos );\r\n}\r\n\r\n\r\nvoid main(void) {\r\n   \tvec2 pos = translate( coords );\r\n      vec2 n = scaleNormal( normal, worldScale );\r\n\r\n   \tpos = project( pos );\r\n\r\n   \tpos += ( n * ( thickness * resolution ) );\r\n\r\n   \tpos = projectToScreen( pos );\r\n\r\n   \tgl_Position = vec4( pos.xy, 0., 1. );\r\n\r\n}"},function(e,t,n){var r={"./day.yml":26,"./night.yml":27};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=25},function(e,t){e.exports={name:"day",default:!0,values:{telechartBackgroundColor:"#ffffff",borderColor:"#000000",majorTextColor:"#000000",panormaPlotBackground:"#f5f9fb",themeSwitherCaptionColor:"#108be3",frameControlBackgroundColor:"#edf4f8d6",frameControlPlaneBackgroundColor:"#0000001f",seriesButtonBorderColor:"#0000001f",gridPatternLineColor:"#e2e7e9",gridPatternCaptionColor:"#96a2aa",selectedValuesBannerBackgroundColor:"#ffffff",gridPatternSelectedValueLineColor:"#dfe6eb"}}},function(e,t){e.exports={name:"night",values:{telechartBackgroundColor:"#242f3e",borderColor:"#ffffff",majorTextColor:"#ffffff",panormaPlotBackground:"#1f2a38",themeSwitherCaptionColor:"#36a8f1",frameControlBackgroundColor:"#1f2a38cc",frameControlPlaneBackgroundColor:"#40566bcc",seriesButtonBorderColor:"#40566bcc",gridPatternLineColor:"#394a60",gridPatternCaptionColor:"#536676",selectedValuesBannerBackgroundColor:"#253241",gridPatternSelectedValueLineColor:"#3b4a5a"}}},function(e,t){e.exports='<div class="plot3-window"\r\n\t style="\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-family:\' PT Sans\';\r\n\t\t\tmax-height: 100vh;\r\n\t\t\tuser-select:none;\r\n\t \t  \tposition:absolute;\r\n\t \t  \ttop:0;\r\n\t \t  \tleft:0;\r\n\t \t  \tdisplay:flex;\r\n\t \t  \tflex-direction:column;\r\n\t \t  \tmin-width:50px;\r\n\t \t  \tmin-height:50px;\r\n\t \t  \tz-index:999;\r\n\t \t  \tjustify-content:stretch;\r\n\t \t  \tborder: 2px solid black;\r\n\t \t  \tbox-sizing: border-box;\r\n\t \t  \twill-change: transform;\r\n\t \t"\r\n>\r\n\t<div class="header"\r\n\t\t style="\r\n\t\t   \t\tpadding:0 8px;\r\n\t\t   \t\theight:32px;\r\n\t\t   \t\tbackground:#fff;\r\n\t\t   \t\tcolor:white;\r\n\t\t   \t\tdisplay:flex;\r\n\t\t   \t\tflex-direction:row;\r\n\t\t   \t\tjustify-content:space-between;\r\n\t\t   \t\talign-items:stretch;\r\n\t\t   \t\tcursor:move;\r\n\t\t   \t"\r\n\t>\r\n\t\t<div class="caption"\r\n\t\t\t style="\r\n\t\t\t\t    display:flex;\r\n\t\t\t\t    flex-direction:column;\r\n\t\t\t\t    justify-content:center;\r\n\t\t\t\t    max-width:70%;\r\n\t\t\t\t    overflow:hidden;\r\n\t\t\t\t    white-space:nowrap;\r\n\t\t\t\t    text-overflow:ellipsis\r\n\t\t\t\t"\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tstyle="\r\n\t\t\t\t\t   display:inline-flex;\r\n\t\t\t\t\t   margin:0;\r\n\t\t\t\t\t   font-size:12px;\r\n\t\t\t\t\t   color:#000;\r\n\t\t\t\t\t   font-family:sans-serif\r\n\t\t\t\t\t"\r\n\t\t\t></p>\r\n\t\t</div>\r\n\t\t<div class="window-controls"\r\n\t\t\tstyle="\r\n\t\t\t  \t   display:flex;\r\n\t\t\t    "\r\n\t\t>\r\n\t\t\t<div class="button fullscreen"\r\n\t\t\t\tstyle="\r\n\t\t\t\t  \t   cursor:pointer;\r\n\t\t\t\t  \t   width:32px;\r\n\t\t\t\t  \t   display:flex;\r\n\t\t\t\t  \t   justify-content:center;\r\n\t\t\t\t  \t   align-items:center\r\n\t\t\t\t  \t"\r\n\t\t\t>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclass="material-icons"\r\n\t\t\t\t\tstyle="\r\n\t\t\t\t\t  \t   display:inline-flex;\r\n\t\t\t\t\t  \t   margin:0;\r\n\t\t\t\t\t  \t   font-size:14px;\r\n\t\t\t\t\t \t   color:#000;\r\n\t\t\t\t\t \t"\r\n\t\t\t\t>fullscreen</p>\r\n\t\t\t\t</div>\r\n\t\t\t<div class="button close"\r\n\t\t\t\tstyle="\r\n\t\t\t\t  \t   cursor:pointer;\r\n\t\t\t\t  \t   width:24px;\r\n\t\t\t\t  \t   display:flex;\r\n\t\t\t\t  \t   justify-content:center;\r\n\t\t\t\t  \t   align-items:center\r\n\t\t\t\t  \t"\r\n\t\t\t>\r\n\t\t\t\t<p\r\n\t\t\t\t\tclass="material-icons"\r\n\t\t\t\t\tstyle="\r\n\t\t\t\t\t  \t   display:inline-flex;\r\n\t\t\t\t\t  \t   margin:0;\r\n\t\t\t\t\t  \t   font-size:14px;\r\n\t\t\t\t\t \t   color:#000;\r\n\t\t\t\t\t \t"\r\n\t\t\t\t>close</p>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="custom-controls"\r\n\t\t style="\r\n\t\t   \t\theight:28px;\r\n\t\t   \t\tbackground:#fff;\r\n\t\t   \t\tdisplay:flex;\r\n\t\t   \t\tflex-direction:row;\r\n\t\t   \t\toverflow: hidden;\r\n\t\t   \t"\r\n\t>\r\n\t\t\r\n\t</div>\r\n\t\r\n\t<div class="body"\r\n\t\tstyle="\r\n\t\t  \t   width:100%;\r\n\t\t  \t   height:100%;\r\n\t\t  \t   flex-grow:1;\r\n\t\t  \t   overflow:hidden;\r\n\t\t  \t   position:relative;\r\n\t\t  \t"\r\n\t>\r\n\t\t\r\n\t</div>\t\r\n\t<div class="resizer"\r\n\t\tstyle="\r\n\t\t       width: 8px;\r\n\t\t\t   height: 8px;\r\n\t\t\t   border-radius: 50%;\r\n\t\t\t   background: rgb(255, 255, 255);\r\n\t\t\t   position: absolute;\r\n\t\t\t   right: -6px;\r\n\t\t\t   bottom: -6px;\r\n\t\t\t   transform: translate(50%, 50%);\r\n\t\t\t   cursor: nw-resize;\r\n\t\t\t   z-index: 1;\r\n\t\t\t   border: 1px solid black;\r\n\t\t  \t"\r\n\t></div>\r\n</div>'},function(e,t){e.exports='<div\r\n\tclass="button custom-button"\r\n\tstyle="display:flex;  width:24px;flex-shrink:1; align-items:center;  cursor:pointer;  justify-content:center"\r\n>\r\n\t<p\r\n\t\tclass="material-icons"\r\n\t\tstyle="margin:0;  display:flex;  color:#000"\r\n\t><p>\r\n</div>'},function(e){e.exports=[{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",37,20,32,39,32,35,19,65,36,62,113,69,120,60,51,49,71,122,149,69,57,21,33,55,92,62,47,50,56,116,63,60,55,65,76,33,45,64,54,81,180,123,106,37,60,70,46,68,46,51,33,57,75,70,95,70,50,68,63,66,53,38,52,109,121,53,36,71,96,55,58,29,31,55,52,44,126,191,73,87,255,278,219,170,129,125,126,84,65,53,154,57,71,64,75,72,39,47,52,73,89,156,86,105,88,45,33,56,142,124,114,64],["y1",22,12,30,40,33,23,18,41,45,69,57,61,70,47,31,34,40,55,27,57,48,32,40,49,54,49,34,51,51,51,66,51,94,60,64,28,44,96,49,73,30,88,63,42,56,67,52,67,35,61,40,55,63,61,105,59,51,76,63,57,47,56,51,98,103,62,54,104,48,41,41,37,30,28,26,37,65,86,70,81,54,74,70,50,74,79,85,62,36,46,68,43,66,50,28,66,39,23,63,74,83,66,40,60,29,36,27,54,89,50,73,52]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"#0",y1:"#1"},colors:{y0:"#3DC23F",y1:"#F34C44"}},{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",6706,7579,7798,8307,7866,7736,7816,7630,7536,7105,7178,7619,7917,7483,5772,5700,5435,4837,4716,4890,4753,4820,4538,12162,39444,25765,18012,14421,13249,11310,10377,9399,8917,8259,7902,9442,47596,36160,23866,18500,15488,13722,12270,13413,10574,7092,7159,7880,8821,8306,7780,7963,7837,7611,7334,7413,7015,6742,6557,6593,6680,6725,6345,5988,6365,9911,28833,19694,14873,11911,10498,9708,8893,8365,7960,7694,45529,42858,31508,23289,19147,15874,14551,13124,11778,10809,10522,9918,9436,8617,8765,8194,8035,7865,7573,7422,7047,7147,6861,6669,6363,12073,32381,21390,15311,12819,11655,10696,9678,9143,8296,7852],["y1",3522,4088,4146,4477,4202,4157,4177,4203,4223,3948,3946,3898,3979,4052,3279,3229,3302,3040,3054,2982,3077,2965,2973,5148,22485,13077,9055,7446,6824,5995,5787,5367,4997,4689,4630,4785,22365,15244,10626,8666,7681,6929,6219,6367,5402,4932,4844,5146,5265,4887,4714,4722,4718,4693,4746,4819,4455,4419,4323,4407,4277,11589,6100,5076,4769,8929,14002,9756,7520,6343,5633,5415,5052,4850,4624,4480,14102,24005,14263,10845,9028,7755,7197,7001,6737,6254,6150,5922,5603,5048,5423,5003,5035,4747,4814,4661,4462,4516,4221,4111,4053,12515,15781,10499,8175,6831,6287,5990,5590,5148,4760,4809]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"#0",y1:"#1"},colors:{y0:"#3DC23F",y1:"#F34C44"}},{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",4747,4849,5045,5184,5746,5400,5424,5576,6436,5337,4840,5379,4678,4736,5074,4897,4349,5089,4543,5033,5047,4871,4812,4723,4545,4723,4721,4384,4277,4682,4805,4001,4610,5241,5113,4059,4529,4673,5291,5154,5123,5535,5540,5161,5666,5584,6999,6854,5083,5361,5863,5792,5586,6106,5481,5532,5853,5809,6244,6156,5596,5426,5422,5413,4795,5113,5279,5530,4939,4983,4984,5527,5765,5001,5818,6061,5956,5288,5837,5703,5440,5238,5957,6432,6389,6064,7065,5981,5779,6567,6320,5634,6023,5702,6066,5797,6163,6182,4906,5637,7073,6679,5831,6015,6266,6128,6156,6218,6050,6140,5877,7147],["y1",4605,5036,4956,5168,5008,5069,5223,5360,5695,5209,4796,5028,4931,5123,4987,4964,4982,5037,5050,5144,5049,4971,4911,4792,4562,4597,4759,4761,4646,4543,4597,4428,4213,4270,3961,4784,4699,4711,4855,4717,4563,4923,5041,4895,4877,5001,5410,5033,5045,5184,4976,5207,5354,5205,4887,4831,5083,5148,5369,5176,5022,4880,4969,5135,4836,4764,4782,4783,4646,4755,4744,4932,5059,4851,4614,4718,5018,5034,5223,5007,4839,4763,4761,5048,5330,5106,5956,5135,5006,4919,5511,5114,5122,5314,5089,5022,4918,4986,4626,4675,4951,4921,5173,5145,5209,4967,5030,5120,5030,4946,4795,5224]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"#0",y1:"#1"},colors:{y0:"#3DC23F",y1:"#F34C44"}},{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",41,31,62,65,66,79,52,26,42,68,71,86,65,54,33,70,52,68,75,92,69,28,33,84,65,56,42,44,26,34,45,49,83,83,66,31,43,55,57,55,54,45,51,64,27,19,38,38,44,49,42,50,60,73,86,65,51,54,48,61,82,83,53,52,48,64,96,103,68,73,58,42,81,80,76,106,93,65,69,104,75,79,92,73,49,63,76,79,83,70,55,47,42,111,93,74,99,107,52,65,80,82,74,154,106,39,40,77,85,66,52,25],["y1",19,10,36,41,28,39,24,16,14,40,39,37,47,28,16,32,25,29,36,45,38,11,25,37,35,22,25,30,16,20,32,34,37,26,31,10,19,32,34,23,25,22,21,18,11,18,18,23,11,18,22,19,27,27,30,25,27,23,28,30,23,31,27,16,30,21,36,33,25,34,16,24,37,33,26,24,31,21,37,32,35,31,30,27,15,17,38,40,32,34,30,17,21,28,36,30,24,25,20,24,22,42,34,47,40,29,29,31,39,30,29,18]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"#0",y1:"#1"},colors:{y0:"#3DC23F",y1:"#F34C44"}},{columns:[["x",15200352e5,15201216e5,1520208e6,15202944e5,15203808e5,15204672e5,15205536e5,152064e7,15207264e5,15208128e5,15208992e5,15209856e5,1521072e6,15211584e5,15212448e5,15213312e5,15214176e5,1521504e6,15215904e5,15216768e5,15217632e5,15218496e5,1521936e6,15220224e5,15221088e5,15221952e5,15222816e5,1522368e6,15224544e5,15225408e5,15226272e5,15227136e5,15228e8,15228864e5,15229728e5,15230592e5,15231456e5,1523232e6,15233184e5,15234048e5,15234912e5,15235776e5,1523664e6,15237504e5,15238368e5,15239232e5,15240096e5,1524096e6,15241824e5,15242688e5,15243552e5,15244416e5,1524528e6,15246144e5,15247008e5,15247872e5,15248736e5,152496e7,15250464e5,15251328e5,15252192e5,15253056e5,1525392e6,15254784e5,15255648e5,15256512e5,15257376e5,1525824e6,15259104e5,15259968e5,15260832e5,15261696e5,1526256e6,15263424e5,15264288e5,15265152e5,15266016e5,1526688e6,15267744e5,15268608e5,15269472e5,15270336e5,152712e7,15272064e5,15272928e5,15273792e5,15274656e5,1527552e6,15276384e5,15277248e5,15278112e5,15278976e5,1527984e6,15280704e5,15281568e5,15282432e5,15283296e5,1528416e6,15285024e5,15285888e5,15286752e5,15287616e5,1528848e6,15289344e5,15290208e5,15291072e5,15291936e5,152928e7,15293664e5,15294528e5,15295392e5,15296256e5,1529712e6,15297984e5,15298848e5,15299712e5,15300576e5,1530144e6,15302304e5,15303168e5,15304032e5,15304896e5,1530576e6,15306624e5,15307488e5,15308352e5,15309216e5,1531008e6,15310944e5,15311808e5,15312672e5,15313536e5,153144e7,15315264e5,15316128e5,15316992e5,15317856e5,1531872e6,15319584e5,15320448e5,15321312e5,15322176e5,1532304e6,15323904e5,15324768e5,15325632e5,15326496e5,1532736e6,15328224e5,15329088e5,15329952e5,15330816e5,1533168e6,15332544e5,15333408e5,15334272e5,15335136e5,15336e8,15336864e5,15337728e5,15338592e5,15339456e5,1534032e6,15341184e5,15342048e5,15342912e5,15343776e5,1534464e6,15345504e5,15346368e5,15347232e5,15348096e5,1534896e6,15349824e5,15350688e5,15351552e5,15352416e5,1535328e6,15354144e5,15355008e5,15355872e5,15356736e5,153576e7,15358464e5,15359328e5,15360192e5,15361056e5,1536192e6,15362784e5,15363648e5,15364512e5,15365376e5,1536624e6,15367104e5,15367968e5,15368832e5,15369696e5,1537056e6,15371424e5,15372288e5,15373152e5,15374016e5,1537488e6,15375744e5,15376608e5,15377472e5,15378336e5,153792e7,15380064e5,15380928e5,15381792e5,15382656e5,1538352e6,15384384e5,15385248e5,15386112e5,15386976e5,1538784e6,15388704e5,15389568e5,15390432e5,15391296e5,1539216e6,15393024e5,15393888e5,15394752e5,15395616e5,1539648e6,15397344e5,15398208e5,15399072e5,15399936e5,154008e7,15401664e5,15402528e5,15403392e5,15404256e5,1540512e6,15405984e5,15406848e5,15407712e5,15408576e5,1540944e6,15410304e5,15411168e5,15412032e5,15412896e5,1541376e6,15414624e5,15415488e5,15416352e5,15417216e5,1541808e6,15418944e5,15419808e5,15420672e5,15421536e5,154224e7,15423264e5,15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5,15520896e5],["y0",2298660,2253410,2515820,2506600,2460240,2408400,2317430,2240100,2295900,2609800,2594200,2626400,2615e3,2617800,2394500,2391100,2608300,2676e3,2637700,2766600,3186500,3067700,2570700,2935e3,2949200,2913500,2763600,3216300,2343500,2361e3,258e4,2591800,2595200,2569500,2587700,2372500,2351200,2465600,2625100,2651300,2686700,2783300,2417400,2383800,2736300,2751100,2678900,2622300,2586e3,2365700,2407700,2541300,2600400,2581500,2576200,2550100,2334500,2139400,2015400,2019900,2210100,2191800,2240700,2107400,2026900,2258e3,2255200,2123200,2267800,2236100,2065700,2093300,2315300,2333200,2349800,2318300,2275e3,2110300,2077100,2335200,2357400,235e4,2293800,2303600,2118700,2100300,2219700,2361100,2349500,2347800,2318400,2141600,2178600,2432500,2448700,2440300,2450100,2424100,2229900,2152400,2402600,2401e3,2418100,2408600,2408400,2212600,2189e3,2450800,2444500,2451900,2451e3,2442600,2287900,2221100,2451900,2460200,2460900,2319900,2270300,2183800,2195300,2485e3,2460900,2500600,2495300,2479100,2290600,2235800,2459900,2484500,2491e3,2525600,2477300,2223700,2146700,2528200,2567800,2556300,2540700,2503e3,2301200,2251600,2538600,2596500,2553900,2534200,2527300,2337400,2332900,2688500,2585700,2559600,2651600,2586800,2445700,2472300,2633e3,2664600,2649400,2648900,2644600,2406400,2426200,2694e3,2740600,2711800,2700900,2645800,2422800,2438500,2697500,2712500,2690300,2684400,2517300,2435300,2444300,2781800,2807800,2804500,2771300,2798800,2633300,2597100,2946300,2889800,2949600,2951400,2928800,2701400,2709900,3012900,3019100,2977200,3012400,2989800,2752100,2749100,3033300,3050400,3023800,3066400,3047800,2792200,2799300,3096100,3132500,3082400,3071200,3021400,2818300,2737500,3037800,3123700,3138900,3181800,3118500,2834500,2826900,3171e3,3175900,3184300,3195800,3129100,2834100,2876800,3019e3,3214e3,3227900,3189600,3187800,2886800,2880500,3218200,3253700,3260400,3243300,3204e3,2962700,2968600,3282100,3618900,3017e3,3037300,3044500,2758900,2784600,3032900,3132400,3075800,3108200,3076200,2851800,2837800,3107500,3146800,3145100,3145300,3158400,2872100,2823800,3190400,3209300,3170800,3195300,3183e3,2910300,2937400,3297100,3293600,3278400,3234200,3224e3,3013900,2955300,3303900,3323300,3352600,3348400,3340600,3110600,3066400,3409200,3462100,3394200,3383100,3433700,3184e3,3092700,3417400,4505200,3094500,3106100,3083200,3005600,2866700,2984100,2954200,3086800,3070500,3040900,2903500,3592500,3316200,2930500,2961900,3009600,3027200,2871600,2831600,2881700,3054200,3116600,3120800,3157300,2950700,2982700,3192800,3223300,3219500,3235900,3214100,3004400,2963500,3280400,3262400,3256e3,3258400,3264900,3107500,3057400,3326600,3332400,3357e3,3365100,3359500,3127400,3130200,3367100,3422700,3436400,3431100,36e5,3146100,3170900,3467300,3483400,3473600,3454700,3390200,3213600,3188800,3498200,3498600,3493500,3478900,3446400,3239200,3229100,3559600,3563600,3549800,3577300,3524400,3282500,3271300,3599200,3575200,3554400,3540300,3450600,2812e3],["y1",1130400,1065370,1211030,1215590,1206540,1206720,1085450,1047320,1071720,1253170,1261050,1264660,1260240,1264840,1130440,1121660,1294120,1290780,1284540,1302860,1296810,1165450,1128830,1302070,1304470,1307090,1268e3,1302160,1159330,1163530,1327140,1320680,1319200,1306810,1287990,1121240,1145070,1132400,1310310,1329340,1340060,1333530,1167040,1153260,1356930,1366500,1375970,1378570,1357460,1192240,1188650,1386450,1400570,1395730,1404160,1378120,1195410,1082e3,1189660,1197540,1367850,1389070,1386300,1282240,1209450,1409070,1409450,1271120,1424860,1399990,1240640,1248530,1451770,1460240,1466100,1460990,1446730,1268830,1263270,1473530,1476230,1480760,1460520,1454730,1263910,1227240,1303900,1474760,1473400,1477380,1466790,1285620,1280100,1491820,1499660,1496260,1485990,1473140,1301290,1273440,1487420,1494560,1500790,1508660,1489400,1301960,1297680,1501170,1503e3,1488980,1501170,1479060,1367980,1296050,1493920,1487830,1479120,1338410,1318550,1266620,1285640,1487970,1489080,1489580,1475400,1471140,1316010,1271940,1476160,1480670,1491030,1480940,1477640,1305750,1296770,1483400,1494440,1495740,1485900,1484400,1319160,1284010,1488140,1502910,1503450,1485410,1498200,1323200,1303150,1506840,1523440,1521490,1516770,1504300,1327520,1307630,1518100,1521370,1521280,1521660,1517700,1349880,1333010,1543800,1553730,1546490,1541710,1532690,1367020,1354040,1560080,1564990,1565050,1561110,1406570,1340850,1368550,1600180,1630760,1621360,1636580,1652580,1489550,1465750,1731080,1730190,1732260,1730210,1724800,1519480,1520490,1758280,1774530,1770690,1781100,1762270,1551690,1541620,1787290,1795490,1802940,1799130,1778850,1560040,1564580,1822410,1819680,1812390,1814100,1798060,1587880,1589320,1833920,1843420,1851460,1845550,1822980,1596860,1595900,1866e3,1860480,1862600,1863950,1827540,1585280,1588970,1683930,1879500,1883300,1879040,1846160,1639090,1632580,1895780,1897620,1906e3,1906730,1895290,1670120,1670190,1914360,1932890,1933160,1921800,1898720,1673530,1685190,1937730,1951850,1949900,1949020,1923160,1718450,1704040,1964800,1975140,2002510,1985340,1959e3,1736810,1727670,2006070,2013910,2012460,1999630,1977020,1754720,1778560,2060360,2057730,2055990,2036720,2027870,1824680,1794140,2067460,2078290,2094100,2080950,2062080,1836850,1828130,2102920,2112450,2098790,2116900,2080290,1863760,1841050,2105790,2106420,2151300,2098890,2085380,1955580,1819790,1916140,1913670,2080350,2058160,2034960,1911480,1823940,2087990,1774260,1833950,1906680,1902490,1760460,1748060,1775740,1974730,2013790,2026250,2022210,1835820,1835930,2096230,2098020,2095770,2114060,2099370,1902800,1854380,2132520,2143600,2146120,2143820,2157910,1929390,1905550,2183760,2185970,2198030,2198160,2182120,1950150,1931800,2215380,2216240,2226480,2220480,2208790,1972190,1957520,2253470,2247170,2245720,2285890,2220730,1986340,1967720,2264340,2270140,2267210,2268950,2246450,2048760,1994100,2288680,2296010,2313730,2311290,2293790,2034250,2025380,2326190,2323990,2320790,2271600,2244270,1663290],["y2",820900,766050,894390,894540,887590,814490,786610,744660,770920,930330,930190,942060,933690,922280,810770,809760,952010,959070,957020,955890,948250,825710,804970,958480,959090,970200,907010,950150,825240,820890,971020,973560,967940,960360,931820,795020,753860,808740,97e4,981020,979810,975840,829690,819300,992290,998040,1006540,1013790,995130,848190,851890,1024210,1032210,1032290,1027510,1010090,850110,741740,844400,850410,1006690,1018470,1011630,916990,861050,1039650,1032640,904200,1045560,1022330,888970,896300,1073460,1074860,1074820,1074880,1057340,909410,906710,1078860,1092760,1083360,1078680,1067310,903090,858360,947540,1089590,1095060,1093130,1070660,915380,916530,1108410,1109460,1097230,1094520,1074630,915520,915750,1101730,1104580,1107930,1116850,1106360,928500,928210,1110530,1103230,1099970,1106180,1096060,982050,932620,1100880,1099970,1080040,959480,951360,902160,916070,1094120,1092530,1089290,1081760,1073320,937320,900010,1084910,1082620,1080960,1074050,1077810,925090,913970,1082900,1089240,1088890,1088720,1084170,938750,904060,1091540,1093660,1104520,1085860,1091880,939720,919790,1098590,1110310,1105580,1105220,1096580,940670,923480,1102360,1102760,1102280,1108680,1109210,955490,944730,1125380,1127440,1123070,1123910,1121160,966340,946940,1141980,1146790,1147420,1132920,990870,946370,964610,1171550,1187e3,1186370,1199100,1213e3,1062280,1035740,1274070,1276740,1280670,1282770,1257200,1085370,1080510,1293120,1308880,1302170,1317570,1298110,1111780,1106410,1317620,1318010,1332680,1328530,1305330,1113540,1119830,1340410,1348770,1346910,1352950,1324040,1139450,1136680,1355970,1364950,1377510,1375770,1338490,1140310,1151830,1374520,1374330,1378990,1372390,1347390,1135560,1121640,1217410,1390340,1392710,1383070,1372400,1170430,1169550,1404540,1412720,1414110,1417200,1388240,1194260,1188850,1416140,1425890,1426380,1410520,1388600,1197940,1197680,1432620,1448350,1436320,1438890,1412650,1222040,1215220,1454190,1456740,1490670,1470910,1438940,1243620,1241210,1483460,1489950,1488440,1482490,1465050,1261450,1281800,1552680,1527050,1526500,1511360,1497560,1302860,1292930,1547830,1550610,1546490,1547790,1525750,1324580,1321580,1576620,1575060,1570240,1574670,1543830,1341780,1341710,1577840,1565630,1580460,1569570,1543390,1431880,1301600,1401500,1401040,1530910,1526670,1498750,1383070,1284e3,1401510,1189880,1309810,1380230,1383630,1254140,1216830,1243860,1442240,1481680,1480680,1490700,1315410,1300930,1530520,1532340,1539150,1541510,1532770,1344910,1325530,1563330,1568490,1580110,1575130,1564880,1369810,1359060,1608230,1605640,1605970,1601640,1590810,1381740,1375190,1625850,1621800,1629910,1628510,1609760,1397880,1392180,1647700,1646770,1644200,1667150,1610910,1408450,1395010,1652870,1658870,1660310,1659060,1629490,1435450,1407720,1675610,1682450,1682070,1693010,1669030,1448500,1439490,1710110,1702690,1707e3,1662770,1512800,1101660],["y3",409540,377260,456380,460230,452020,389350,397230,369e3,382180,473570,477470,477550,478030,466150,397480,406380,494570,494680,482810,487700,475090,400520,397940,484160,487740,493260,434500,475410,398650,404690,491980,493410,485250,484740,465490,377460,353960,396390,493300,497560,495110,485260,394770,402910,500540,506260,509680,514010,494350,405360,412560,513030,521320,515730,518170,499850,394960,328510,406450,408080,501980,507800,496990,442530,414260,525770,513440,442660,526810,500190,426220,436110,546820,543480,545420,540530,527770,431050,443100,549550,551600,548120,542290,528810,435370,407250,463200,553640,554110,555820,536470,440460,447740,563330,561850,556430,550910,539440,441200,442310,563100,563760,559230,570870,555280,447750,455570,564630,562510,556050,555560,556470,484080,451320,561060,553630,540660,473500,472500,438550,447590,548670,549580,539920,541510,540380,450260,432260,535950,545160,543810,536990,539680,446570,444470,543450,549070,547840,541430,540200,450080,431800,549290,545890,556300,536500,543890,450890,440180,550850,554740,553460,553440,546420,446710,436640,553270,547750,551920,547610,545500,449220,447510,560050,561560,561560,556630,559340,461630,456300,569070,574800,575220,566180,472200,450530,462960,590290,597250,592970,604870,613050,512200,495980,649860,645070,636950,647120,630390,518820,525990,661700,659770,660650,669560,644510,529610,539520,673850,668530,673770,669480,654540,536090,548400,690100,684900,687040,685940,666360,560140,553050,696740,694490,703e3,697980,674460,548230,557370,697150,700110,701170,695810,669780,543500,540170,597430,711500,699770,698520,682170,568380,572950,715580,716050,720770,720660,695220,572970,578170,722280,724280,727910,719820,699840,580870,586270,729850,733680,726590,731270,709330,593070,600500,743590,743690,767660,747140,730510,607540,610480,762440,772960,763480,758490,741090,614450,645760,831130,792100,780410,778620,761e3,643620,650320,802640,805900,803960,800580,783660,648310,668150,825940,818650,816630,821e3,782790,657850,671660,817660,816020,821380,816280,800240,712510,648060,711170,709110,802240,792710,772260,691490,636050,649450,566120,651310,701910,702270,627880,605290,621710,744830,762830,765640,764140,648720,642430,786580,778790,780060,789170,772600,652160,648950,795360,802250,808010,801890,793490,669240,665310,814370,810880,814580,813950,802070,670450,674250,823010,820620,821400,820760,804300,681870,681460,831580,835600,835390,840770,810700,675170,680870,832e3,836790,845630,844560,821810,690310,683810,851150,848090,846480,858340,831290,696470,695540,866980,868190,861720,834530,706650,439140]],types:{y0:"line",y1:"line",y2:"line",y3:"line",x:"x"},names:{y0:"#0",y1:"#1",y2:"#2",y3:"#3"},colors:{y0:"#cb513a",y1:"#73c03a",y2:"#65b9ac",y3:"#4682b4"}}]},function(e,t,n){n.r(t);var r=n(28),o=n.n(r),i=n(29),a=n.n(i);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={name:t.name,translation:{x:0,y:0},size:{x:50,y:50},callbacks:{onCreate:t.onCreate,onResize:t.onResize,onMove:t.onMove,onClose:t.onClose,onFocus:t.onFocus}},this.dom=document.createElement("div"),this.dom.classList.add("plot3.window"),this.dom.innerHTML=o.a,this.dom=this.dom.children[0],this.dom.querySelector(".header .caption p").innerHTML=this.state.name,this.dom.addEventListener("click",this.state.callbacks.onFocus||function(){}),this.$setupFocusing(),this.$setupDragging(),this.$setupResizing(),this.$setupButtons(),t.position&&this.setPosition(t.position.x,t.position.y),t.size&&this.setSize(t.size.x,t.size.y),document.body.appendChild(this.dom),this.state.callbacks.onCreate(this)}return l(e,[{key:"bodyElement",get:function(){return this.dom.querySelector(".body")}}]),l(e,[{key:"setBodyContent",value:function(e){this.dom.querySelector(".body").innerHTML="",this.dom.querySelector(".body").appendChild(e)}},{key:"$setupFocusing",value:function(){}},{key:"$setupDragging",value:function(){var e=this.dom.querySelector(".header"),t={captured:!1,x:0,y:0};e.addEventListener("mousedown",function(e){t.x=e.pageX,t.y=e.pageY,t.captured=!0}.bind(this)),window.addEventListener("mouseup",function(e){t.x=e.pageX,t.y=e.pageY,t.captured=!1}.bind(this)),window.addEventListener("mousemove",function(e){if(t.captured){var n=e.pageX-t.x,r=e.pageY-t.y;t.x=e.pageX,t.y=e.pageY,this.setPosition(this.state.translation.x+n,this.state.translation.y+r)}}.bind(this))}},{key:"$setupResizing",value:function(){var e=this.dom.querySelector(".resizer"),t={captured:!1,x:0,y:0};e.addEventListener("mousedown",function(e){t.x=e.pageX,t.y=e.pageY,t.captured=!0}.bind(this)),window.addEventListener("mouseup",function(e){t.x=e.pageX,t.y=e.pageY,t.captured=!1}.bind(this)),window.addEventListener("mousemove",function(e){if(t.captured){var n=e.pageX-t.x,r=e.pageY-t.y;t.x=e.pageX,t.y=e.pageY,this.setSize(this.state.size.x+n,this.state.size.y+r),this.state.callbacks.onResize&&this.state.callbacks.onResize(this.state.size)}}.bind(this))}},{key:"$setupButtons",value:function(){this.dom.querySelector(".header .window-controls .button.close").addEventListener("click",this.state.callbacks.onClose||function(){})}},{key:"setPosition",value:function(e,t){this.state.translation.x=e,this.state.translation.y=t,this.dom.style.transform=["translate3d(",e,"px, ",t,"px, 0px)"].join("")}},{key:"setSize",value:function(e,t){this.state.size.x=e,this.state.size.y=t,this.dom.style.width=e+"px",this.dom.style.height=t+"px"}},{key:"addCustomButton",value:function(e,t,n){var r=document.createElement("div");r.innerHTML=a.a;var o=r.children[0];o.querySelector("p").innerHTML=e,t.onClick&&o.addEventListener("click",t.onClick),t.onOver&&o.addEventListener("mouseover",t.onOver),t.onOut&&o.addEventListener("mouseout",t.onOut),n&&o.setAttribute("title",n),this.dom.querySelector(".custom-controls").appendChild(o)}},{key:"close",value:function(){this.dom.remove()}},{key:"setZIndex",value:function(e){this.dom.style.zIndex=e||""}},{key:"makeStatic",value:function(e){e?this.dom.classList.add("static"):this.dom.classList.remove("static")}}]),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content={}}var t,n,r;return t=e,(n=[{key:"create",value:function(e){this.content[e.id]=new c(e)}},{key:"remove",value:function(e){var t=this.content[e];delete this.content[e],t.close()}},{key:"setFocus",value:function(e){for(var t in this.content)t==e?this.content[t].setZIndex(99999):this.content[t].setZIndex(1)}},{key:"makeStatic",value:function(e){for(var t in this.content)this.content[t].makeStatic(e)}}])&&u(t.prototype,n),r&&u(t,r),e}(),p=n(0),d=n(5),h=(n(4),n(1),n(30));function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Math.floor(5*Math.random());var y=!!("ontouchstart"in window||navigator.msMaxTouchPoints),v=y?4:5,b=Math.ceil(Math.sqrt(v)),g=window.innerWidth-16*(b+1),w=window.innerHeight-16*(b+1),$=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.telecharts=[],this.xframes=new f,y&&document.body.classList.add("mobile"),this.createCharts(v),document.body.querySelector(".button.add-window").addEventListener("click",function(){t.addTelechart(100,100,600,600,prompt("Enter dataset index [0 - 4]"))})}var t,n,r;return t=e,(n=[{key:"createCharts",value:function(e){var t=this;p.a.loop(0,e,1,!0,function(e){var n=g/3-16,r=w/2-16,o=e%3*n,i=Math.floor(e/3)*r+16;2==e&&(r*=2);var a=y?e+1:e;setTimeout(function(){t.addTelechart(o,i,n,r,a)},0)},this)}},{key:"addTelechart",value:function(e,t,n,r,o){var i=this;console.log(o),(o=Number(o)||0)<0&&(o=0),o>4&&(o=4);var a=new d.default;a.update(h[o]),this.telecharts.push(a),window["telechart".concat(this.telecharts.length-1)]=a,this.xframes.create({id:a.UUID,name:a.UUID,position:{x:e,y:t},size:{x:n,y:r},onCreate:function(e){a.setParentElement(e.bodyElement),i.setupCustomControls(e,a)},onClose:function(){i.xframes.remove(a.UUID),i.removeTelechart(a.UUID),a.die()},onFocus:function(){i.xframes.setFocus(a.UUID)}})}},{key:"stopRendering",value:function(){p.a.loopCollection(this.telecharts,function(e,t){e.stopRendering()})}},{key:"startRendering",value:function(){p.a.loopCollection(this.telecharts,function(e,t){e.startRendering()})}},{key:"removeTelechart",value:function(e){var t=this;p.a.loopCollection(this.telecharts,function(n,r){if(n.UUID==e)return t.telecharts[r].stopRendering(),t.telecharts.splice(r,1),delete window["telechart".concat(r)],!0})}},{key:"removeAll",value:function(){for(;this.telecharts.length;){delete window["telechart".concat(this.telecharts.length-1)];var e=this.telecharts.pop();this.xframes.remove(e.UUID)}}},{key:"setupCustomControls",value:function(e,t){}}])&&m(t.prototype,n),r&&m(t,r),e}();window.app=new $}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Telechart=t():e.Telechart=t();